import{g as rn,i as Qe,r as na,c as ie,a as Zn,d as ne,p as th,h as rh,e as nh}from"./index.ad008f8a.js";import{e as Xn,b as ei,B as ae}from"./index.37a59bf8.js";function ih(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var ia={},Gr={},ti={};Object.defineProperty(ti,"__esModule",{value:!0});ti.walletLogo=void 0;const oh=(t,e)=>{let r;switch(t){case"standard":return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return r=e,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${r}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};ti.walletLogo=oh;var ri={};Object.defineProperty(ri,"__esModule",{value:!0});ri.ScopedLocalStorage=void 0;class sh{constructor(e){this.scope=e}setItem(e,r){localStorage.setItem(this.scopedKey(e),r)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);typeof i=="string"&&i.startsWith(e)&&r.push(i)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(e){return`${this.scope}:${e}`}}ri.ScopedLocalStorage=sh;var fr={},_r={};Object.defineProperty(_r,"__esModule",{value:!0});const ah=Xn.exports;function Qa(t,e,r){try{Reflect.apply(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function uh(t){const e=t.length,r=new Array(e);for(let n=0;n<e;n+=1)r[n]=t[n];return r}class ch extends ah.EventEmitter{emit(e,...r){let n=e==="error";const i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let s;if(r.length>0&&([s]=r),s instanceof Error)throw s;const a=new Error(`Unhandled error.${s?` (${s.message})`:""}`);throw a.context=s,a}const o=i[e];if(o===void 0)return!1;if(typeof o=="function")Qa(o,this,r);else{const s=o.length,a=uh(o);for(let u=0;u<s;u+=1)Qa(a[u],this,r)}return!0}}_r.default=ch;var ni={},At={},Ec=Qr;Qr.default=Qr;Qr.stable=Cc;Qr.stableStringify=Cc;var Fn="[...]",xc="[Circular]",Ut=[],Ft=[];function Ac(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function Qr(t,e,r,n){typeof n>"u"&&(n=Ac()),Ls(t,"",0,[],void 0,0,n);var i;try{Ft.length===0?i=JSON.stringify(t,e,r):i=JSON.stringify(t,Ic(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Ut.length!==0;){var o=Ut.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return i}function sr(t,e,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:t}),Ut.push([n,r,e,i])):Ft.push([e,r,t]):(n[r]=t,Ut.push([n,r,e]))}function Ls(t,e,r,n,i,o,s){o+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){sr(xc,t,e,i);return}if(typeof s.depthLimit<"u"&&o>s.depthLimit){sr(Fn,t,e,i);return}if(typeof s.edgesLimit<"u"&&r+1>s.edgesLimit){sr(Fn,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)Ls(t[a],a,a,n,t,o,s);else{var u=Object.keys(t);for(a=0;a<u.length;a++){var c=u[a];Ls(t[c],c,a,n,t,o,s)}}n.pop()}}function lh(t,e){return t<e?-1:t>e?1:0}function Cc(t,e,r,n){typeof n>"u"&&(n=Ac());var i=Bs(t,"",0,[],void 0,0,n)||t,o;try{Ft.length===0?o=JSON.stringify(i,e,r):o=JSON.stringify(i,Ic(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Ut.length!==0;){var s=Ut.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return o}function Bs(t,e,r,n,i,o,s){o+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){sr(xc,t,e,i);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof s.depthLimit<"u"&&o>s.depthLimit){sr(Fn,t,e,i);return}if(typeof s.edgesLimit<"u"&&r+1>s.edgesLimit){sr(Fn,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)Bs(t[a],a,a,n,t,o,s);else{var u={},c=Object.keys(t).sort(lh);for(a=0;a<c.length;a++){var l=c[a];Bs(t[l],l,a,n,t,o,s),u[l]=t[l]}if(typeof i<"u")Ut.push([i,e,t]),i[e]=u;else return u}n.pop()}}function Ic(t){return t=typeof t<"u"?t:function(e,r){return r},function(e,r){if(Ft.length>0)for(var n=0;n<Ft.length;n++){var i=Ft[n];if(i[1]===e&&i[0]===r){r=i[2],Ft.splice(n,1);break}}return t.call(this,e,r)}}Object.defineProperty(At,"__esModule",{value:!0});At.EthereumProviderError=At.EthereumRpcError=void 0;const fh=Ec;class kc extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return fh.default(this.serialize(),ph,2)}}At.EthereumRpcError=kc;class hh extends kc{constructor(e,r,n){if(!dh(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}At.EthereumProviderError=hh;function dh(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function ph(t,e){if(e!=="[Circular]")return e}var oa={},Ct={};Object.defineProperty(Ct,"__esModule",{value:!0});Ct.errorValues=Ct.errorCodes=void 0;Ct.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};Ct.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=Ct,r=At,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",o={code:n,message:s(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function s(f,b=i){if(Number.isInteger(f)){const E=f.toString();if(y(e.errorValues,E))return e.errorValues[E].message;if(c(f))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return b}t.getMessageFromCode=s;function a(f){if(!Number.isInteger(f))return!1;const b=f.toString();return!!(e.errorValues[b]||c(f))}t.isValidCode=a;function u(f,{fallbackError:b=o,shouldIncludeStack:E=!1}={}){var C,N;if(!b||!Number.isInteger(b.code)||typeof b.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(f instanceof r.EthereumRpcError)return f.serialize();const p={};if(f&&typeof f=="object"&&!Array.isArray(f)&&y(f,"code")&&a(f.code)){const x=f;p.code=x.code,x.message&&typeof x.message=="string"?(p.message=x.message,y(x,"data")&&(p.data=x.data)):(p.message=s(p.code),p.data={originalError:l(f)})}else{p.code=b.code;const x=(C=f)===null||C===void 0?void 0:C.message;p.message=x&&typeof x=="string"?x:b.message,p.data={originalError:l(f)}}const m=(N=f)===null||N===void 0?void 0:N.stack;return E&&f&&m&&typeof m=="string"&&(p.stack=m),p}t.serializeError=u;function c(f){return f>=-32099&&f<=-32e3}function l(f){return f&&typeof f=="object"&&!Array.isArray(f)?Object.assign({},f):f}function y(f,b){return Object.prototype.hasOwnProperty.call(f,b)}})(oa);var ii={};Object.defineProperty(ii,"__esModule",{value:!0});ii.ethErrors=void 0;const sa=At,Rc=oa,Me=Ct;ii.ethErrors={rpc:{parse:t=>Ue(Me.errorCodes.rpc.parse,t),invalidRequest:t=>Ue(Me.errorCodes.rpc.invalidRequest,t),invalidParams:t=>Ue(Me.errorCodes.rpc.invalidParams,t),methodNotFound:t=>Ue(Me.errorCodes.rpc.methodNotFound,t),internal:t=>Ue(Me.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Ue(e,t)},invalidInput:t=>Ue(Me.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>Ue(Me.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>Ue(Me.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>Ue(Me.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>Ue(Me.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>Ue(Me.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Nr(Me.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>Nr(Me.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>Nr(Me.errorCodes.provider.unsupportedMethod,t),disconnected:t=>Nr(Me.errorCodes.provider.disconnected,t),chainDisconnected:t=>Nr(Me.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new sa.EthereumProviderError(e,r,n)}}};function Ue(t,e){const[r,n]=Mc(e);return new sa.EthereumRpcError(t,r||Rc.getMessageFromCode(t),n)}function Nr(t,e){const[r,n]=Mc(e);return new sa.EthereumProviderError(t,r||Rc.getMessageFromCode(t),n)}function Mc(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=At;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=oa;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=ii;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=Ct;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(ni);var Sr={};Object.defineProperty(Sr,"__esModule",{value:!0});Sr.EVENTS=void 0;Sr.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var Er={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Fs=function(t,e){return Fs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Fs(t,e)};function D(t,e){Fs(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function hr(t){return typeof t=="function"}var Ya=!1,ze={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;""+e.stack}Ya=t},get useDeprecatedSynchronousErrorHandling(){return Ya}};function nr(t){setTimeout(function(){throw t},0)}var $n={closed:!0,next:function(t){},error:function(t){if(ze.useDeprecatedSynchronousErrorHandling)throw t;nr(t)},complete:function(){}},Le=function(){return Array.isArray||function(t){return t&&typeof t.length=="number"}}();function aa(t){return t!==null&&typeof t=="object"}var yh=function(){function t(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(r,n){return n+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t}(),Wr=yh,ve=function(){function t(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,n=r._parentOrParents,i=r._ctorUnsubscribe,o=r._unsubscribe,s=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(n!==null)for(var a=0;a<n.length;++a){var u=n[a];u.remove(this)}if(hr(o)){i&&(this._unsubscribe=void 0);try{o.call(this)}catch(y){e=y instanceof Wr?Ka(y.errors):[y]}}if(Le(s))for(var a=-1,c=s.length;++a<c;){var l=s[a];if(aa(l))try{l.unsubscribe()}catch(f){e=e||[],f instanceof Wr?e=e.concat(Ka(f.errors)):e.push(f)}}if(e)throw new Wr(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||typeof r.unsubscribe!="function")return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;r=new t,r._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=r._parentOrParents;if(i===null)r._parentOrParents=this;else if(i instanceof t){if(i===this)return r;r._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return r;var o=this._subscriptions;return o===null?this._subscriptions=[r]:o.push(r),r},t.prototype.remove=function(e){var r=this._subscriptions;if(r){var n=r.indexOf(e);n!==-1&&r.splice(n,1)}},t.EMPTY=function(e){return e.closed=!0,e}(new t),t}();function Ka(t){return t.reduce(function(e,r){return e.concat(r instanceof Wr?r.errors:r)},[])}var Wn=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),X=function(t){D(e,t);function e(r,n,i){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=$n;break;case 1:if(!r){o.destination=$n;break}if(typeof r=="object"){r instanceof e?(o.syncErrorThrowable=r.syncErrorThrowable,o.destination=r,r.add(o)):(o.syncErrorThrowable=!0,o.destination=new Ja(o,r));break}default:o.syncErrorThrowable=!0,o.destination=new Ja(o,r,n,i);break}return o}return e.prototype[Wn]=function(){return this},e.create=function(r,n,i){var o=new e(r,n,i);return o.syncErrorThrowable=!1,o},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var r=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this},e}(ve),Ja=function(t){D(e,t);function e(r,n,i,o){var s=t.call(this)||this;s._parentSubscriber=r;var a,u=s;return hr(n)?a=n:n&&(a=n.next,i=n.error,o=n.complete,n!==$n&&(u=Object.create(n),hr(u.unsubscribe)&&s.add(u.unsubscribe.bind(u)),u.unsubscribe=s.unsubscribe.bind(s))),s._context=u,s._next=a,s._error=i,s._complete=o,s}return e.prototype.next=function(r){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!ze.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,r):this.__tryOrSetError(n,this._next,r)&&this.unsubscribe()}},e.prototype.error=function(r){if(!this.isStopped){var n=this._parentSubscriber,i=ze.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,r),this.unsubscribe()):(this.__tryOrSetError(n,this._error,r),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=r,n.syncErrorThrown=!0):nr(r),this.unsubscribe();else{if(this.unsubscribe(),i)throw r;nr(r)}}},e.prototype.complete=function(){var r=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var i=function(){return r._complete.call(r._context)};!ze.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(n,i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(r,n){try{r.call(this._context,n)}catch(i){if(this.unsubscribe(),ze.useDeprecatedSynchronousErrorHandling)throw i;nr(i)}},e.prototype.__tryOrSetError=function(r,n,i){if(!ze.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(o){return ze.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=o,r.syncErrorThrown=!0,!0):(nr(o),!0)}return!1},e.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},e}(X);function ua(t){for(;t;){var e=t,r=e.closed,n=e.destination,i=e.isStopped;if(r||i)return!1;n&&n instanceof X?t=n:t=null}return!0}function bh(t,e,r){if(t){if(t instanceof X)return t;if(t[Wn])return t[Wn]()}return!t&&!e&&!r?new X($n):new X(t,e,r)}var xr=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function It(t){return t}function $s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Oc(t)}function Oc(t){return t.length===0?It:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var oe=function(){function t(e){this._isScalar=!1,e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this.operator,o=bh(e,r,n);if(i?o.add(i.call(o,this.source)):o.add(this.source||ze.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),ze.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){ze.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=r),ua(e)?e.error(r):console.warn(r)}},t.prototype.forEach=function(e,r){var n=this;return r=Za(r),new r(function(i,o){var s;s=n.subscribe(function(a){try{e(a)}catch(u){o(u),s&&s.unsubscribe()}},o,i)})},t.prototype._subscribe=function(e){var r=this.source;return r&&r.subscribe(e)},t.prototype[xr]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length===0?this:Oc(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=Za(e),new e(function(n,i){var o;r.subscribe(function(s){return o=s},function(s){return i(s)},function(){return n(o)})})},t.create=function(e){return new t(e)},t}();function Za(t){if(t||(t=ze.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var gh=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),St=gh,Tc=function(t){D(e,t);function e(r,n){var i=t.call(this)||this;return i.subject=r,i.subscriber=n,i.closed=!1,i}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var r=this.subject,n=r.observers;if(this.subject=null,!(!n||n.length===0||r.isStopped||r.closed)){var i=n.indexOf(this.subscriber);i!==-1&&n.splice(i,1)}}},e}(ve),Pc=function(t){D(e,t);function e(r){var n=t.call(this,r)||this;return n.destination=r,n}return e}(X),Ce=function(t){D(e,t);function e(){var r=t.call(this)||this;return r.observers=[],r.closed=!1,r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype[Wn]=function(){return new Pc(this)},e.prototype.lift=function(r){var n=new Xa(this,this);return n.operator=r,n},e.prototype.next=function(r){if(this.closed)throw new St;if(!this.isStopped)for(var n=this.observers,i=n.length,o=n.slice(),s=0;s<i;s++)o[s].next(r)},e.prototype.error=function(r){if(this.closed)throw new St;this.hasError=!0,this.thrownError=r,this.isStopped=!0;for(var n=this.observers,i=n.length,o=n.slice(),s=0;s<i;s++)o[s].error(r);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new St;this.isStopped=!0;for(var r=this.observers,n=r.length,i=r.slice(),o=0;o<n;o++)i[o].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(r){if(this.closed)throw new St;return t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){if(this.closed)throw new St;return this.hasError?(r.error(this.thrownError),ve.EMPTY):this.isStopped?(r.complete(),ve.EMPTY):(this.observers.push(r),new Tc(this,r))},e.prototype.asObservable=function(){var r=new oe;return r.source=this,r},e.create=function(r,n){return new Xa(r,n)},e}(oe),Xa=function(t){D(e,t);function e(r,n){var i=t.call(this)||this;return i.destination=r,i.source=n,i}return e.prototype.next=function(r){var n=this.destination;n&&n.next&&n.next(r)},e.prototype.error=function(r){var n=this.destination;n&&n.error&&this.destination.error(r)},e.prototype.complete=function(){var r=this.destination;r&&r.complete&&this.destination.complete()},e.prototype._subscribe=function(r){var n=this.source;return n?this.source.subscribe(r):ve.EMPTY},e}(Ce);function ca(){return function(e){return e.lift(new vh(e))}}var vh=function(){function t(e){this.connectable=e}return t.prototype.call=function(e,r){var n=this.connectable;n._refCount++;var i=new mh(e,n),o=r.subscribe(i);return i.closed||(i.connection=n.connect()),o},t}(),mh=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var r=this.connectable;if(!r){this.connection=null;return}this.connectable=null;var n=r._refCount;if(n<=0){this.connection=null;return}if(r._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,o=r._connection;this.connection=null,o&&(!i||o===i)&&o.unsubscribe()},e}(X),Nc=function(t){D(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return e.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},e.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var r=this._connection;return r||(this._isComplete=!1,r=this._connection=new ve,r.add(this.source.subscribe(new _h(this.getSubject(),this))),r.closed&&(this._connection=null,r=ve.EMPTY)),r},e.prototype.refCount=function(){return ca()(this)},e}(oe),wh=function(){var t=Nc.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),_h=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._error=function(r){this._unsubscribe(),t.prototype._error.call(this,r)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.connectable;if(r){this.connectable=null;var n=r._connection;r._refCount=0,r._subject=null,r._connection=null,n&&n.unsubscribe()}},e}(Pc);function Sh(t,e,r,n){return function(i){return i.lift(new Eh(t,e,r,n))}}var Eh=function(){function t(e,r,n,i){this.keySelector=e,this.elementSelector=r,this.durationSelector=n,this.subjectSelector=i}return t.prototype.call=function(e,r){return r.subscribe(new xh(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),xh=function(t){D(e,t);function e(r,n,i,o,s){var a=t.call(this,r)||this;return a.keySelector=n,a.elementSelector=i,a.durationSelector=o,a.subjectSelector=s,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return e.prototype._next=function(r){var n;try{n=this.keySelector(r)}catch(i){this.error(i);return}this._group(r,n)},e.prototype._group=function(r,n){var i=this.groups;i||(i=this.groups=new Map);var o=i.get(n),s;if(this.elementSelector)try{s=this.elementSelector(r)}catch(c){this.error(c)}else s=r;if(!o){o=this.subjectSelector?this.subjectSelector():new Ce,i.set(n,o);var a=new Ws(n,o,this);if(this.destination.next(a),this.durationSelector){var u=void 0;try{u=this.durationSelector(new Ws(n,o))}catch(c){this.error(c);return}this.add(u.subscribe(new Ah(n,o,this)))}}o.closed||o.next(s)},e.prototype._error=function(r){var n=this.groups;n&&(n.forEach(function(i,o){i.error(r)}),n.clear()),this.destination.error(r)},e.prototype._complete=function(){var r=this.groups;r&&(r.forEach(function(n,i){n.complete()}),r.clear()),this.destination.complete()},e.prototype.removeGroup=function(r){this.groups.delete(r)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&t.prototype.unsubscribe.call(this))},e}(X),Ah=function(t){D(e,t);function e(r,n,i){var o=t.call(this,n)||this;return o.key=r,o.group=n,o.parent=i,o}return e.prototype._next=function(r){this.complete()},e.prototype._unsubscribe=function(){var r=this,n=r.parent,i=r.key;this.key=this.parent=null,n&&n.removeGroup(i)},e}(X),Ws=function(t){D(e,t);function e(r,n,i){var o=t.call(this)||this;return o.key=r,o.groupSubject=n,o.refCountSubscription=i,o}return e.prototype._subscribe=function(r){var n=new ve,i=this,o=i.refCountSubscription,s=i.groupSubject;return o&&!o.closed&&n.add(new Ch(o)),n.add(s.subscribe(r)),n},e}(oe),Ch=function(t){D(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,r.count++,n}return e.prototype.unsubscribe=function(){var r=this.parent;!r.closed&&!this.closed&&(t.prototype.unsubscribe.call(this),r.count-=1,r.count===0&&r.attemptedToUnsubscribe&&r.unsubscribe())},e}(ve),jc=function(t){D(e,t);function e(r){var n=t.call(this)||this;return n._value=r,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(r){var n=t.prototype._subscribe.call(this,r);return n&&!n.closed&&r.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new St;return this._value},e.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},e}(Ce),Ih=function(t){D(e,t);function e(r,n){return t.call(this)||this}return e.prototype.schedule=function(r,n){return this},e}(ve),nn=function(t){D(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),this.closed)return this;this.state=r;var i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(o,this.id,n),this},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),setInterval(r.flush.bind(r,this),i)},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return n;clearInterval(n)},e.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,n){var i=!1,o=void 0;try{this.work(r)}catch(s){i=!0,o=!!s&&s||new Error(s)}if(i)return this.unsubscribe(),o},e.prototype._unsubscribe=function(){var r=this.id,n=this.scheduler,i=n.actions,o=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,o!==-1&&i.splice(o,1),r!=null&&(this.id=this.recycleAsyncId(n,r,null)),this.delay=null},e}(Ih),kh=function(t){D(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.schedule=function(r,n){return n===void 0&&(n=0),n>0?t.prototype.schedule.call(this,r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)},e.prototype.execute=function(r,n){return n>0||this.closed?t.prototype.execute.call(this,r,n):this._execute(r,n)},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?t.prototype.requestAsyncId.call(this,r,n,i):r.flush(this)},e}(nn),Us=function(){function t(e,r){r===void 0&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(e,r,n){return r===void 0&&(r=0),new this.SchedulerAction(this,e).schedule(n,r)},t.now=function(){return Date.now()},t}(),on=function(t){D(e,t);function e(r,n){n===void 0&&(n=Us.now);var i=t.call(this,r,function(){return e.delegate&&e.delegate!==i?e.delegate.now():n()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return e.prototype.schedule=function(r,n,i){return n===void 0&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(r,n,i):t.prototype.schedule.call(this,r,n,i)},e.prototype.flush=function(r){var n=this.actions;if(this.active){n.push(r);return}var i;this.active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this.active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},e}(Us),Rh=function(t){D(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(on),Dc=new Rh(kh),Lc=Dc,dr=new oe(function(t){return t.complete()});function Ar(t){return t?Mh(t):dr}function Mh(t){return new oe(function(e){return t.schedule(function(){return e.complete()})})}function We(t){return t&&typeof t.schedule=="function"}var Bc=function(t){return function(e){for(var r=0,n=t.length;r<n&&!e.closed;r++)e.next(t[r]);e.complete()}};function la(t,e){return new oe(function(r){var n=new ve,i=0;return n.add(e.schedule(function(){if(i===t.length){r.complete();return}r.next(t[i++]),r.closed||n.add(this.schedule())})),n})}function sn(t,e){return e?la(t,e):new oe(Bc(t))}function oi(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return We(r)?(t.pop(),la(t,r)):sn(t)}function fa(t,e){return e?new oe(function(r){return e.schedule(Oh,0,{error:t,subscriber:r})}):new oe(function(r){return r.error(t)})}function Oh(t){var e=t.error,r=t.subscriber;r.error(e)}var Hs;Hs||(Hs={});var pt=function(){function t(e,r,n){this.kind=e,this.value=r,this.error=n,this.hasValue=e==="N"}return t.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},t.prototype.do=function(e,r,n){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return r&&r(this.error);case"C":return n&&n()}},t.prototype.accept=function(e,r,n){return e&&typeof e.next=="function"?this.observe(e):this.do(e,r,n)},t.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return oi(this.value);case"E":return fa(this.error);case"C":return Ar()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return typeof e<"u"?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();function Th(t,e){return e===void 0&&(e=0),function(n){return n.lift(new Ph(t,e))}}var Ph=function(){function t(e,r){r===void 0&&(r=0),this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return r.subscribe(new Fc(e,this.scheduler,this.delay))},t}(),Fc=function(t){D(e,t);function e(r,n,i){i===void 0&&(i=0);var o=t.call(this,r)||this;return o.scheduler=n,o.delay=i,o}return e.dispatch=function(r){var n=r.notification,i=r.destination;n.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(r){var n=this.destination;n.add(this.scheduler.schedule(e.dispatch,this.delay,new Nh(r,this.destination)))},e.prototype._next=function(r){this.scheduleMessage(pt.createNext(r))},e.prototype._error=function(r){this.scheduleMessage(pt.createError(r)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(pt.createComplete()),this.unsubscribe()},e}(X),Nh=function(){function t(e,r){this.notification=e,this.destination=r}return t}(),ha=function(t){D(e,t);function e(r,n,i){r===void 0&&(r=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var o=t.call(this)||this;return o.scheduler=i,o._events=[],o._infiniteTimeWindow=!1,o._bufferSize=r<1?1:r,o._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(o._infiniteTimeWindow=!0,o.next=o.nextInfiniteTimeWindow):o.next=o.nextTimeWindow,o}return e.prototype.nextInfiniteTimeWindow=function(r){if(!this.isStopped){var n=this._events;n.push(r),n.length>this._bufferSize&&n.shift()}t.prototype.next.call(this,r)},e.prototype.nextTimeWindow=function(r){this.isStopped||(this._events.push(new jh(this._getNow(),r)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,r)},e.prototype._subscribe=function(r){var n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,s=i.length,a;if(this.closed)throw new St;if(this.isStopped||this.hasError?a=ve.EMPTY:(this.observers.push(r),a=new Tc(this,r)),o&&r.add(r=new Fc(r,o)),n)for(var u=0;u<s&&!r.closed;u++)r.next(i[u]);else for(var u=0;u<s&&!r.closed;u++)r.next(i[u].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),a},e.prototype._getNow=function(){return(this.scheduler||Lc).now()},e.prototype._trimBufferThenGetEvents=function(){for(var r=this._getNow(),n=this._bufferSize,i=this._windowTime,o=this._events,s=o.length,a=0;a<s&&!(r-o[a].time<i);)a++;return s>n&&(a=Math.max(a,s-n)),a>0&&o.splice(0,a),o},e}(Ce),jh=function(){function t(e,r){this.time=e,this.value=r}return t}(),Cr=function(t){D(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.value=null,r.hasNext=!1,r.hasCompleted=!1,r}return e.prototype._subscribe=function(r){return this.hasError?(r.error(this.thrownError),ve.EMPTY):this.hasCompleted&&this.hasNext?(r.next(this.value),r.complete(),ve.EMPTY):t.prototype._subscribe.call(this,r)},e.prototype.next=function(r){this.hasCompleted||(this.value=r,this.hasNext=!0)},e.prototype.error=function(r){this.hasCompleted||t.prototype.error.call(this,r)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(Ce),Dh=1,Lh=function(){return Promise.resolve()}(),Vs={};function eu(t){return t in Vs?(delete Vs[t],!0):!1}var tu={setImmediate:function(t){var e=Dh++;return Vs[e]=!0,Lh.then(function(){return eu(e)&&t()}),e},clearImmediate:function(t){eu(t)}},Bh=function(t){D(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=tu.setImmediate(r.flush.bind(r,null))))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(tu.clearImmediate(n),r.scheduled=void 0)},e}(nn),Fh=function(t){D(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,o=-1,s=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++o<s&&(r=n.shift()));if(this.active=!1,i){for(;++o<s&&(r=n.shift());)r.unsubscribe();throw i}},e}(on),$c=new Fh(Bh),Pn=$c,Wc=new on(nn),Be=Wc,$h=function(t){D(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=requestAnimationFrame(function(){return r.flush(null)})))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(cancelAnimationFrame(n),r.scheduled=void 0)},e}(nn),Wh=function(t){D(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,o=-1,s=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++o<s&&(r=n.shift()));if(this.active=!1,i){for(;++o<s&&(r=n.shift());)r.unsubscribe();throw i}},e}(on),Uc=new Wh($h),Uh=Uc,Hh=function(t){D(e,t);function e(r,n){r===void 0&&(r=Hc),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=t.call(this,r,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var r=this,n=r.actions,i=r.maxFrames,o,s;(s=n[0])&&s.delay<=i&&(n.shift(),this.frame=s.delay,!(o=s.execute(s.state,s.delay))););if(o){for(;s=n.shift();)s.unsubscribe();throw o}},e.frameTimeFactor=10,e}(on),Hc=function(t){D(e,t);function e(r,n,i){i===void 0&&(i=r.index+=1);var o=t.call(this,r,n)||this;return o.scheduler=r,o.work=n,o.index=i,o.active=!0,o.index=r.index=i,o}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),!this.id)return t.prototype.schedule.call(this,r,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},e.prototype.requestAsyncId=function(r,n,i){i===void 0&&(i=0),this.delay=r.frame+i;var o=r.actions;return o.push(this),o.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(r,n,i){},e.prototype._execute=function(r,n){if(this.active===!0)return t.prototype._execute.call(this,r,n)},e.sortActions=function(r,n){return r.delay===n.delay?r.index===n.index?0:r.index>n.index?1:-1:r.delay>n.delay?1:-1},e}(nn);function ot(){}function Vh(t){return!!t&&(t instanceof oe||typeof t.lift=="function"&&typeof t.subscribe=="function")}var zh=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),pr=zh,qh=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),an=qh,Gh=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}(),Vc=Gh;function Ye(t,e){return function(n){if(typeof t!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new Qh(t,e))}}var Qh=function(){function t(e,r){this.project=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new Yh(e,this.project,this.thisArg))},t}(),Yh=function(t){D(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.project=n,o.count=0,o.thisArg=i||o,o}return e.prototype._next=function(r){var n;try{n=this.project.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(X);function zc(t,e,r){if(e)if(We(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return zc(t,r).apply(void 0,n).pipe(Ye(function(o){return Le(o)?e.apply(void 0,o):e(o)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=this,s,a={context:o,subject:s,callbackFunc:t,scheduler:r};return new oe(function(u){if(r){var l={args:n,subscriber:u,params:a};return r.schedule(Kh,0,l)}else{if(!s){s=new Cr;var c=function(){for(var y=[],f=0;f<arguments.length;f++)y[f]=arguments[f];s.next(y.length<=1?y[0]:y),s.complete()};try{t.apply(o,n.concat([c]))}catch(y){ua(s)?s.error(y):console.warn(y)}}return s.subscribe(u)}})}}function Kh(t){var e=this,r=t.args,n=t.subscriber,i=t.params,o=i.callbackFunc,s=i.context,a=i.scheduler,u=i.subject;if(!u){u=i.subject=new Cr;var c=function(){for(var l=[],y=0;y<arguments.length;y++)l[y]=arguments[y];var f=l.length<=1?l[0]:l;e.add(a.schedule(Jh,0,{value:f,subject:u}))};try{o.apply(s,r.concat([c]))}catch(l){u.error(l)}}this.add(u.subscribe(n))}function Jh(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function qc(t,e,r){if(e)if(We(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return qc(t,r).apply(void 0,n).pipe(Ye(function(o){return Le(o)?e.apply(void 0,o):e(o)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o={subject:void 0,args:n,callbackFunc:t,scheduler:r,context:this};return new oe(function(s){var a=o.context,u=o.subject;if(r)return r.schedule(Zh,0,{params:o,subscriber:s,context:a});if(!u){u=o.subject=new Cr;var c=function(){for(var l=[],y=0;y<arguments.length;y++)l[y]=arguments[y];var f=l.shift();if(f){u.error(f);return}u.next(l.length<=1?l[0]:l),u.complete()};try{t.apply(a,n.concat([c]))}catch(l){ua(u)?u.error(l):console.warn(l)}}return u.subscribe(s)})}}function Zh(t){var e=this,r=t.params,n=t.subscriber,i=t.context,o=r.callbackFunc,s=r.args,a=r.scheduler,u=r.subject;if(!u){u=r.subject=new Cr;var c=function(){for(var l=[],y=0;y<arguments.length;y++)l[y]=arguments[y];var f=l.shift();if(f)e.add(a.schedule(ru,0,{err:f,subject:u}));else{var b=l.length<=1?l[0]:l;e.add(a.schedule(Xh,0,{value:b,subject:u}))}};try{o.apply(i,s.concat([c]))}catch(l){this.add(a.schedule(ru,0,{err:l,subject:u}))}}this.add(u.subscribe(n))}function Xh(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function ru(t){var e=t.err,r=t.subject;r.error(e)}var qt=function(t){D(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r,n,i,o,s){this.destination.next(n)},e.prototype.notifyError=function(r,n){this.destination.error(r)},e.prototype.notifyComplete=function(r){this.destination.complete()},e}(X),ed=function(t){D(e,t);function e(r,n,i){var o=t.call(this)||this;return o.parent=r,o.outerValue=n,o.outerIndex=i,o.index=0,o}return e.prototype._next=function(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)},e.prototype._error=function(r){this.parent.notifyError(r,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(X),td=function(t){return function(e){return t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,nr),e}};function rd(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var kt=rd(),nd=function(t){return function(e){var r=t[kt]();do{var n=void 0;try{n=r.next()}catch(i){return e.error(i),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}while(!0);return typeof r.return=="function"&&e.add(function(){r.return&&r.return()}),e}},id=function(t){return function(e){var r=t[xr]();if(typeof r.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(e)}},Gc=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function Qc(t){return!!t&&typeof t.subscribe!="function"&&typeof t.then=="function"}var Yr=function(t){if(!!t&&typeof t[xr]=="function")return id(t);if(Gc(t))return Bc(t);if(Qc(t))return td(t);if(!!t&&typeof t[kt]=="function")return nd(t);var e=aa(t)?"an invalid object":"'"+t+"'",r="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(r)};function yt(t,e,r,n,i){if(i===void 0&&(i=new ed(t,r,n)),!i.closed)return e instanceof oe?e.subscribe(i):Yr(e)(i)}var nu={};function od(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=void 0,n=void 0;return We(t[t.length-1])&&(n=t.pop()),typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&Le(t[0])&&(t=t[0]),sn(t,n).lift(new da(r))}var da=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new sd(e,this.resultSelector))},t}(),sd=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return e.prototype._next=function(r){this.values.push(nu),this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var i=0;i<n;i++){var o=r[i];this.add(yt(this,o,void 0,i))}}},e.prototype.notifyComplete=function(r){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(r,n,i){var o=this.values,s=o[i],a=this.toRespond?s===nu?--this.toRespond:this.toRespond:0;o[i]=n,a===0&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},e.prototype._tryResultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(qt);function ad(t,e){return new oe(function(r){var n=new ve;return n.add(e.schedule(function(){var i=t[xr]();n.add(i.subscribe({next:function(o){n.add(e.schedule(function(){return r.next(o)}))},error:function(o){n.add(e.schedule(function(){return r.error(o)}))},complete:function(){n.add(e.schedule(function(){return r.complete()}))}}))})),n})}function ud(t,e){return new oe(function(r){var n=new ve;return n.add(e.schedule(function(){return t.then(function(i){n.add(e.schedule(function(){r.next(i),n.add(e.schedule(function(){return r.complete()}))}))},function(i){n.add(e.schedule(function(){return r.error(i)}))})})),n})}function cd(t,e){if(!t)throw new Error("Iterable cannot be null");return new oe(function(r){var n=new ve,i;return n.add(function(){i&&typeof i.return=="function"&&i.return()}),n.add(e.schedule(function(){i=t[kt](),n.add(e.schedule(function(){if(!r.closed){var o,s;try{var a=i.next();o=a.value,s=a.done}catch(u){r.error(u);return}s?r.complete():(r.next(o),this.schedule())}}))})),n})}function ld(t){return t&&typeof t[xr]=="function"}function fd(t){return t&&typeof t[kt]=="function"}function Yc(t,e){if(t!=null){if(ld(t))return ad(t,e);if(Qc(t))return ud(t,e);if(Gc(t))return la(t,e);if(fd(t)||typeof t=="string")return cd(t,e)}throw new TypeError((t!==null&&typeof t||t)+" is not observable")}function gt(t,e){return e?Yc(t,e):t instanceof oe?t:new oe(Yr(t))}var me=function(t){D(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,n}return e.prototype._next=function(r){this.parent.notifyNext(r)},e.prototype._error=function(r){this.parent.notifyError(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(X),we=function(t){D(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(X);function _e(t,e){if(!e.closed){if(t instanceof oe)return t.subscribe(e);var r;try{r=Yr(t)(e)}catch(n){e.error(n)}return r}}function Ht(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?function(n){return n.pipe(Ht(function(i,o){return gt(t(i,o)).pipe(Ye(function(s,a){return e(i,s,o,a)}))},r))}:(typeof e=="number"&&(r=e),function(n){return n.lift(new hd(t,r))})}var hd=function(){function t(e,r){r===void 0&&(r=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=r}return t.prototype.call=function(e,r){return r.subscribe(new dd(e,this.project,this.concurrent))},t}(),dd=function(t){D(e,t);function e(r,n,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var o=t.call(this,r)||this;return o.project=n,o.concurrent=i,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return e.prototype._next=function(r){this.active<this.concurrent?this._tryNext(r):this.buffer.push(r)},e.prototype._tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(o){this.destination.error(o);return}this.active++,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new me(this),i=this.destination;i.add(n);var o=_e(r,n);o!==n&&i.add(o)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(we),pd=Ht;function pa(t){return t===void 0&&(t=Number.POSITIVE_INFINITY),Ht(It,t)}function Kc(){return pa(1)}function Kr(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Kc()(oi.apply(void 0,t))}function ya(t){return new oe(function(e){var r;try{r=t()}catch(i){e.error(i);return}var n=r?gt(r):Ar();return n.subscribe(e)})}function yd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1){var r=t[0];if(Le(r))return Sn(r,null);if(aa(r)&&Object.getPrototypeOf(r)===Object.prototype){var n=Object.keys(r);return Sn(n.map(function(o){return r[o]}),n)}}if(typeof t[t.length-1]=="function"){var i=t.pop();return t=t.length===1&&Le(t[0])?t[0]:t,Sn(t,null).pipe(Ye(function(o){return i.apply(void 0,o)}))}return Sn(t,null)}function Sn(t,e){return new oe(function(r){var n=t.length;if(n===0){r.complete();return}for(var i=new Array(n),o=0,s=0,a=function(c){var l=gt(t[c]),y=!1;r.add(l.subscribe({next:function(f){y||(y=!0,s++),i[c]=f},error:function(f){return r.error(f)},complete:function(){o++,(o===n||!y)&&(s===n&&r.next(e?e.reduce(function(f,b,E){return f[b]=i[E],f},{}):i),r.complete())}}))},u=0;u<n;u++)a(u)})}function Jc(t,e,r,n){return hr(r)&&(n=r,r=void 0),n?Jc(t,e,r).pipe(Ye(function(i){return Le(i)?n.apply(void 0,i):n(i)})):new oe(function(i){function o(s){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(s)}Zc(t,e,o,i,r)})}function Zc(t,e,r,n,i){var o;if(vd(t)){var s=t;t.addEventListener(e,r,i),o=function(){return s.removeEventListener(e,r,i)}}else if(gd(t)){var a=t;t.on(e,r),o=function(){return a.off(e,r)}}else if(bd(t)){var u=t;t.addListener(e,r),o=function(){return u.removeListener(e,r)}}else if(t&&t.length)for(var c=0,l=t.length;c<l;c++)Zc(t[c],e,r,n,i);else throw new TypeError("Invalid event target");n.add(o)}function bd(t){return t&&typeof t.addListener=="function"&&typeof t.removeListener=="function"}function gd(t){return t&&typeof t.on=="function"&&typeof t.off=="function"}function vd(t){return t&&typeof t.addEventListener=="function"&&typeof t.removeEventListener=="function"}function Xc(t,e,r){return r?Xc(t,e).pipe(Ye(function(n){return Le(n)?r.apply(void 0,n):r(n)})):new oe(function(n){var i=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return n.next(s.length===1?s[0]:s)},o;try{o=t(i)}catch(s){n.error(s);return}if(!!hr(e))return function(){return e(i,o)}})}function md(t,e,r,n,i){var o,s;if(arguments.length==1){var a=t;s=a.initialState,e=a.condition,r=a.iterate,o=a.resultSelector||It,i=a.scheduler}else n===void 0||We(n)?(s=t,o=It,i=n):(s=t,o=n);return new oe(function(u){var c=s;if(i)return i.schedule(wd,0,{subscriber:u,iterate:r,condition:e,resultSelector:o,state:c});do{if(e){var l=void 0;try{l=e(c)}catch(f){u.error(f);return}if(!l){u.complete();break}}var y=void 0;try{y=o(c)}catch(f){u.error(f);return}if(u.next(y),u.closed)break;try{c=r(c)}catch(f){u.error(f);return}}while(!0)})}function wd(t){var e=t.subscriber,r=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(o){e.error(o);return}else t.needIterate=!0;if(r){var n=void 0;try{n=r(t.state)}catch(o){e.error(o);return}if(!n){e.complete();return}if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(o){e.error(o);return}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function _d(t,e,r){return e===void 0&&(e=dr),r===void 0&&(r=dr),ya(function(){return t()?e:r})}function yr(t){return!Le(t)&&t-parseFloat(t)+1>=0}function Sd(t,e){return t===void 0&&(t=0),e===void 0&&(e=Be),(!yr(t)||t<0)&&(t=0),(!e||typeof e.schedule!="function")&&(e=Be),new oe(function(r){return r.add(e.schedule(Ed,t,{subscriber:r,counter:0,period:t})),r})}function Ed(t){var e=t.subscriber,r=t.counter,n=t.period;e.next(r),this.schedule({subscriber:e,counter:r+1,period:n},n)}function el(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return We(i)?(n=t.pop(),t.length>1&&typeof t[t.length-1]=="number"&&(r=t.pop())):typeof i=="number"&&(r=t.pop()),n===null&&t.length===1&&t[0]instanceof oe?t[0]:pa(r)(sn(t,n))}var tl=new oe(ot);function xd(){return tl}function zs(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===0)return dr;var r=t[0],n=t.slice(1);return t.length===1&&Le(r)?zs.apply(void 0,r):new oe(function(i){var o=function(){return i.add(zs.apply(void 0,n).subscribe(i))};return gt(r).subscribe({next:function(s){i.next(s)},error:o,complete:o})})}function Ad(t,e){return e?new oe(function(r){var n=Object.keys(t),i=new ve;return i.add(e.schedule(Cd,0,{keys:n,index:0,subscriber:r,subscription:i,obj:t})),i}):new oe(function(r){for(var n=Object.keys(t),i=0;i<n.length&&!r.closed;i++){var o=n[i];t.hasOwnProperty(o)&&r.next([o,t[o]])}r.complete()})}function Cd(t){var e=t.keys,r=t.index,n=t.subscriber,i=t.subscription,o=t.obj;if(!n.closed)if(r<e.length){var s=e[r];n.next([s,o[s]]),i.add(this.schedule({keys:e,index:r+1,subscriber:n,subscription:i,obj:o}))}else n.complete()}function rl(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}function Rt(t,e){return function(n){return n.lift(new Id(t,e))}}var Id=function(){function t(e,r){this.predicate=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new kd(e,this.predicate,this.thisArg))},t}(),kd=function(t){D(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.predicate=n,o.thisArg=i,o.count=0,o}return e.prototype._next=function(r){var n;try{n=this.predicate.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(r)},e}(X);function Rd(t,e,r){return[Rt(e,r)(new oe(Yr(t))),Rt(rl(e,r))(new oe(Yr(t)))]}function nl(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1)if(Le(t[0]))t=t[0];else return t[0];return sn(t,void 0).lift(new Md)}var Md=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new Od(e))},t}(),Od=function(t){D(e,t);function e(r){var n=t.call(this,r)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return e.prototype._next=function(r){this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{for(var i=0;i<n&&!this.hasFirst;i++){var o=r[i],s=yt(this,o,void 0,i);this.subscriptions&&this.subscriptions.push(s),this.add(s)}this.observables=null}},e.prototype.notifyNext=function(r,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==i){var s=this.subscriptions[o];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(n)},e}(qt);function Td(t,e,r){return t===void 0&&(t=0),new oe(function(n){e===void 0&&(e=t,t=0);var i=0,o=t;if(r)return r.schedule(Pd,0,{index:i,count:e,start:t,subscriber:n});do{if(i++>=e){n.complete();break}if(n.next(o++),n.closed)break}while(!0)})}function Pd(t){var e=t.start,r=t.index,n=t.count,i=t.subscriber;if(r>=n){i.complete();return}i.next(e),!i.closed&&(t.index=r+1,t.start=e+1,this.schedule(t))}function il(t,e,r){t===void 0&&(t=0);var n=-1;return yr(e)?n=Number(e)<1&&1||Number(e):We(e)&&(r=e),We(r)||(r=Be),new oe(function(i){var o=yr(t)?t:+t-r.now();return r.schedule(Nd,o,{index:0,period:n,subscriber:i})})}function Nd(t){var e=t.index,r=t.period,n=t.subscriber;if(n.next(e),!n.closed){if(r===-1)return n.complete();t.index=e+1,this.schedule(t,r)}}function jd(t,e){return new oe(function(r){var n;try{n=t()}catch(a){r.error(a);return}var i;try{i=e(n)}catch(a){r.error(a);return}var o=i?gt(i):dr,s=o.subscribe(r);return function(){s.unsubscribe(),n&&n.unsubscribe()}})}function ol(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return typeof r=="function"&&t.pop(),sn(t,void 0).lift(new sl(r))}var sl=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Dd(e,this.resultSelector))},t}(),Dd=function(t){D(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.resultSelector=n,o.iterators=[],o.active=0,o.resultSelector=typeof n=="function"?n:void 0,o}return e.prototype._next=function(r){var n=this.iterators;Le(r)?n.push(new Bd(r)):typeof r[kt]=="function"?n.push(new Ld(r[kt]())):n.push(new Fd(this.destination,this,r))},e.prototype._complete=function(){var r=this.iterators,n=r.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var i=0;i<n;i++){var o=r[i];if(o.stillUnsubscribed){var s=this.destination;s.add(o.subscribe())}else this.active--}},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var r=this.iterators,n=r.length,i=this.destination,o=0;o<n;o++){var s=r[o];if(typeof s.hasValue=="function"&&!s.hasValue())return}for(var a=!1,u=[],o=0;o<n;o++){var s=r[o],c=s.next();if(s.hasCompleted()&&(a=!0),c.done){i.complete();return}u.push(c.value)}this.resultSelector?this._tryresultSelector(u):i.next(u),a&&i.complete()},e.prototype._tryresultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(X),Ld=function(){function t(e){this.iterator=e,this.nextResult=e.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},t.prototype.hasCompleted=function(){var e=this.nextResult;return Boolean(e&&e.done)},t}(),Bd=function(){function t(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return t.prototype[kt]=function(){return this},t.prototype.next=function(e){var r=this.index++,n=this.array;return r<this.length?{value:n[r],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),Fd=function(t){D(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.parent=n,o.observable=i,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return e.prototype[kt]=function(){return this},e.prototype.next=function(){var r=this.buffer;return r.length===0&&this.isComplete?{value:null,done:!0}:{value:r.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(r){this.buffer.push(r),this.parent.checkIterators()},e.prototype.subscribe=function(){return _e(this.observable,new me(this))},e}(we);const $d=Object.freeze(Object.defineProperty({__proto__:null,Observable:oe,ConnectableObservable:Nc,GroupedObservable:Ws,observable:xr,Subject:Ce,BehaviorSubject:jc,ReplaySubject:ha,AsyncSubject:Cr,asap:Pn,asapScheduler:$c,async:Be,asyncScheduler:Wc,queue:Lc,queueScheduler:Dc,animationFrame:Uh,animationFrameScheduler:Uc,VirtualTimeScheduler:Hh,VirtualAction:Hc,Scheduler:Us,Subscription:ve,Subscriber:X,Notification:pt,get NotificationKind(){return Hs},pipe:$s,noop:ot,identity:It,isObservable:Vh,ArgumentOutOfRangeError:pr,EmptyError:an,ObjectUnsubscribedError:St,UnsubscriptionError:Wr,TimeoutError:Vc,bindCallback:zc,bindNodeCallback:qc,combineLatest:od,concat:Kr,defer:ya,empty:Ar,forkJoin:yd,from:gt,fromEvent:Jc,fromEventPattern:Xc,generate:md,iif:_d,interval:Sd,merge:el,never:xd,of:oi,onErrorResumeNext:zs,pairs:Ad,partition:Rd,race:nl,range:Td,throwError:fa,timer:il,using:jd,zip:ol,scheduled:Yc,EMPTY:dr,NEVER:tl,config:ze},Symbol.toStringTag,{value:"Module"})),Ir=rn($d);function al(t){return function(r){return r.lift(new Wd(t))}}var Wd=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Ud(e,this.durationSelector))},t}(),Ud=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){if(this.value=r,this.hasValue=!0,!this.throttled){var n=void 0;try{var i=this.durationSelector;n=i(r)}catch(s){return this.destination.error(s)}var o=_e(n,new me(this));!o||o.closed?this.clearThrottle():this.add(this.throttled=o)}},e.prototype.clearThrottle=function(){var r=this,n=r.value,i=r.hasValue,o=r.throttled;o&&(this.remove(o),this.throttled=void 0,o.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(we);function Hd(t,e){return e===void 0&&(e=Be),al(function(){return il(t,e)})}function Vd(t){return function(r){return r.lift(new zd(t))}}var zd=function(){function t(e){this.closingNotifier=e}return t.prototype.call=function(e,r){return r.subscribe(new qd(e,this.closingNotifier))},t}(),qd=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.buffer=[],i.add(_e(n,new me(i))),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype.notifyNext=function(){var r=this.buffer;this.buffer=[],this.destination.next(r)},e}(we);function Gd(t,e){return e===void 0&&(e=null),function(n){return n.lift(new Qd(t,e))}}var Qd=function(){function t(e,r){this.bufferSize=e,this.startBufferEvery=r,!r||e===r?this.subscriberClass=Yd:this.subscriberClass=Kd}return t.prototype.call=function(e,r){return r.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},t}(),Yd=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.bufferSize=n,i.buffer=[],i}return e.prototype._next=function(r){var n=this.buffer;n.push(r),n.length==this.bufferSize&&(this.destination.next(n),this.buffer=[])},e.prototype._complete=function(){var r=this.buffer;r.length>0&&this.destination.next(r),t.prototype._complete.call(this)},e}(X),Kd=function(t){D(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.bufferSize=n,o.startBufferEvery=i,o.buffers=[],o.count=0,o}return e.prototype._next=function(r){var n=this,i=n.bufferSize,o=n.startBufferEvery,s=n.buffers,a=n.count;this.count++,a%o===0&&s.push([]);for(var u=s.length;u--;){var c=s[u];c.push(r),c.length===i&&(s.splice(u,1),this.destination.next(c))}},e.prototype._complete=function(){for(var r=this,n=r.buffers,i=r.destination;n.length>0;){var o=n.shift();o.length>0&&i.next(o)}t.prototype._complete.call(this)},e}(X);function Jd(t){var e=arguments.length,r=Be;We(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(s){return s.lift(new Zd(t,n,i,r))}}var Zd=function(){function t(e,r,n,i){this.bufferTimeSpan=e,this.bufferCreationInterval=r,this.maxBufferSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new ep(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),Xd=function(){function t(){this.buffer=[]}return t}(),ep=function(t){D(e,t);function e(r,n,i,o,s){var a=t.call(this,r)||this;a.bufferTimeSpan=n,a.bufferCreationInterval=i,a.maxBufferSize=o,a.scheduler=s,a.contexts=[];var u=a.openContext();if(a.timespanOnly=i==null||i<0,a.timespanOnly){var c={subscriber:a,context:u,bufferTimeSpan:n};a.add(u.closeAction=s.schedule(iu,n,c))}else{var l={subscriber:a,context:u},y={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:a,scheduler:s};a.add(u.closeAction=s.schedule(ul,n,l)),a.add(s.schedule(tp,i,y))}return a}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,o,s=0;s<i;s++){var a=n[s],u=a.buffer;u.push(r),u.length==this.maxBufferSize&&(o=a)}o&&this.onBufferFull(o)},e.prototype._error=function(r){this.contexts.length=0,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this,n=r.contexts,i=r.destination;n.length>0;){var o=n.shift();i.next(o.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(r){this.closeContext(r);var n=r.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){r=this.openContext();var i=this.bufferTimeSpan,o={subscriber:this,context:r,bufferTimeSpan:i};this.add(r.closeAction=this.scheduler.schedule(iu,i,o))}},e.prototype.openContext=function(){var r=new Xd;return this.contexts.push(r),r},e.prototype.closeContext=function(r){this.destination.next(r.buffer);var n=this.contexts,i=n?n.indexOf(r):-1;i>=0&&n.splice(n.indexOf(r),1)},e}(X);function iu(t){var e=t.subscriber,r=t.context;r&&e.closeContext(r),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function tp(t){var e=t.bufferCreationInterval,r=t.bufferTimeSpan,n=t.subscriber,i=t.scheduler,o=n.openContext(),s=this;n.closed||(n.add(o.closeAction=i.schedule(ul,r,{subscriber:n,context:o})),s.schedule(t,e))}function ul(t){var e=t.subscriber,r=t.context;e.closeContext(r)}function rp(t,e){return function(n){return n.lift(new np(t,e))}}var np=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new ip(e,this.openings,this.closingSelector))},t}(),ip=function(t){D(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.closingSelector=i,o.contexts=[],o.add(yt(o,n)),o}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,o=0;o<i;o++)n[o].buffer.push(r)},e.prototype._error=function(r){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this.contexts;r.length>0;){var n=r.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(r,n){r?this.closeBuffer(r):this.openBuffer(n)},e.prototype.notifyComplete=function(r){this.closeBuffer(r.context)},e.prototype.openBuffer=function(r){try{var n=this.closingSelector,i=n.call(this,r);i&&this.trySubscribe(i)}catch(o){this._error(o)}},e.prototype.closeBuffer=function(r){var n=this.contexts;if(n&&r){var i=r.buffer,o=r.subscription;this.destination.next(i),n.splice(n.indexOf(r),1),this.remove(o),o.unsubscribe()}},e.prototype.trySubscribe=function(r){var n=this.contexts,i=[],o=new ve,s={buffer:i,subscription:o};n.push(s);var a=yt(this,r,s);!a||a.closed?this.closeBuffer(s):(a.context=s,this.add(a),o.add(a))},e}(qt);function op(t){return function(e){return e.lift(new sp(t))}}var sp=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new ap(e,this.closingSelector))},t}(),ap=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype._complete=function(){var r=this.buffer;r&&this.destination.next(r),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var r=this.closingSubscription;r&&(this.remove(r),r.unsubscribe());var n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];var i;try{var o=this.closingSelector;i=o()}catch(s){return this.error(s)}r=new ve,this.closingSubscription=r,this.add(r),this.subscribing=!0,r.add(_e(i,new me(this))),this.subscribing=!1},e}(we);function up(t){return function(r){var n=new cp(t),i=r.lift(n);return n.caught=i}}var cp=function(){function t(e){this.selector=e}return t.prototype.call=function(e,r){return r.subscribe(new lp(e,this.selector,this.caught))},t}(),lp=function(t){D(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.selector=n,o.caught=i,o}return e.prototype.error=function(r){if(!this.isStopped){var n=void 0;try{n=this.selector(r,this.caught)}catch(s){t.prototype.error.call(this,s);return}this._unsubscribeAndRecycle();var i=new me(this);this.add(i);var o=_e(n,i);o!==i&&this.add(o)}},e}(we);function fp(t){return function(e){return e.lift(new da(t))}}function hp(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=null;return typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&Le(t[0])&&(t=t[0].slice()),function(n){return n.lift.call(gt([n].concat(t)),new da(r))}}function dp(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(Kr.apply(void 0,[r].concat(t)))}}function cl(t,e){return Ht(t,e,1)}function pp(t,e){return cl(function(){return t},e)}function yp(t){return function(e){return e.lift(new bp(t,e))}}var bp=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new gp(e,this.predicate,this.source))},t}(),gp=function(t){D(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.predicate=n,o.source=i,o.count=0,o.index=0,o}return e.prototype._next=function(r){this.predicate?this._tryPredicate(r):this.count++},e.prototype._tryPredicate=function(r){var n;try{n=this.predicate(r,this.index++,this.source)}catch(i){this.destination.error(i);return}n&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(X);function vp(t){return function(e){return e.lift(new mp(t))}}var mp=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new wp(e,this.durationSelector))},t}(),wp=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){try{var n=this.durationSelector.call(this,r);n&&this._tryNext(r,n)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(r,n){var i=this.durationSubscription;this.value=r,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=_e(n,new me(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var r=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,t.prototype._next.call(this,r)}},e}(we);function _p(t,e){return e===void 0&&(e=Be),function(r){return r.lift(new Sp(t,e))}}var Sp=function(){function t(e,r){this.dueTime=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new Ep(e,this.dueTime,this.scheduler))},t}(),Ep=function(t){D(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.dueTime=n,o.scheduler=i,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return e.prototype._next=function(r){this.clearDebounce(),this.lastValue=r,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(xp,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var r=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(r)}},e.prototype.clearDebounce=function(){var r=this.debouncedSubscription;r!==null&&(this.remove(r),r.unsubscribe(),this.debouncedSubscription=null)},e}(X);function xp(t){t.debouncedNext()}function un(t){return t===void 0&&(t=null),function(e){return e.lift(new Ap(t))}}var Ap=function(){function t(e){this.defaultValue=e}return t.prototype.call=function(e,r){return r.subscribe(new Cp(e,this.defaultValue))},t}(),Cp=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.defaultValue=n,i.isEmpty=!0,i}return e.prototype._next=function(r){this.isEmpty=!1,this.destination.next(r)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(X);function ll(t){return t instanceof Date&&!isNaN(+t)}function Ip(t,e){e===void 0&&(e=Be);var r=ll(t),n=r?+t-e.now():Math.abs(t);return function(i){return i.lift(new kp(n,e))}}var kp=function(){function t(e,r){this.delay=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new Rp(e,this.delay,this.scheduler))},t}(),Rp=function(t){D(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.delay=n,o.scheduler=i,o.queue=[],o.active=!1,o.errored=!1,o}return e.dispatch=function(r){for(var n=r.source,i=n.queue,o=r.scheduler,s=r.destination;i.length>0&&i[0].time-o.now()<=0;)i.shift().notification.observe(s);if(i.length>0){var a=Math.max(0,i[0].time-o.now());this.schedule(r,a)}else this.unsubscribe(),n.active=!1},e.prototype._schedule=function(r){this.active=!0;var n=this.destination;n.add(r.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:r}))},e.prototype.scheduleNotification=function(r){if(this.errored!==!0){var n=this.scheduler,i=new Mp(n.now()+this.delay,r);this.queue.push(i),this.active===!1&&this._schedule(n)}},e.prototype._next=function(r){this.scheduleNotification(pt.createNext(r))},e.prototype._error=function(r){this.errored=!0,this.queue=[],this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(pt.createComplete()),this.unsubscribe()},e}(X),Mp=function(){function t(e,r){this.time=e,this.notification=r}return t}();function Op(t,e){return e?function(r){return new Pp(r,e).lift(new ou(t))}:function(r){return r.lift(new ou(t))}}var ou=function(){function t(e){this.delayDurationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Tp(e,this.delayDurationSelector))},t}(),Tp=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return e.prototype.notifyNext=function(r,n,i,o,s){this.destination.next(r),this.removeSubscription(s),this.tryComplete()},e.prototype.notifyError=function(r,n){this._error(r)},e.prototype.notifyComplete=function(r){var n=this.removeSubscription(r);n&&this.destination.next(n),this.tryComplete()},e.prototype._next=function(r){var n=this.index++;try{var i=this.delayDurationSelector(r,n);i&&this.tryDelay(i,r)}catch(o){this.destination.error(o)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(r){r.unsubscribe();var n=this.delayNotifierSubscriptions.indexOf(r);return n!==-1&&this.delayNotifierSubscriptions.splice(n,1),r.outerValue},e.prototype.tryDelay=function(r,n){var i=yt(this,r,n);if(i&&!i.closed){var o=this.destination;o.add(i),this.delayNotifierSubscriptions.push(i)}},e.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},e}(qt),Pp=function(t){D(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subscriptionDelay=n,i}return e.prototype._subscribe=function(r){this.subscriptionDelay.subscribe(new Np(r,this.source))},e}(oe),Np=function(t){D(e,t);function e(r,n){var i=t.call(this)||this;return i.parent=r,i.source=n,i.sourceSubscribed=!1,i}return e.prototype._next=function(r){this.subscribeToSource()},e.prototype._error=function(r){this.unsubscribe(),this.parent.error(r)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(X);function jp(){return function(e){return e.lift(new Dp)}}var Dp=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new Lp(e))},t}(),Lp=function(t){D(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){r.observe(this.destination)},e}(X);function Bp(t,e){return function(r){return r.lift(new Fp(t,e))}}var Fp=function(){function t(e,r){this.keySelector=e,this.flushes=r}return t.prototype.call=function(e,r){return r.subscribe(new $p(e,this.keySelector,this.flushes))},t}(),$p=function(t){D(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.keySelector=n,o.values=new Set,i&&o.add(_e(i,new me(o))),o}return e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(r){this._error(r)},e.prototype._next=function(r){this.keySelector?this._useKeySelector(r):this._finalizeNext(r,r)},e.prototype._useKeySelector=function(r){var n,i=this.destination;try{n=this.keySelector(r)}catch(o){i.error(o);return}this._finalizeNext(n,r)},e.prototype._finalizeNext=function(r,n){var i=this.values;i.has(r)||(i.add(r),this.destination.next(n))},e}(we);function fl(t,e){return function(r){return r.lift(new Wp(t,e))}}var Wp=function(){function t(e,r){this.compare=e,this.keySelector=r}return t.prototype.call=function(e,r){return r.subscribe(new Up(e,this.compare,this.keySelector))},t}(),Up=function(t){D(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.keySelector=i,o.hasKey=!1,typeof n=="function"&&(o.compare=n),o}return e.prototype.compare=function(r,n){return r===n},e.prototype._next=function(r){var n;try{var i=this.keySelector;n=i?i(r):r}catch(a){return this.destination.error(a)}var o=!1;if(this.hasKey)try{var s=this.compare;o=s(this.key,n)}catch(a){return this.destination.error(a)}else this.hasKey=!0;o||(this.key=n,this.destination.next(r))},e}(X);function Hp(t,e){return fl(function(r,n){return e?e(r[t],n[t]):r[t]===n[t]})}function si(t){return t===void 0&&(t=qp),function(e){return e.lift(new Vp(t))}}var Vp=function(){function t(e){this.errorFactory=e}return t.prototype.call=function(e,r){return r.subscribe(new zp(e,this.errorFactory))},t}(),zp=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.errorFactory=n,i.hasValue=!1,i}return e.prototype._next=function(r){this.hasValue=!0,this.destination.next(r)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var r=void 0;try{r=this.errorFactory()}catch(n){r=n}this.destination.error(r)},e}(X);function qp(){return new an}function ba(t){return function(e){return t===0?Ar():e.lift(new Gp(t))}}var Gp=function(){function t(e){if(this.total=e,this.total<0)throw new pr}return t.prototype.call=function(e,r){return r.subscribe(new Qp(e,this.total))},t}(),Qp=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){var n=this.total,i=++this.count;i<=n&&(this.destination.next(r),i===n&&(this.destination.complete(),this.unsubscribe()))},e}(X);function Yp(t,e){if(t<0)throw new pr;var r=arguments.length>=2;return function(n){return n.pipe(Rt(function(i,o){return o===t}),ba(1),r?un(e):si(function(){return new pr}))}}function Kp(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return Kr(r,oi.apply(void 0,t))}}function Jp(t,e){return function(r){return r.lift(new Zp(t,e,r))}}var Zp=function(){function t(e,r,n){this.predicate=e,this.thisArg=r,this.source=n}return t.prototype.call=function(e,r){return r.subscribe(new Xp(e,this.predicate,this.thisArg,this.source))},t}(),Xp=function(t){D(e,t);function e(r,n,i,o){var s=t.call(this,r)||this;return s.predicate=n,s.thisArg=i,s.source=o,s.index=0,s.thisArg=i||s,s}return e.prototype.notifyComplete=function(r){this.destination.next(r),this.destination.complete()},e.prototype._next=function(r){var n=!1;try{n=this.predicate.call(this.thisArg,r,this.index++,this.source)}catch(i){this.destination.error(i);return}n||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(X);function ey(){return function(t){return t.lift(new ty)}}var ty=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new ry(e))},t}(),ry=function(t){D(e,t);function e(r){var n=t.call(this,r)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return e.prototype._next=function(r){this.hasSubscription||(this.hasSubscription=!0,this.add(_e(r,new me(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(we);function hl(t,e){return e?function(r){return r.pipe(hl(function(n,i){return gt(t(n,i)).pipe(Ye(function(o,s){return e(n,o,i,s)}))}))}:function(r){return r.lift(new ny(t))}}var ny=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new iy(e,this.project))},t}(),iy=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return e.prototype._next=function(r){this.hasSubscription||this.tryNext(r)},e.prototype.tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(o){this.destination.error(o);return}this.hasSubscription=!0,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new me(this),i=this.destination;i.add(n);var o=_e(r,n);o!==n&&i.add(o)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(we);function oy(t,e,r){return e===void 0&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(n){return n.lift(new sy(t,e,r))}}var sy=function(){function t(e,r,n){this.project=e,this.concurrent=r,this.scheduler=n}return t.prototype.call=function(e,r){return r.subscribe(new ay(e,this.project,this.concurrent,this.scheduler))},t}(),ay=function(t){D(e,t);function e(r,n,i,o){var s=t.call(this,r)||this;return s.project=n,s.concurrent=i,s.scheduler=o,s.index=0,s.active=0,s.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(s.buffer=[]),s}return e.dispatch=function(r){var n=r.subscriber,i=r.result,o=r.value,s=r.index;n.subscribeToProjection(i,o,s)},e.prototype._next=function(r){var n=this.destination;if(n.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){n.next(r);try{var o=this.project,s=o(r,i);if(!this.scheduler)this.subscribeToProjection(s,r,i);else{var a={subscriber:this,result:s,value:r,index:i},u=this.destination;u.add(this.scheduler.schedule(e.dispatch,0,a))}}catch(c){n.error(c)}}else this.buffer.push(r)},e.prototype.subscribeToProjection=function(r,n,i){this.active++;var o=this.destination;o.add(_e(r,new me(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this._next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r&&r.length>0&&this._next(r.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},e}(we);function uy(t){return function(e){return e.lift(new cy(t))}}var cy=function(){function t(e){this.callback=e}return t.prototype.call=function(e,r){return r.subscribe(new ly(e,this.callback))},t}(),ly=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.add(new ve(n)),i}return e}(X);function fy(t,e){if(typeof t!="function")throw new TypeError("predicate is not a function");return function(r){return r.lift(new dl(t,r,!1,e))}}var dl=function(){function t(e,r,n,i){this.predicate=e,this.source=r,this.yieldIndex=n,this.thisArg=i}return t.prototype.call=function(e,r){return r.subscribe(new hy(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),hy=function(t){D(e,t);function e(r,n,i,o,s){var a=t.call(this,r)||this;return a.predicate=n,a.source=i,a.yieldIndex=o,a.thisArg=s,a.index=0,a}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete(),this.unsubscribe()},e.prototype._next=function(r){var n=this,i=n.predicate,o=n.thisArg,s=this.index++;try{var a=i.call(o||this,r,s,this.source);a&&this.notifyComplete(this.yieldIndex?s:r)}catch(u){this.destination.error(u)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(X);function dy(t,e){return function(r){return r.lift(new dl(t,r,!0,e))}}function py(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Rt(function(i,o){return t(i,o,n)}):It,ba(1),r?un(e):si(function(){return new an}))}}function yy(){return function(e){return e.lift(new by)}}var by=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new gy(e))},t}(),gy=function(t){D(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._next=function(r){},e}(X);function vy(){return function(t){return t.lift(new my)}}var my=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new wy(e))},t}(),wy=function(t){D(e,t);function e(r){return t.call(this,r)||this}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype._next=function(r){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(X);function Un(t){return function(r){return t===0?Ar():r.lift(new _y(t))}}var _y=function(){function t(e){if(this.total=e,this.total<0)throw new pr}return t.prototype.call=function(e,r){return r.subscribe(new Sy(e,this.total))},t}(),Sy=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.ring=new Array,i.count=0,i}return e.prototype._next=function(r){var n=this.ring,i=this.total,o=this.count++;if(n.length<i)n.push(r);else{var s=o%i;n[s]=r}},e.prototype._complete=function(){var r=this.destination,n=this.count;if(n>0)for(var i=this.count>=this.total?this.total:this.count,o=this.ring,s=0;s<i;s++){var a=n++%i;r.next(o[a])}r.complete()},e}(X);function Ey(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Rt(function(i,o){return t(i,o,n)}):It,Un(1),r?un(e):si(function(){return new an}))}}function xy(t){return function(e){return e.lift(new Ay(t))}}var Ay=function(){function t(e){this.value=e}return t.prototype.call=function(e,r){return r.subscribe(new Cy(e,this.value))},t}(),Cy=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype._next=function(r){this.destination.next(this.value)},e}(X);function Iy(){return function(e){return e.lift(new ky)}}var ky=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new Ry(e))},t}(),Ry=function(t){D(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){this.destination.next(pt.createNext(r))},e.prototype._error=function(r){var n=this.destination;n.next(pt.createError(r)),n.complete()},e.prototype._complete=function(){var r=this.destination;r.next(pt.createComplete()),r.complete()},e}(X);function Hn(t,e){var r=!1;return arguments.length>=2&&(r=!0),function(i){return i.lift(new My(t,e,r))}}var My=function(){function t(e,r,n){n===void 0&&(n=!1),this.accumulator=e,this.seed=r,this.hasSeed=n}return t.prototype.call=function(e,r){return r.subscribe(new Oy(e,this.accumulator,this.seed,this.hasSeed))},t}(),Oy=function(t){D(e,t);function e(r,n,i,o){var s=t.call(this,r)||this;return s.accumulator=n,s._seed=i,s.hasSeed=o,s.index=0,s}return Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(r){this.hasSeed=!0,this._seed=r},enumerable:!0,configurable:!0}),e.prototype._next=function(r){if(!this.hasSeed)this.seed=r,this.destination.next(r);else return this._tryNext(r)},e.prototype._tryNext=function(r){var n=this.index++,i;try{i=this.accumulator(this.seed,r,n)}catch(o){this.destination.error(o)}this.seed=i,this.destination.next(i)},e}(X);function ai(t,e){return arguments.length>=2?function(n){return $s(Hn(t,e),Un(1),un(e))(n)}:function(n){return $s(Hn(function(i,o,s){return t(i,o,s+1)}),Un(1))(n)}}function Ty(t){var e=typeof t=="function"?function(r,n){return t(r,n)>0?r:n}:function(r,n){return r>n?r:n};return ai(e)}function Py(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(el.apply(void 0,[r].concat(t)))}}function Ny(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?Ht(function(){return t},e,r):(typeof e=="number"&&(r=e),Ht(function(){return t},r))}function jy(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),function(n){return n.lift(new Dy(t,e,r))}}var Dy=function(){function t(e,r,n){this.accumulator=e,this.seed=r,this.concurrent=n}return t.prototype.call=function(e,r){return r.subscribe(new Ly(e,this.accumulator,this.seed,this.concurrent))},t}(),Ly=function(t){D(e,t);function e(r,n,i,o){var s=t.call(this,r)||this;return s.accumulator=n,s.acc=i,s.concurrent=o,s.hasValue=!1,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return e.prototype._next=function(r){if(this.active<this.concurrent){var n=this.index++,i=this.destination,o=void 0;try{var s=this.accumulator;o=s(this.acc,r,n)}catch(a){return i.error(a)}this.active++,this._innerSub(o)}else this.buffer.push(r)},e.prototype._innerSub=function(r){var n=new me(this),i=this.destination;i.add(n);var o=_e(r,n);o!==n&&i.add(o)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(r){var n=this.destination;this.acc=r,this.hasValue=!0,n.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(we);function By(t){var e=typeof t=="function"?function(r,n){return t(r,n)<0?r:n}:function(r,n){return r<n?r:n};return ai(e)}function Vt(t,e){return function(n){var i;if(typeof t=="function"?i=t:i=function(){return t},typeof e=="function")return n.lift(new Fy(i,e));var o=Object.create(n,wh);return o.source=n,o.subjectFactory=i,o}}var Fy=function(){function t(e,r){this.subjectFactory=e,this.selector=r}return t.prototype.call=function(e,r){var n=this.selector,i=this.subjectFactory(),o=n(i).subscribe(e);return o.add(r.subscribe(i)),o},t}();function $y(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===1&&Le(t[0])&&(t=t[0]),function(r){return r.lift(new Wy(t))}}var Wy=function(){function t(e){this.nextSources=e}return t.prototype.call=function(e,r){return r.subscribe(new Uy(e,this.nextSources))},t}(),Uy=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.nextSources=n,i}return e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(r){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var r=this.nextSources.shift();if(r){var n=new me(this),i=this.destination;i.add(n);var o=_e(r,n);o!==n&&i.add(o)}else this.destination.complete()},e}(we);function Hy(){return function(t){return t.lift(new Vy)}}var Vy=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new zy(e))},t}(),zy=function(t){D(e,t);function e(r){var n=t.call(this,r)||this;return n.hasPrev=!1,n}return e.prototype._next=function(r){var n;this.hasPrev?n=[this.prev,r]:this.hasPrev=!0,this.prev=r,n&&this.destination.next(n)},e}(X);function qy(t,e){return function(r){return[Rt(t,e)(r),Rt(rl(t,e))(r)]}}function Gy(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(r===0)throw new Error("list of properties cannot be empty.");return function(n){return Ye(Qy(t,r))(n)}}function Qy(t,e){var r=function(n){for(var i=n,o=0;o<e;o++){var s=i!=null?i[t[o]]:void 0;if(s!==void 0)i=s;else return}return i};return r}function Yy(t){return t?Vt(function(){return new Ce},t):Vt(new Ce)}function Ky(t){return function(e){return Vt(new jc(t))(e)}}function Jy(){return function(t){return Vt(new Cr)(t)}}function Zy(t,e,r,n){r&&typeof r!="function"&&(n=r);var i=typeof r=="function"?r:void 0,o=new ha(t,e,n);return function(s){return Vt(function(){return o},i)(s)}}function Xy(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return t.length===1&&Le(t[0])&&(t=t[0]),n.lift.call(nl.apply(void 0,[n].concat(t)))}}function eb(t){return t===void 0&&(t=-1),function(e){return t===0?Ar():t<0?e.lift(new su(-1,e)):e.lift(new su(t-1,e))}}var su=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new tb(e,this.count,this.source))},t}(),tb=function(t){D(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.count=n,o.source=i,o}return e.prototype.complete=function(){if(!this.isStopped){var r=this,n=r.source,i=r.count;if(i===0)return t.prototype.complete.call(this);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(X);function rb(t){return function(e){return e.lift(new nb(t))}}var nb=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new ib(e,this.notifier,r))},t}(),ib=function(t){D(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.notifier=n,o.source=i,o.sourceIsBeingSubscribedTo=!0,o}return e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var r=this,n=r.notifications,i=r.retriesSubscription;n&&(n.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var r=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=r,this},e.prototype.subscribeToRetries=function(){this.notifications=new Ce;var r;try{var n=this.notifier;r=n(this.notifications)}catch{return t.prototype.complete.call(this)}this.retries=r,this.retriesSubscription=_e(r,new me(this))},e}(we);function ob(t){return t===void 0&&(t=-1),function(e){return e.lift(new sb(t,e))}}var sb=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new ab(e,this.count,this.source))},t}(),ab=function(t){D(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.count=n,o.source=i,o}return e.prototype.error=function(r){if(!this.isStopped){var n=this,i=n.source,o=n.count;if(o===0)return t.prototype.error.call(this,r);o>-1&&(this.count=o-1),i.subscribe(this._unsubscribeAndRecycle())}},e}(X);function ub(t){return function(e){return e.lift(new cb(t,e))}}var cb=function(){function t(e,r){this.notifier=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new lb(e,this.notifier,this.source))},t}(),lb=function(t){D(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.notifier=n,o.source=i,o}return e.prototype.error=function(r){if(!this.isStopped){var n=this.errors,i=this.retries,o=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new Ce;try{var s=this.notifier;i=s(n)}catch(a){return t.prototype.error.call(this,a)}o=_e(i,new me(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=o,n.next(r)}},e.prototype._unsubscribe=function(){var r=this,n=r.errors,i=r.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var r=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=r,this.source.subscribe(this)},e}(we);function fb(t){return function(e){return e.lift(new hb(t))}}var hb=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new db(e),i=r.subscribe(n);return i.add(_e(this.notifier,new me(n))),i},t}(),db=function(t){D(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.hasValue=!1,r}return e.prototype._next=function(r){this.value=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(we);function pb(t,e){return e===void 0&&(e=Be),function(r){return r.lift(new yb(t,e))}}var yb=function(){function t(e,r){this.period=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new bb(e,this.period,this.scheduler))},t}(),bb=function(t){D(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.period=n,o.scheduler=i,o.hasValue=!1,o.add(i.schedule(gb,n,{subscriber:o,period:n})),o}return e.prototype._next=function(r){this.lastValue=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(X);function gb(t){var e=t.subscriber,r=t.period;e.notifyNext(),this.schedule(t,r)}function vb(t,e){return function(r){return r.lift(new mb(t,e))}}var mb=function(){function t(e,r){this.compareTo=e,this.comparator=r}return t.prototype.call=function(e,r){return r.subscribe(new wb(e,this.compareTo,this.comparator))},t}(),wb=function(t){D(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.compareTo=n,o.comparator=i,o._a=[],o._b=[],o._oneComplete=!1,o.destination.add(n.subscribe(new _b(r,o))),o}return e.prototype._next=function(r){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(r),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var r=this,n=r._a,i=r._b,o=r.comparator;n.length>0&&i.length>0;){var s=n.shift(),a=i.shift(),u=!1;try{u=o?o(s,a):s===a}catch(c){this.destination.error(c)}u||this.emit(!1)}},e.prototype.emit=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype.nextB=function(r){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(r),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},e}(X),_b=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.parent=n,i}return e.prototype._next=function(r){this.parent.nextB(r)},e.prototype._error=function(r){this.parent.error(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(X);function Sb(){return new Ce}function Eb(){return function(t){return ca()(Vt(Sb)(t))}}function xb(t,e,r){var n;return t&&typeof t=="object"?n=t:n={bufferSize:t,windowTime:e,refCount:!1,scheduler:r},function(i){return i.lift(Ab(n))}}function Ab(t){var e=t.bufferSize,r=e===void 0?Number.POSITIVE_INFINITY:e,n=t.windowTime,i=n===void 0?Number.POSITIVE_INFINITY:n,o=t.refCount,s=t.scheduler,a,u=0,c,l=!1,y=!1;return function(b){u++;var E;!a||l?(l=!1,a=new ha(r,i,s),E=a.subscribe(this),c=b.subscribe({next:function(C){a.next(C)},error:function(C){l=!0,a.error(C)},complete:function(){y=!0,c=void 0,a.complete()}}),y&&(c=void 0)):E=a.subscribe(this),this.add(function(){u--,E.unsubscribe(),E=void 0,c&&!y&&o&&u===0&&(c.unsubscribe(),c=void 0,a=void 0)})}}function Cb(t){return function(e){return e.lift(new Ib(t,e))}}var Ib=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new kb(e,this.predicate,this.source))},t}(),kb=function(t){D(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.predicate=n,o.source=i,o.seenValue=!1,o.index=0,o}return e.prototype.applySingleValue=function(r){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=r)},e.prototype._next=function(r){var n=this.index++;this.predicate?this.tryNext(r,n):this.applySingleValue(r)},e.prototype.tryNext=function(r,n){try{this.predicate(r,n,this.source)&&this.applySingleValue(r)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){var r=this.destination;this.index>0?(r.next(this.seenValue?this.singleValue:void 0),r.complete()):r.error(new an)},e}(X);function Rb(t){return function(e){return e.lift(new Mb(t))}}var Mb=function(){function t(e){this.total=e}return t.prototype.call=function(e,r){return r.subscribe(new Ob(e,this.total))},t}(),Ob=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){++this.count>this.total&&this.destination.next(r)},e}(X);function Tb(t){return function(e){return e.lift(new Pb(t))}}var Pb=function(){function t(e){if(this._skipCount=e,this._skipCount<0)throw new pr}return t.prototype.call=function(e,r){return this._skipCount===0?r.subscribe(new X(e)):r.subscribe(new Nb(e,this._skipCount))},t}(),Nb=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return e.prototype._next=function(r){var n=this._skipCount,i=this._count++;if(i<n)this._ring[i]=r;else{var o=i%n,s=this._ring,a=s[o];s[o]=r,this.destination.next(a)}},e}(X);function jb(t){return function(e){return e.lift(new Db(t))}}var Db=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new Lb(e,this.notifier))},t}(),Lb=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;i.hasValue=!1;var o=new me(i);i.add(o),i.innerSubscription=o;var s=_e(n,o);return s!==o&&(i.add(s),i.innerSubscription=s),i}return e.prototype._next=function(r){this.hasValue&&t.prototype._next.call(this,r)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(we);function Bb(t){return function(e){return e.lift(new Fb(t))}}var Fb=function(){function t(e){this.predicate=e}return t.prototype.call=function(e,r){return r.subscribe(new $b(e,this.predicate))},t}(),$b=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.predicate=n,i.skipping=!0,i.index=0,i}return e.prototype._next=function(r){var n=this.destination;this.skipping&&this.tryCallPredicate(r),this.skipping||n.next(r)},e.prototype.tryCallPredicate=function(r){try{var n=this.predicate(r,this.index++);this.skipping=Boolean(n)}catch(i){this.destination.error(i)}},e}(X);function Wb(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return We(r)?(t.pop(),function(n){return Kr(t,n,r)}):function(n){return Kr(t,n)}}var Ub=function(t){D(e,t);function e(r,n,i){n===void 0&&(n=0),i===void 0&&(i=Pn);var o=t.call(this)||this;return o.source=r,o.delayTime=n,o.scheduler=i,(!yr(n)||n<0)&&(o.delayTime=0),(!i||typeof i.schedule!="function")&&(o.scheduler=Pn),o}return e.create=function(r,n,i){return n===void 0&&(n=0),i===void 0&&(i=Pn),new e(r,n,i)},e.dispatch=function(r){var n=r.source,i=r.subscriber;return this.add(n.subscribe(i))},e.prototype._subscribe=function(r){var n=this.delayTime,i=this.source,o=this.scheduler;return o.schedule(e.dispatch,n,{source:i,subscriber:r})},e}(oe);function Hb(t,e){return e===void 0&&(e=0),function(n){return n.lift(new Vb(t,e))}}var Vb=function(){function t(e,r){this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return new Ub(r,this.delay,this.scheduler).subscribe(e)},t}();function Jr(t,e){return typeof e=="function"?function(r){return r.pipe(Jr(function(n,i){return gt(t(n,i)).pipe(Ye(function(o,s){return e(n,o,i,s)}))}))}:function(r){return r.lift(new zb(t))}}var zb=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new qb(e,this.project))},t}(),qb=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.index=0,i}return e.prototype._next=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(o){this.destination.error(o);return}this._innerSub(n)},e.prototype._innerSub=function(r){var n=this.innerSubscription;n&&n.unsubscribe();var i=new me(this),o=this.destination;o.add(i),this.innerSubscription=_e(r,i),this.innerSubscription!==i&&o.add(this.innerSubscription)},e.prototype._complete=function(){var r=this.innerSubscription;(!r||r.closed)&&t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(r){this.destination.next(r)},e}(we);function Gb(){return Jr(It)}function Qb(t,e){return e?Jr(function(){return t},e):Jr(function(){return t})}function Yb(t){return function(e){return e.lift(new Kb(t))}}var Kb=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new Jb(e),i=_e(this.notifier,new me(n));return i&&!n.seenValue?(n.add(i),r.subscribe(n)):n},t}(),Jb=function(t){D(e,t);function e(r){var n=t.call(this,r)||this;return n.seenValue=!1,n}return e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(we);function Zb(t,e){return e===void 0&&(e=!1),function(r){return r.lift(new Xb(t,e))}}var Xb=function(){function t(e,r){this.predicate=e,this.inclusive=r}return t.prototype.call=function(e,r){return r.subscribe(new eg(e,this.predicate,this.inclusive))},t}(),eg=function(t){D(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.predicate=n,o.inclusive=i,o.index=0,o}return e.prototype._next=function(r){var n=this.destination,i;try{i=this.predicate(r,this.index++)}catch(o){n.error(o);return}this.nextOrComplete(r,i)},e.prototype.nextOrComplete=function(r,n){var i=this.destination;Boolean(n)?i.next(r):(this.inclusive&&i.next(r),i.complete())},e}(X);function tg(t,e,r){return function(i){return i.lift(new rg(t,e,r))}}var rg=function(){function t(e,r,n){this.nextOrObserver=e,this.error=r,this.complete=n}return t.prototype.call=function(e,r){return r.subscribe(new ng(e,this.nextOrObserver,this.error,this.complete))},t}(),ng=function(t){D(e,t);function e(r,n,i,o){var s=t.call(this,r)||this;return s._tapNext=ot,s._tapError=ot,s._tapComplete=ot,s._tapError=i||ot,s._tapComplete=o||ot,hr(n)?(s._context=s,s._tapNext=n):n&&(s._context=n,s._tapNext=n.next||ot,s._tapError=n.error||ot,s._tapComplete=n.complete||ot),s}return e.prototype._next=function(r){try{this._tapNext.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.next(r)},e.prototype._error=function(r){try{this._tapError.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.error(r)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(r){this.destination.error(r);return}return this.destination.complete()},e}(X),pl={leading:!0,trailing:!1};function ig(t,e){return e===void 0&&(e=pl),function(r){return r.lift(new og(t,!!e.leading,!!e.trailing))}}var og=function(){function t(e,r,n){this.durationSelector=e,this.leading=r,this.trailing=n}return t.prototype.call=function(e,r){return r.subscribe(new sg(e,this.durationSelector,this.leading,this.trailing))},t}(),sg=function(t){D(e,t);function e(r,n,i,o){var s=t.call(this,r)||this;return s.destination=r,s.durationSelector=n,s._leading=i,s._trailing=o,s._hasValue=!1,s}return e.prototype._next=function(r){this._hasValue=!0,this._sendValue=r,this._throttled||(this._leading?this.send():this.throttle(r))},e.prototype.send=function(){var r=this,n=r._hasValue,i=r._sendValue;n&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(r){var n=this.tryDurationSelector(r);n&&this.add(this._throttled=_e(n,new me(this)))},e.prototype.tryDurationSelector=function(r){try{return this.durationSelector(r)}catch(n){return this.destination.error(n),null}},e.prototype.throttlingDone=function(){var r=this,n=r._throttled,i=r._trailing;n&&n.unsubscribe(),this._throttled=void 0,i&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(we);function ag(t,e,r){return e===void 0&&(e=Be),r===void 0&&(r=pl),function(n){return n.lift(new ug(t,e,r.leading,r.trailing))}}var ug=function(){function t(e,r,n,i){this.duration=e,this.scheduler=r,this.leading=n,this.trailing=i}return t.prototype.call=function(e,r){return r.subscribe(new cg(e,this.duration,this.scheduler,this.leading,this.trailing))},t}(),cg=function(t){D(e,t);function e(r,n,i,o,s){var a=t.call(this,r)||this;return a.duration=n,a.scheduler=i,a.leading=o,a.trailing=s,a._hasTrailingValue=!1,a._trailingValue=null,a}return e.prototype._next=function(r){this.throttled?this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(lg,this.duration,{subscriber:this})),this.leading?this.destination.next(r):this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var r=this.throttled;r&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),r.unsubscribe(),this.remove(r),this.throttled=null)},e}(X);function lg(t){var e=t.subscriber;e.clearThrottle()}function fg(t){return t===void 0&&(t=Be),function(e){return ya(function(){return e.pipe(Hn(function(r,n){var i=r.current;return{value:n,current:t.now(),last:i}},{current:t.now(),value:void 0,last:void 0}),Ye(function(r){var n=r.current,i=r.last,o=r.value;return new hg(o,n-i)}))})}}var hg=function(){function t(e,r){this.value=e,this.interval=r}return t}();function yl(t,e,r){return r===void 0&&(r=Be),function(n){var i=ll(t),o=i?+t-r.now():Math.abs(t);return n.lift(new dg(o,i,e,r))}}var dg=function(){function t(e,r,n,i){this.waitFor=e,this.absoluteTimeout=r,this.withObservable=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new pg(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),pg=function(t){D(e,t);function e(r,n,i,o,s){var a=t.call(this,r)||this;return a.absoluteTimeout=n,a.waitFor=i,a.withObservable=o,a.scheduler=s,a.scheduleTimeout(),a}return e.dispatchTimeout=function(r){var n=r.withObservable;r._unsubscribeAndRecycle(),r.add(_e(n,new me(r)))},e.prototype.scheduleTimeout=function(){var r=this.action;r?this.action=r.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(r){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,r)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(we);function yg(t,e){return e===void 0&&(e=Be),yl(t,fa(new Vc),e)}function bg(t){return t===void 0&&(t=Be),Ye(function(e){return new gg(e,t.now())})}var gg=function(){function t(e,r){this.value=e,this.timestamp=r}return t}();function vg(t,e,r){return r===0?[e]:(t.push(e),t)}function mg(){return ai(vg,[])}function wg(t){return function(r){return r.lift(new _g(t))}}var _g=function(){function t(e){this.windowBoundaries=e}return t.prototype.call=function(e,r){var n=new Sg(e),i=r.subscribe(n);return i.closed||n.add(_e(this.windowBoundaries,new me(n))),i},t}(),Sg=function(t){D(e,t);function e(r){var n=t.call(this,r)||this;return n.window=new Ce,r.next(n.window),n}return e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var r=this.window;r&&r.complete();var n=this.destination,i=this.window=new Ce;n.next(i)},e}(we);function Eg(t,e){return e===void 0&&(e=0),function(n){return n.lift(new xg(t,e))}}var xg=function(){function t(e,r){this.windowSize=e,this.startWindowEvery=r}return t.prototype.call=function(e,r){return r.subscribe(new Ag(e,this.windowSize,this.startWindowEvery))},t}(),Ag=function(t){D(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.destination=r,o.windowSize=n,o.startWindowEvery=i,o.windows=[new Ce],o.count=0,r.next(o.windows[0]),o}return e.prototype._next=function(r){for(var n=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,o=this.windowSize,s=this.windows,a=s.length,u=0;u<a&&!this.closed;u++)s[u].next(r);var c=this.count-o+1;if(c>=0&&c%n===0&&!this.closed&&s.shift().complete(),++this.count%n===0&&!this.closed){var l=new Ce;s.push(l),i.next(l)}},e.prototype._error=function(r){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){var r=this.windows;if(r)for(;r.length>0&&!this.closed;)r.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(X);function Cg(t){var e=Be,r=null,n=Number.POSITIVE_INFINITY;return We(arguments[3])&&(e=arguments[3]),We(arguments[2])?e=arguments[2]:yr(arguments[2])&&(n=Number(arguments[2])),We(arguments[1])?e=arguments[1]:yr(arguments[1])&&(r=Number(arguments[1])),function(o){return o.lift(new Ig(t,r,n,e))}}var Ig=function(){function t(e,r,n,i){this.windowTimeSpan=e,this.windowCreationInterval=r,this.maxWindowSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new Rg(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),kg=function(t){D(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._numberOfNextedValues=0,r}return e.prototype.next=function(r){this._numberOfNextedValues++,t.prototype.next.call(this,r)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(Ce),Rg=function(t){D(e,t);function e(r,n,i,o,s){var a=t.call(this,r)||this;a.destination=r,a.windowTimeSpan=n,a.windowCreationInterval=i,a.maxWindowSize=o,a.scheduler=s,a.windows=[];var u=a.openWindow();if(i!==null&&i>=0){var c={subscriber:a,window:u,context:null},l={windowTimeSpan:n,windowCreationInterval:i,subscriber:a,scheduler:s};a.add(s.schedule(bl,n,c)),a.add(s.schedule(Og,i,l))}else{var y={subscriber:a,window:u,windowTimeSpan:n};a.add(s.schedule(Mg,n,y))}return a}return e.prototype._next=function(r){for(var n=this.windows,i=n.length,o=0;o<i;o++){var s=n[o];s.closed||(s.next(r),s.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(s))}},e.prototype._error=function(r){for(var n=this.windows;n.length>0;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){for(var r=this.windows;r.length>0;){var n=r.shift();n.closed||n.complete()}this.destination.complete()},e.prototype.openWindow=function(){var r=new kg;this.windows.push(r);var n=this.destination;return n.next(r),r},e.prototype.closeWindow=function(r){r.complete();var n=this.windows;n.splice(n.indexOf(r),1)},e}(X);function Mg(t){var e=t.subscriber,r=t.windowTimeSpan,n=t.window;n&&e.closeWindow(n),t.window=e.openWindow(),this.schedule(t,r)}function Og(t){var e=t.windowTimeSpan,r=t.subscriber,n=t.scheduler,i=t.windowCreationInterval,o=r.openWindow(),s=this,a={action:s,subscription:null},u={subscriber:r,window:o,context:a};a.subscription=n.schedule(bl,e,u),s.add(a.subscription),s.schedule(t,i)}function bl(t){var e=t.subscriber,r=t.window,n=t.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(r)}function Tg(t,e){return function(r){return r.lift(new Pg(t,e))}}var Pg=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new Ng(e,this.openings,this.closingSelector))},t}(),Ng=function(t){D(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.openings=n,o.closingSelector=i,o.contexts=[],o.add(o.openSubscription=yt(o,n,n)),o}return e.prototype._next=function(r){var n=this.contexts;if(n)for(var i=n.length,o=0;o<i;o++)n[o].window.next(r)},e.prototype._error=function(r){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,o=-1;++o<i;){var s=n[o];s.window.error(r),s.subscription.unsubscribe()}t.prototype._error.call(this,r)},e.prototype._complete=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var o=r[i];o.window.complete(),o.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var o=r[i];o.window.unsubscribe(),o.subscription.unsubscribe()}},e.prototype.notifyNext=function(r,n,i,o,s){if(r===this.openings){var a=void 0;try{var u=this.closingSelector;a=u(n)}catch(b){return this.error(b)}var c=new Ce,l=new ve,y={window:c,subscription:l};this.contexts.push(y);var f=yt(this,a,y);f.closed?this.closeWindow(this.contexts.length-1):(f.context=y,l.add(f)),this.destination.next(c)}else this.closeWindow(this.contexts.indexOf(r))},e.prototype.notifyError=function(r){this.error(r)},e.prototype.notifyComplete=function(r){r!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(r.context))},e.prototype.closeWindow=function(r){if(r!==-1){var n=this.contexts,i=n[r],o=i.window,s=i.subscription;n.splice(r,1),o.complete(),s.unsubscribe()}},e}(qt);function jg(t){return function(r){return r.lift(new Dg(t))}}var Dg=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Lg(e,this.closingSelector))},t}(),Lg=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.closingSelector=n,i.openWindow(),i}return e.prototype.notifyNext=function(r,n,i,o,s){this.openWindow(s)},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(r){this.openWindow(r)},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(r){r===void 0&&(r=null),r&&(this.remove(r),r.unsubscribe());var n=this.window;n&&n.complete();var i=this.window=new Ce;this.destination.next(i);var o;try{var s=this.closingSelector;o=s()}catch(a){this.destination.error(a),this.window.error(a);return}this.add(this.closingNotification=yt(this,o))},e}(qt);function Bg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){var n;typeof t[t.length-1]=="function"&&(n=t.pop());var i=t;return r.lift(new Fg(i,n))}}var Fg=function(){function t(e,r){this.observables=e,this.project=r}return t.prototype.call=function(e,r){return r.subscribe(new $g(e,this.observables,this.project))},t}(),$g=function(t){D(e,t);function e(r,n,i){var o=t.call(this,r)||this;o.observables=n,o.project=i,o.toRespond=[];var s=n.length;o.values=new Array(s);for(var a=0;a<s;a++)o.toRespond.push(a);for(var a=0;a<s;a++){var u=n[a];o.add(yt(o,u,void 0,a))}return o}return e.prototype.notifyNext=function(r,n,i){this.values[i]=n;var o=this.toRespond;if(o.length>0){var s=o.indexOf(i);s!==-1&&o.splice(s,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(r){if(this.toRespond.length===0){var n=[r].concat(this.values);this.project?this._tryProject(n):this.destination.next(n)}},e.prototype._tryProject=function(r){var n;try{n=this.project.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(qt);function Wg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return n.lift.call(ol.apply(void 0,[n].concat(t)))}}function Ug(t){return function(e){return e.lift(new sl(t))}}const Hg=Object.freeze(Object.defineProperty({__proto__:null,audit:al,auditTime:Hd,buffer:Vd,bufferCount:Gd,bufferTime:Jd,bufferToggle:rp,bufferWhen:op,catchError:up,combineAll:fp,combineLatest:hp,concat:dp,concatAll:Kc,concatMap:cl,concatMapTo:pp,count:yp,debounce:vp,debounceTime:_p,defaultIfEmpty:un,delay:Ip,delayWhen:Op,dematerialize:jp,distinct:Bp,distinctUntilChanged:fl,distinctUntilKeyChanged:Hp,elementAt:Yp,endWith:Kp,every:Jp,exhaust:ey,exhaustMap:hl,expand:oy,filter:Rt,finalize:uy,find:fy,findIndex:dy,first:py,groupBy:Sh,ignoreElements:yy,isEmpty:vy,last:Ey,map:Ye,mapTo:xy,materialize:Iy,max:Ty,merge:Py,mergeAll:pa,mergeMap:Ht,flatMap:pd,mergeMapTo:Ny,mergeScan:jy,min:By,multicast:Vt,observeOn:Th,onErrorResumeNext:$y,pairwise:Hy,partition:qy,pluck:Gy,publish:Yy,publishBehavior:Ky,publishLast:Jy,publishReplay:Zy,race:Xy,reduce:ai,repeat:eb,repeatWhen:rb,retry:ob,retryWhen:ub,refCount:ca,sample:fb,sampleTime:pb,scan:Hn,sequenceEqual:vb,share:Eb,shareReplay:xb,single:Cb,skip:Rb,skipLast:Tb,skipUntil:jb,skipWhile:Bb,startWith:Wb,subscribeOn:Hb,switchAll:Gb,switchMap:Jr,switchMapTo:Qb,take:ba,takeLast:Un,takeUntil:Yb,takeWhile:Zb,tap:tg,throttle:ig,throttleTime:ag,throwIfEmpty:si,timeInterval:fg,timeout:yg,timeoutWith:yl,timestamp:bg,toArray:mg,window:wg,windowCount:Eg,windowTime:Cg,windowToggle:Tg,windowWhen:jg,withLatestFrom:Bg,zip:Wg,zipAll:Ug},Symbol.toStringTag,{value:"Module"})),ui=rn(Hg);var gl={exports:{}},ct={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=ei,n=r.Buffer;function i(s,a){for(var u in s)a[u]=s[u]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=o);function o(s,a,u){return n(s,a,u)}o.prototype=Object.create(n.prototype),i(n,o),o.from=function(s,a,u){if(typeof s=="number")throw new TypeError("Argument must not be a number");return n(s,a,u)},o.alloc=function(s,a,u){if(typeof s!="number")throw new TypeError("Argument must be a number");var c=n(s);return a!==void 0?typeof u=="string"?c.fill(a,u):c.fill(a):c.fill(0),c},o.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n(s)},o.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(s)}})(ct,ct.exports);var vl=ct.exports.Buffer;function ci(t,e){this._block=vl.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}ci.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=vl.from(t,e));for(var r=this._block,n=this._blockSize,i=t.length,o=this._len,s=0;s<i;){for(var a=o%n,u=Math.min(i-s,n-a),c=0;c<u;c++)r[a+c]=t[s+c];o+=u,s+=u,o%n===0&&this._update(r)}return this._len+=i,this};ci.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var o=this._hash();return t?o.toString(t):o};ci.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var kr=ci,Vg=Qe.exports,ml=kr,zg=ct.exports.Buffer,qg=[1518500249,1859775393,-1894007588,-899497514],Gg=new Array(80);function cn(){this.init(),this._w=Gg,ml.call(this,64,56)}Vg(cn,ml);cn.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Qg(t){return t<<5|t>>>27}function Yg(t){return t<<30|t>>>2}function Kg(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}cn.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,o=this._d|0,s=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=e[a-3]^e[a-8]^e[a-14]^e[a-16];for(var u=0;u<80;++u){var c=~~(u/20),l=Qg(r)+Kg(c,n,i,o)+s+e[u]+qg[c]|0;s=o,o=i,i=Yg(n),n=r,r=l}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0};cn.prototype._hash=function(){var t=zg.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var Jg=cn,Zg=Qe.exports,wl=kr,Xg=ct.exports.Buffer,e0=[1518500249,1859775393,-1894007588,-899497514],t0=new Array(80);function ln(){this.init(),this._w=t0,wl.call(this,64,56)}Zg(ln,wl);ln.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function r0(t){return t<<1|t>>>31}function n0(t){return t<<5|t>>>27}function i0(t){return t<<30|t>>>2}function o0(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}ln.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,o=this._d|0,s=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=r0(e[a-3]^e[a-8]^e[a-14]^e[a-16]);for(var u=0;u<80;++u){var c=~~(u/20),l=n0(r)+o0(c,n,i,o)+s+e[u]+e0[c]|0;s=o,o=i,i=i0(n),n=r,r=l}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0};ln.prototype._hash=function(){var t=Xg.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var s0=ln,a0=Qe.exports,_l=kr,u0=ct.exports.Buffer,c0=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],l0=new Array(64);function fn(){this.init(),this._w=l0,_l.call(this,64,56)}a0(fn,_l);fn.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function f0(t,e,r){return r^t&(e^r)}function h0(t,e,r){return t&e|r&(t|e)}function d0(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function p0(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function y0(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function b0(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}fn.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,o=this._d|0,s=this._e|0,a=this._f|0,u=this._g|0,c=this._h|0,l=0;l<16;++l)e[l]=t.readInt32BE(l*4);for(;l<64;++l)e[l]=b0(e[l-2])+e[l-7]+y0(e[l-15])+e[l-16]|0;for(var y=0;y<64;++y){var f=c+p0(s)+f0(s,a,u)+c0[y]+e[y]|0,b=d0(r)+h0(r,n,i)|0;c=u,u=a,a=s,s=o+f|0,o=i,i=n,n=r,r=f+b|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0,this._f=a+this._f|0,this._g=u+this._g|0,this._h=c+this._h|0};fn.prototype._hash=function(){var t=u0.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};var Sl=fn,g0=Qe.exports,v0=Sl,m0=kr,w0=ct.exports.Buffer,_0=new Array(64);function li(){this.init(),this._w=_0,m0.call(this,64,56)}g0(li,v0);li.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};li.prototype._hash=function(){var t=w0.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};var S0=li,E0=Qe.exports,El=kr,x0=ct.exports.Buffer,au=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],A0=new Array(160);function hn(){this.init(),this._w=A0,El.call(this,128,112)}E0(hn,El);hn.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function uu(t,e,r){return r^t&(e^r)}function cu(t,e,r){return t&e|r&(t|e)}function lu(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function fu(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function C0(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function I0(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function k0(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function R0(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function Se(t,e){return t>>>0<e>>>0?1:0}hn.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,o=this._dh|0,s=this._eh|0,a=this._fh|0,u=this._gh|0,c=this._hh|0,l=this._al|0,y=this._bl|0,f=this._cl|0,b=this._dl|0,E=this._el|0,C=this._fl|0,N=this._gl|0,p=this._hl|0,m=0;m<32;m+=2)e[m]=t.readInt32BE(m*4),e[m+1]=t.readInt32BE(m*4+4);for(;m<160;m+=2){var x=e[m-30],P=e[m-15*2+1],W=C0(x,P),Y=I0(P,x);x=e[m-2*2],P=e[m-2*2+1];var Z=k0(x,P),Q=R0(P,x),L=e[m-7*2],q=e[m-7*2+1],F=e[m-16*2],g=e[m-16*2+1],S=Y+q|0,A=W+L+Se(S,Y)|0;S=S+Q|0,A=A+Z+Se(S,Q)|0,S=S+g|0,A=A+F+Se(S,g)|0,e[m]=A,e[m+1]=S}for(var k=0;k<160;k+=2){A=e[k],S=e[k+1];var B=cu(r,n,i),O=cu(l,y,f),V=lu(r,l),K=lu(l,r),ue=fu(s,E),G=fu(E,s),_=au[k],I=au[k+1],M=uu(s,a,u),H=uu(E,C,N),v=p+G|0,w=c+ue+Se(v,p)|0;v=v+H|0,w=w+M+Se(v,H)|0,v=v+I|0,w=w+_+Se(v,I)|0,v=v+S|0,w=w+A+Se(v,S)|0;var R=K+O|0,$=V+B+Se(R,K)|0;c=u,p=N,u=a,N=C,a=s,C=E,E=b+v|0,s=o+w+Se(E,b)|0,o=i,b=f,i=n,f=y,n=r,y=l,l=v+R|0,r=w+$+Se(l,v)|0}this._al=this._al+l|0,this._bl=this._bl+y|0,this._cl=this._cl+f|0,this._dl=this._dl+b|0,this._el=this._el+E|0,this._fl=this._fl+C|0,this._gl=this._gl+N|0,this._hl=this._hl+p|0,this._ah=this._ah+r+Se(this._al,l)|0,this._bh=this._bh+n+Se(this._bl,y)|0,this._ch=this._ch+i+Se(this._cl,f)|0,this._dh=this._dh+o+Se(this._dl,b)|0,this._eh=this._eh+s+Se(this._el,E)|0,this._fh=this._fh+a+Se(this._fl,C)|0,this._gh=this._gh+u+Se(this._gl,N)|0,this._hh=this._hh+c+Se(this._hl,p)|0};hn.prototype._hash=function(){var t=x0.allocUnsafe(64);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};var xl=hn,M0=Qe.exports,O0=xl,T0=kr,P0=ct.exports.Buffer,N0=new Array(160);function fi(){this.init(),this._w=N0,T0.call(this,128,112)}M0(fi,O0);fi.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};fi.prototype._hash=function(){var t=P0.allocUnsafe(48);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};var j0=fi,Gt=gl.exports=function(e){e=e.toLowerCase();var r=Gt[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};Gt.sha=Jg;Gt.sha1=s0;Gt.sha224=S0;Gt.sha256=Sl;Gt.sha384=j0;Gt.sha512=xl;var J={},Al=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,r);if(s.value!==i||s.enumerable!==!0)return!1}return!0},hu=typeof Symbol<"u"&&Symbol,D0=Al,L0=function(){return typeof hu!="function"||typeof Symbol!="function"||typeof hu("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:D0()},B0="Function.prototype.bind called on incompatible ",Uo=Array.prototype.slice,F0=Object.prototype.toString,$0="[object Function]",W0=function(e){var r=this;if(typeof r!="function"||F0.call(r)!==$0)throw new TypeError(B0+r);for(var n=Uo.call(arguments,1),i,o=function(){if(this instanceof i){var l=r.apply(this,n.concat(Uo.call(arguments)));return Object(l)===l?l:this}else return r.apply(e,n.concat(Uo.call(arguments)))},s=Math.max(0,r.length-n.length),a=[],u=0;u<s;u++)a.push("$"+u);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var c=function(){};c.prototype=r.prototype,i.prototype=new c,c.prototype=null}return i},U0=W0,dn=Function.prototype.bind||U0,H0=dn,ga=H0.call(Function.call,Object.prototype.hasOwnProperty),fe,Zr=SyntaxError,Cl=Function,ar=TypeError,Ho=function(t){try{return Cl('"use strict"; return ('+t+").constructor;")()}catch{}},Wt=Object.getOwnPropertyDescriptor;if(Wt)try{Wt({},"")}catch{Wt=null}var Vo=function(){throw new ar},V0=Wt?function(){try{return arguments.callee,Vo}catch{try{return Wt(arguments,"callee").get}catch{return Vo}}}():Vo,Zt=L0(),_t=Object.getPrototypeOf||function(t){return t.__proto__},tr={},z0=typeof Uint8Array>"u"?fe:_t(Uint8Array),ur={"%AggregateError%":typeof AggregateError>"u"?fe:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?fe:ArrayBuffer,"%ArrayIteratorPrototype%":Zt?_t([][Symbol.iterator]()):fe,"%AsyncFromSyncIteratorPrototype%":fe,"%AsyncFunction%":tr,"%AsyncGenerator%":tr,"%AsyncGeneratorFunction%":tr,"%AsyncIteratorPrototype%":tr,"%Atomics%":typeof Atomics>"u"?fe:Atomics,"%BigInt%":typeof BigInt>"u"?fe:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?fe:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?fe:Float32Array,"%Float64Array%":typeof Float64Array>"u"?fe:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?fe:FinalizationRegistry,"%Function%":Cl,"%GeneratorFunction%":tr,"%Int8Array%":typeof Int8Array>"u"?fe:Int8Array,"%Int16Array%":typeof Int16Array>"u"?fe:Int16Array,"%Int32Array%":typeof Int32Array>"u"?fe:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Zt?_t(_t([][Symbol.iterator]())):fe,"%JSON%":typeof JSON=="object"?JSON:fe,"%Map%":typeof Map>"u"?fe:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Zt?fe:_t(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?fe:Promise,"%Proxy%":typeof Proxy>"u"?fe:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?fe:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?fe:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Zt?fe:_t(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?fe:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Zt?_t(""[Symbol.iterator]()):fe,"%Symbol%":Zt?Symbol:fe,"%SyntaxError%":Zr,"%ThrowTypeError%":V0,"%TypedArray%":z0,"%TypeError%":ar,"%Uint8Array%":typeof Uint8Array>"u"?fe:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?fe:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?fe:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?fe:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?fe:WeakMap,"%WeakRef%":typeof WeakRef>"u"?fe:WeakRef,"%WeakSet%":typeof WeakSet>"u"?fe:WeakSet},q0=function t(e){var r;if(e==="%AsyncFunction%")r=Ho("async function () {}");else if(e==="%GeneratorFunction%")r=Ho("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Ho("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&(r=_t(i.prototype))}return ur[e]=r,r},du={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},hi=dn,Vn=ga,G0=hi.call(Function.call,Array.prototype.concat),Q0=hi.call(Function.apply,Array.prototype.splice),pu=hi.call(Function.call,String.prototype.replace),zn=hi.call(Function.call,String.prototype.slice),Y0=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,K0=/\\(\\)?/g,J0=function(e){var r=zn(e,0,1),n=zn(e,-1);if(r==="%"&&n!=="%")throw new Zr("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Zr("invalid intrinsic syntax, expected opening `%`");var i=[];return pu(e,Y0,function(o,s,a,u){i[i.length]=a?pu(u,K0,"$1"):s||o}),i},Z0=function(e,r){var n=e,i;if(Vn(du,n)&&(i=du[n],n="%"+i[0]+"%"),Vn(ur,n)){var o=ur[n];if(o===tr&&(o=q0(n)),typeof o>"u"&&!r)throw new ar("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new Zr("intrinsic "+e+" does not exist!")},va=function(e,r){if(typeof e!="string"||e.length===0)throw new ar("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new ar('"allowMissing" argument must be a boolean');var n=J0(e),i=n.length>0?n[0]:"",o=Z0("%"+i+"%",r),s=o.name,a=o.value,u=!1,c=o.alias;c&&(i=c[0],Q0(n,G0([0,1],c)));for(var l=1,y=!0;l<n.length;l+=1){var f=n[l],b=zn(f,0,1),E=zn(f,-1);if((b==='"'||b==="'"||b==="`"||E==='"'||E==="'"||E==="`")&&b!==E)throw new Zr("property names with quotes must have matching quotes");if((f==="constructor"||!y)&&(u=!0),i+="."+f,s="%"+i+"%",Vn(ur,s))a=ur[s];else if(a!=null){if(!(f in a)){if(!r)throw new ar("base intrinsic for "+e+" exists, but the property is not available.");return}if(Wt&&l+1>=n.length){var C=Wt(a,f);y=!!C,y&&"get"in C&&!("originalValue"in C.get)?a=C.get:a=a[f]}else y=Vn(a,f),a=a[f];y&&!u&&(ur[s]=a)}}return a},Il={exports:{}};(function(t){var e=dn,r=va,n=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),o=r("%Reflect.apply%",!0)||e.call(i,n),s=r("%Object.getOwnPropertyDescriptor%",!0),a=r("%Object.defineProperty%",!0),u=r("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}t.exports=function(y){var f=o(e,i,arguments);if(s&&a){var b=s(f,"length");b.configurable&&a(f,"length",{value:1+u(0,y.length-(arguments.length-1))})}return f};var c=function(){return o(e,n,arguments)};a?a(t.exports,"apply",{value:c}):t.exports.apply=c})(Il);var kl=va,Rl=Il.exports,X0=Rl(kl("String.prototype.indexOf")),di=function(e,r){var n=kl(e,!!r);return typeof n=="function"&&X0(e,".prototype.")>-1?Rl(n):n},ma=typeof Map=="function"&&Map.prototype,zo=Object.getOwnPropertyDescriptor&&ma?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,qn=ma&&zo&&typeof zo.get=="function"?zo.get:null,ev=ma&&Map.prototype.forEach,wa=typeof Set=="function"&&Set.prototype,qo=Object.getOwnPropertyDescriptor&&wa?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Gn=wa&&qo&&typeof qo.get=="function"?qo.get:null,tv=wa&&Set.prototype.forEach,rv=typeof WeakMap=="function"&&WeakMap.prototype,Ur=rv?WeakMap.prototype.has:null,nv=typeof WeakSet=="function"&&WeakSet.prototype,Hr=nv?WeakSet.prototype.has:null,iv=typeof WeakRef=="function"&&WeakRef.prototype,yu=iv?WeakRef.prototype.deref:null,ov=Boolean.prototype.valueOf,sv=Object.prototype.toString,av=Function.prototype.toString,uv=String.prototype.match,qs=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Go=Object.getOwnPropertySymbols,Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Xr=typeof Symbol=="function"&&typeof Symbol.iterator=="object",cv=Object.prototype.propertyIsEnumerable,bu=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null),Qo=na.custom,Yo=Qo&&Ol(Qo)?Qo:null,Pe=typeof Symbol=="function"&&typeof Symbol.toStringTag<"u"?Symbol.toStringTag:null,lv=function t(e,r,n,i){var o=r||{};if(jt(o,"quoteStyle")&&o.quoteStyle!=="single"&&o.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(jt(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=jt(o,"customInspect")?o.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(jt(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Pl(e,o);if(typeof e=="number")return e===0?1/0/e>0?"0":"-0":String(e);if(typeof e=="bigint")return String(e)+"n";var a=typeof o.depth>"u"?5:o.depth;if(typeof n>"u"&&(n=0),n>=a&&a>0&&typeof e=="object")return Qs(e)?"[Array]":"[Object]";var u=Rv(o,n);if(typeof i>"u")i=[];else if(Tl(i,e)>=0)return"[Circular]";function c(q,F,g){if(F&&(i=i.slice(),i.push(F)),g){var S={depth:o.depth};return jt(o,"quoteStyle")&&(S.quoteStyle=o.quoteStyle),t(q,S,n+1,i)}return t(q,o,n+1,i)}if(typeof e=="function"){var l=wv(e),y=En(e,c);return"[Function"+(l?": "+l:" (anonymous)")+"]"+(y.length>0?" { "+y.join(", ")+" }":"")}if(Ol(e)){var f=Xr?String(e).replace(/^(Symbol\(.*\))_[^)]*$/,"$1"):Gs.call(e);return typeof e=="object"&&!Xr?jr(f):f}if(Cv(e)){for(var b="<"+String(e.nodeName).toLowerCase(),E=e.attributes||[],C=0;C<E.length;C++)b+=" "+E[C].name+"="+Ml(fv(E[C].value),"double",o);return b+=">",e.childNodes&&e.childNodes.length&&(b+="..."),b+="</"+String(e.nodeName).toLowerCase()+">",b}if(Qs(e)){if(e.length===0)return"[]";var N=En(e,c);return u&&!kv(N)?"["+Ys(N,u)+"]":"[ "+N.join(", ")+" ]"}if(pv(e)){var p=En(e,c);return p.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+p.join(", ")+" }"}if(typeof e=="object"&&s){if(Yo&&typeof e[Yo]=="function")return e[Yo]();if(s!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(_v(e)){var m=[];return ev.call(e,function(q,F){m.push(c(F,e,!0)+" => "+c(q,e))}),gu("Map",qn.call(e),m,u)}if(xv(e)){var x=[];return tv.call(e,function(q){x.push(c(q,e))}),gu("Set",Gn.call(e),x,u)}if(Sv(e))return Ko("WeakMap");if(Av(e))return Ko("WeakSet");if(Ev(e))return Ko("WeakRef");if(bv(e))return jr(c(Number(e)));if(vv(e))return jr(c(qs.call(e)));if(gv(e))return jr(ov.call(e));if(yv(e))return jr(c(String(e)));if(!hv(e)&&!dv(e)){var P=En(e,c),W=bu?bu(e)===Object.prototype:e instanceof Object||e.constructor===Object,Y=e instanceof Object?"":"null prototype",Z=!W&&Pe&&Object(e)===e&&Pe in e?Tt(e).slice(8,-1):Y?"Object":"",Q=W||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",L=Q+(Z||Y?"["+[].concat(Z||[],Y||[]).join(": ")+"] ":"");return P.length===0?L+"{}":u?L+"{"+Ys(P,u)+"}":L+"{ "+P.join(", ")+" }"}return String(e)};function Ml(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function fv(t){return String(t).replace(/"/g,"&quot;")}function Qs(t){return Tt(t)==="[object Array]"&&(!Pe||!(typeof t=="object"&&Pe in t))}function hv(t){return Tt(t)==="[object Date]"&&(!Pe||!(typeof t=="object"&&Pe in t))}function dv(t){return Tt(t)==="[object RegExp]"&&(!Pe||!(typeof t=="object"&&Pe in t))}function pv(t){return Tt(t)==="[object Error]"&&(!Pe||!(typeof t=="object"&&Pe in t))}function yv(t){return Tt(t)==="[object String]"&&(!Pe||!(typeof t=="object"&&Pe in t))}function bv(t){return Tt(t)==="[object Number]"&&(!Pe||!(typeof t=="object"&&Pe in t))}function gv(t){return Tt(t)==="[object Boolean]"&&(!Pe||!(typeof t=="object"&&Pe in t))}function Ol(t){if(Xr)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Gs)return!1;try{return Gs.call(t),!0}catch{}return!1}function vv(t){if(!t||typeof t!="object"||!qs)return!1;try{return qs.call(t),!0}catch{}return!1}var mv=Object.prototype.hasOwnProperty||function(t){return t in this};function jt(t,e){return mv.call(t,e)}function Tt(t){return sv.call(t)}function wv(t){if(t.name)return t.name;var e=uv.call(av.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function Tl(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function _v(t){if(!qn||!t||typeof t!="object")return!1;try{qn.call(t);try{Gn.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function Sv(t){if(!Ur||!t||typeof t!="object")return!1;try{Ur.call(t,Ur);try{Hr.call(t,Hr)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function Ev(t){if(!yu||!t||typeof t!="object")return!1;try{return yu.call(t),!0}catch{}return!1}function xv(t){if(!Gn||!t||typeof t!="object")return!1;try{Gn.call(t);try{qn.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function Av(t){if(!Hr||!t||typeof t!="object")return!1;try{Hr.call(t,Hr);try{Ur.call(t,Ur)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function Cv(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function Pl(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return Pl(t.slice(0,e.maxStringLength),e)+n}var i=t.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,Iv);return Ml(i,"single",e)}function Iv(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+e.toString(16).toUpperCase()}function jr(t){return"Object("+t+")"}function Ko(t){return t+" { ? }"}function gu(t,e,r,n){var i=n?Ys(r,n):r.join(", ");return t+" ("+e+") {"+i+"}"}function kv(t){for(var e=0;e<t.length;e++)if(Tl(t[e],`
`)>=0)return!1;return!0}function Rv(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Array(t.indent+1).join(" ");else return null;return{base:r,prev:Array(e+1).join(r)}}function Ys(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+t.join(","+r)+`
`+e.prev}function En(t,e){var r=Qs(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=jt(t,i)?e(t[i],t):""}var o=typeof Go=="function"?Go(t):[],s;if(Xr){s={};for(var a=0;a<o.length;a++)s["$"+o[a]]=o[a]}for(var u in t)!jt(t,u)||r&&String(Number(u))===u&&u<t.length||Xr&&s["$"+u]instanceof Symbol||(/[^\w$]/.test(u)?n.push(e(u,t)+": "+e(t[u],t)):n.push(u+": "+e(t[u],t)));if(typeof Go=="function")for(var c=0;c<o.length;c++)cv.call(t,o[c])&&n.push("["+e(o[c])+"]: "+e(t[o[c]],t));return n}var _a=va,Rr=di,Mv=lv,Ov=_a("%TypeError%"),xn=_a("%WeakMap%",!0),An=_a("%Map%",!0),Tv=Rr("WeakMap.prototype.get",!0),Pv=Rr("WeakMap.prototype.set",!0),Nv=Rr("WeakMap.prototype.has",!0),jv=Rr("Map.prototype.get",!0),Dv=Rr("Map.prototype.set",!0),Lv=Rr("Map.prototype.has",!0),Sa=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},Bv=function(t,e){var r=Sa(t,e);return r&&r.value},Fv=function(t,e,r){var n=Sa(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},$v=function(t,e){return!!Sa(t,e)},Wv=function(){var e,r,n,i={assert:function(o){if(!i.has(o))throw new Ov("Side channel does not contain "+Mv(o))},get:function(o){if(xn&&o&&(typeof o=="object"||typeof o=="function")){if(e)return Tv(e,o)}else if(An){if(r)return jv(r,o)}else if(n)return Bv(n,o)},has:function(o){if(xn&&o&&(typeof o=="object"||typeof o=="function")){if(e)return Nv(e,o)}else if(An){if(r)return Lv(r,o)}else if(n)return $v(n,o);return!1},set:function(o,s){xn&&o&&(typeof o=="object"||typeof o=="function")?(e||(e=new xn),Pv(e,o,s)):An?(r||(r=new An),Dv(r,o,s)):(n||(n={key:{},next:null}),Fv(n,o,s))}};return i},Uv=String.prototype.replace,Hv=/%20/g,Jo={RFC1738:"RFC1738",RFC3986:"RFC3986"},Ea={default:Jo.RFC3986,formatters:{RFC1738:function(t){return Uv.call(t,Hv,"+")},RFC3986:function(t){return String(t)}},RFC1738:Jo.RFC1738,RFC3986:Jo.RFC3986},Vv=Ea,Zo=Object.prototype.hasOwnProperty,Dt=Array.isArray,it=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),zv=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Dt(n)){for(var i=[],o=0;o<n.length;++o)typeof n[o]<"u"&&i.push(n[o]);r.obj[r.prop]=i}}},Nl=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},qv=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(Dt(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!Zo.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return Dt(e)&&!Dt(r)&&(i=Nl(e,n)),Dt(e)&&Dt(r)?(r.forEach(function(o,s){if(Zo.call(e,s)){var a=e[s];a&&typeof a=="object"&&o&&typeof o=="object"?e[s]=t(a,o,n):e.push(o)}else e[s]=o}),e):Object.keys(r).reduce(function(o,s){var a=r[s];return Zo.call(o,s)?o[s]=t(o[s],a,n):o[s]=a,o},i)},Gv=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},Qv=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},Yv=function(e,r,n,i,o){if(e.length===0)return e;var s=e;if(typeof e=="symbol"?s=Symbol.prototype.toString.call(e):typeof e!="string"&&(s=String(e)),n==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});for(var a="",u=0;u<s.length;++u){var c=s.charCodeAt(u);if(c===45||c===46||c===95||c===126||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||o===Vv.RFC1738&&(c===40||c===41)){a+=s.charAt(u);continue}if(c<128){a=a+it[c];continue}if(c<2048){a=a+(it[192|c>>6]+it[128|c&63]);continue}if(c<55296||c>=57344){a=a+(it[224|c>>12]+it[128|c>>6&63]+it[128|c&63]);continue}u+=1,c=65536+((c&1023)<<10|s.charCodeAt(u)&1023),a+=it[240|c>>18]+it[128|c>>12&63]+it[128|c>>6&63]+it[128|c&63]}return a},Kv=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var o=r[i],s=o.obj[o.prop],a=Object.keys(s),u=0;u<a.length;++u){var c=a[u],l=s[c];typeof l=="object"&&l!==null&&n.indexOf(l)===-1&&(r.push({obj:s,prop:c}),n.push(l))}return zv(r),e},Jv=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Zv=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Xv=function(e,r){return[].concat(e,r)},em=function(e,r){if(Dt(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},jl={arrayToObject:Nl,assign:Gv,combine:Xv,compact:Kv,decode:Qv,encode:Yv,isBuffer:Zv,isRegExp:Jv,maybeMap:em,merge:qv},Dl=Wv,Ks=jl,Vr=Ea,tm=Object.prototype.hasOwnProperty,vu={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},dt=Array.isArray,rm=String.prototype.split,nm=Array.prototype.push,Ll=function(t,e){nm.apply(t,dt(e)?e:[e])},im=Date.prototype.toISOString,mu=Vr.default,ke={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Ks.encode,encodeValuesOnly:!1,format:mu,formatter:Vr.formatters[mu],indices:!1,serializeDate:function(e){return im.call(e)},skipNulls:!1,strictNullHandling:!1},om=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Xo={},sm=function t(e,r,n,i,o,s,a,u,c,l,y,f,b,E,C,N){for(var p=e,m=N,x=0,P=!1;(m=m.get(Xo))!==void 0&&!P;){var W=m.get(e);if(x+=1,typeof W<"u"){if(W===x)throw new RangeError("Cyclic object value");P=!0}typeof m.get(Xo)>"u"&&(x=0)}if(typeof u=="function"?p=u(r,p):p instanceof Date?p=y(p):n==="comma"&&dt(p)&&(p=Ks.maybeMap(p,function(K){return K instanceof Date?y(K):K})),p===null){if(o)return a&&!E?a(r,ke.encoder,C,"key",f):r;p=""}if(om(p)||Ks.isBuffer(p)){if(a){var Y=E?r:a(r,ke.encoder,C,"key",f);if(n==="comma"&&E){for(var Z=rm.call(String(p),","),Q="",L=0;L<Z.length;++L)Q+=(L===0?"":",")+b(a(Z[L],ke.encoder,C,"value",f));return[b(Y)+(i&&dt(p)&&Z.length===1?"[]":"")+"="+Q]}return[b(Y)+"="+b(a(p,ke.encoder,C,"value",f))]}return[b(r)+"="+b(String(p))]}var q=[];if(typeof p>"u")return q;var F;if(n==="comma"&&dt(p))F=[{value:p.length>0?p.join(",")||null:void 0}];else if(dt(u))F=u;else{var g=Object.keys(p);F=c?g.sort(c):g}for(var S=i&&dt(p)&&p.length===1?r+"[]":r,A=0;A<F.length;++A){var k=F[A],B=typeof k=="object"&&typeof k.value<"u"?k.value:p[k];if(!(s&&B===null)){var O=dt(p)?typeof n=="function"?n(S,k):S:S+(l?"."+k:"["+k+"]");N.set(e,x);var V=Dl();V.set(Xo,N),Ll(q,t(B,O,n,i,o,s,a,u,c,l,y,f,b,E,C,V))}}return q},am=function(e){if(!e)return ke;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||ke.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Vr.default;if(typeof e.format<"u"){if(!tm.call(Vr.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=Vr.formatters[n],o=ke.filter;return(typeof e.filter=="function"||dt(e.filter))&&(o=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:ke.addQueryPrefix,allowDots:typeof e.allowDots>"u"?ke.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ke.charsetSentinel,delimiter:typeof e.delimiter>"u"?ke.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:ke.encode,encoder:typeof e.encoder=="function"?e.encoder:ke.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:ke.encodeValuesOnly,filter:o,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:ke.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:ke.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ke.strictNullHandling}},um=function(t,e){var r=t,n=am(e),i,o;typeof n.filter=="function"?(o=n.filter,r=o("",r)):dt(n.filter)&&(o=n.filter,i=o);var s=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in vu?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var u=vu[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var c=u==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var l=Dl(),y=0;y<i.length;++y){var f=i[y];n.skipNulls&&r[f]===null||Ll(s,sm(r[f],f,u,c,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}var b=s.join(n.delimiter),E=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?E+="utf8=%26%2310003%3B&":E+="utf8=%E2%9C%93&"),b.length>0?E+b:""},br=jl,Js=Object.prototype.hasOwnProperty,cm=Array.isArray,xe={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:br.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},lm=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},Bl=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},fm="utf8=%26%2310003%3B",hm="utf8=%E2%9C%93",dm=function(e,r){var n={},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=r.parameterLimit===1/0?void 0:r.parameterLimit,s=i.split(r.delimiter,o),a=-1,u,c=r.charset;if(r.charsetSentinel)for(u=0;u<s.length;++u)s[u].indexOf("utf8=")===0&&(s[u]===hm?c="utf-8":s[u]===fm&&(c="iso-8859-1"),a=u,u=s.length);for(u=0;u<s.length;++u)if(u!==a){var l=s[u],y=l.indexOf("]="),f=y===-1?l.indexOf("="):y+1,b,E;f===-1?(b=r.decoder(l,xe.decoder,c,"key"),E=r.strictNullHandling?null:""):(b=r.decoder(l.slice(0,f),xe.decoder,c,"key"),E=br.maybeMap(Bl(l.slice(f+1),r),function(C){return r.decoder(C,xe.decoder,c,"value")})),E&&r.interpretNumericEntities&&c==="iso-8859-1"&&(E=lm(E)),l.indexOf("[]=")>-1&&(E=cm(E)?[E]:E),Js.call(n,b)?n[b]=br.combine(n[b],E):n[b]=E}return n},pm=function(t,e,r,n){for(var i=n?e:Bl(e,r),o=t.length-1;o>=0;--o){var s,a=t[o];if(a==="[]"&&r.parseArrays)s=[].concat(i);else{s=r.plainObjects?Object.create(null):{};var u=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,c=parseInt(u,10);!r.parseArrays&&u===""?s={0:i}:!isNaN(c)&&a!==u&&String(c)===u&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(s=[],s[c]=i):u!=="__proto__"&&(s[u]=i)}i=s}return i},ym=function(e,r,n,i){if(!!e){var o=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,u=n.depth>0&&s.exec(o),c=u?o.slice(0,u.index):o,l=[];if(c){if(!n.plainObjects&&Js.call(Object.prototype,c)&&!n.allowPrototypes)return;l.push(c)}for(var y=0;n.depth>0&&(u=a.exec(o))!==null&&y<n.depth;){if(y+=1,!n.plainObjects&&Js.call(Object.prototype,u[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(u[1])}return u&&l.push("["+o.slice(u.index)+"]"),pm(l,r,n,i)}},bm=function(e){if(!e)return xe;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?xe.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?xe.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:xe.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:xe.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:xe.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:xe.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:xe.comma,decoder:typeof e.decoder=="function"?e.decoder:xe.decoder,delimiter:typeof e.delimiter=="string"||br.isRegExp(e.delimiter)?e.delimiter:xe.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:xe.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:xe.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:xe.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:xe.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:xe.strictNullHandling}},gm=function(t,e){var r=bm(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?dm(t,r):t,i=r.plainObjects?Object.create(null):{},o=Object.keys(n),s=0;s<o.length;++s){var a=o[s],u=ym(a,n[a],r,typeof t=="string");i=br.merge(i,u,r)}return r.allowSparse===!0?i:br.compact(i)},vm=um,mm=gm,wm=Ea,_m={formats:wm,parse:mm,stringify:vm},pn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ProviderType=t.RegExpString=t.IntNumber=t.BigIntString=t.AddressString=t.HexString=t.OpaqueType=void 0;function e(){return n=>n}t.OpaqueType=e,t.HexString=e(),t.AddressString=e(),t.BigIntString=e();function r(n){return Math.floor(n)}t.IntNumber=r,t.RegExpString=e(),function(n){n.CoinbaseWallet="CoinbaseWallet",n.MetaMask="MetaMask",n.Unselected=""}(t.ProviderType||(t.ProviderType={}))})(pn);var Sm=ie&&ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(J,"__esModule",{value:!0});J.isInIFrame=J.createQrUrl=J.getFavicon=J.range=J.isBigNumber=J.ensureParsedJSONObject=J.ensureBN=J.ensureRegExpString=J.ensureIntNumber=J.ensureBuffer=J.ensureAddressString=J.ensureEvenLengthHexString=J.ensureHexString=J.isHexString=J.prepend0x=J.strip0x=J.has0xPrefix=J.hexStringFromIntNumber=J.intNumberFromHexString=J.bigIntStringFromBN=J.hexStringFromBuffer=J.hexStringToUint8Array=J.uint8ArrayToHex=J.randomBytesHex=void 0;const Et=Sm(Zn.exports),Em=_m,Ge=pn,Fl=/^[0-9]*$/,$l=/^[a-f0-9]*$/;function xm(t){return Wl(crypto.getRandomValues(new Uint8Array(t)))}J.randomBytesHex=xm;function Wl(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}J.uint8ArrayToHex=Wl;function Am(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>parseInt(e,16)))}J.hexStringToUint8Array=Am;function Cm(t,e=!1){const r=t.toString("hex");return(0,Ge.HexString)(e?"0x"+r:r)}J.hexStringFromBuffer=Cm;function Im(t){return(0,Ge.BigIntString)(t.toString(10))}J.bigIntStringFromBN=Im;function km(t){return(0,Ge.IntNumber)(new Et.default(bn(t,!1),16).toNumber())}J.intNumberFromHexString=km;function Rm(t){return(0,Ge.HexString)("0x"+new Et.default(t).toString(16))}J.hexStringFromIntNumber=Rm;function xa(t){return t.startsWith("0x")||t.startsWith("0X")}J.has0xPrefix=xa;function pi(t){return xa(t)?t.slice(2):t}J.strip0x=pi;function Ul(t){return xa(t)?"0x"+t.slice(2):"0x"+t}J.prepend0x=Ul;function yn(t){if(typeof t!="string")return!1;const e=pi(t).toLowerCase();return $l.test(e)}J.isHexString=yn;function Hl(t,e=!1){if(typeof t=="string"){const r=pi(t).toLowerCase();if($l.test(r))return(0,Ge.HexString)(e?"0x"+r:r)}throw new Error(`"${String(t)}" is not a hexadecimal string`)}J.ensureHexString=Hl;function bn(t,e=!1){let r=Hl(t,!1);return r.length%2===1&&(r=(0,Ge.HexString)("0"+r)),e?(0,Ge.HexString)("0x"+r):r}J.ensureEvenLengthHexString=bn;function Mm(t){if(typeof t=="string"){const e=pi(t).toLowerCase();if(yn(e)&&e.length===40)return(0,Ge.AddressString)(Ul(e))}throw new Error(`Invalid Ethereum address: ${String(t)}`)}J.ensureAddressString=Mm;function Om(t){if(ae.isBuffer(t))return t;if(typeof t=="string")if(yn(t)){const e=bn(t,!1);return ae.from(e,"hex")}else return ae.from(t,"utf8");throw new Error(`Not binary data: ${String(t)}`)}J.ensureBuffer=Om;function Vl(t){if(typeof t=="number"&&Number.isInteger(t))return(0,Ge.IntNumber)(t);if(typeof t=="string"){if(Fl.test(t))return(0,Ge.IntNumber)(Number(t));if(yn(t))return(0,Ge.IntNumber)(new Et.default(bn(t,!1),16).toNumber())}throw new Error(`Not an integer: ${String(t)}`)}J.ensureIntNumber=Vl;function Tm(t){if(t instanceof RegExp)return(0,Ge.RegExpString)(t.toString());throw new Error(`Not a RegExp: ${String(t)}`)}J.ensureRegExpString=Tm;function Pm(t){if(t!==null&&(Et.default.isBN(t)||zl(t)))return new Et.default(t.toString(10),10);if(typeof t=="number")return new Et.default(Vl(t));if(typeof t=="string"){if(Fl.test(t))return new Et.default(t,10);if(yn(t))return new Et.default(bn(t,!1),16)}throw new Error(`Not an integer: ${String(t)}`)}J.ensureBN=Pm;function Nm(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw new Error(`Not a JSON string or an object: ${String(t)}`)}J.ensureParsedJSONObject=Nm;function zl(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}J.isBigNumber=zl;function jm(t,e){return Array.from({length:e-t},(r,n)=>t+n)}J.range=jm;function Dm(){const t=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:r}=document.location,n=t?t.getAttribute("href"):null;return!n||n.startsWith("javascript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?e+n:`${e}//${r}${n}`}J.getFavicon=Dm;function Lm(t,e,r,n,i,o){const s=n?"parent-id":"id",a=(0,Em.stringify)({[s]:t,secret:e,server:r,v:i,chainId:o});return`${r}/#/link?${a}`}J.createQrUrl=Lm;function Bm(){try{return window.frameElement!==null}catch{return!1}}J.isInIFrame=Bm;Object.defineProperty(Er,"__esModule",{value:!0});Er.Session=void 0;const Fm=Ir,wu=ui,_u=gl.exports,Su=J,es="session:id",Eu="session:secret",xu="session:linked";class Aa{constructor(e,r,n,i){this._storage=e,this._id=r||(0,Su.randomBytesHex)(16),this._secret=n||(0,Su.randomBytesHex)(32),this._key=new _u.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(e){const r=e.getItem(es),n=e.getItem(xu),i=e.getItem(Eu);return r&&i?new Aa(e,r,i,n==="1"):null}static get persistedSessionIdChange$(){return(0,Fm.fromEvent)(window,"storage").pipe((0,wu.filter)(e=>e.key===es),(0,wu.map)(e=>({oldValue:e.oldValue||null,newValue:e.newValue||null})))}static hash(e){return new _u.sha256().update(e).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(es,this._id),this._storage.setItem(Eu,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(xu,this._linked?"1":"0")}}Er.Session=Aa;var tt={};Object.defineProperty(tt,"__esModule",{value:!0});tt.WalletSDKRelayAbstract=tt.APP_VERSION_KEY=tt.LOCAL_STORAGE_ADDRESSES_KEY=tt.WALLET_USER_NAME_KEY=void 0;const Au=ni;tt.WALLET_USER_NAME_KEY="walletUsername";tt.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";tt.APP_VERSION_KEY="AppVersion";class $m{async makeEthereumJSONRPCRequest(e,r){if(!r)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(r,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{if(!n)throw Au.ethErrors.rpc.parse({});const i=n,{error:o}=i;if(o)throw(0,Au.serializeError)(o);return i})}}tt.WalletSDKRelayAbstract=$m;var Qn={exports:{}},ql=Xn.exports.EventEmitter,ts,Cu;function Wm(){if(Cu)return ts;Cu=1;function t(f,b){var E=Object.keys(f);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(f);b&&(C=C.filter(function(N){return Object.getOwnPropertyDescriptor(f,N).enumerable})),E.push.apply(E,C)}return E}function e(f){for(var b=1;b<arguments.length;b++){var E=arguments[b]!=null?arguments[b]:{};b%2?t(Object(E),!0).forEach(function(C){r(f,C,E[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(E)):t(Object(E)).forEach(function(C){Object.defineProperty(f,C,Object.getOwnPropertyDescriptor(E,C))})}return f}function r(f,b,E){return b in f?Object.defineProperty(f,b,{value:E,enumerable:!0,configurable:!0,writable:!0}):f[b]=E,f}function n(f,b){if(!(f instanceof b))throw new TypeError("Cannot call a class as a function")}function i(f,b){for(var E=0;E<b.length;E++){var C=b[E];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(f,C.key,C)}}function o(f,b,E){return b&&i(f.prototype,b),E&&i(f,E),f}var s=ei,a=s.Buffer,u=na,c=u.inspect,l=c&&c.custom||"inspect";function y(f,b,E){a.prototype.copy.call(f,b,E)}return ts=function(){function f(){n(this,f),this.head=null,this.tail=null,this.length=0}return o(f,[{key:"push",value:function(E){var C={data:E,next:null};this.length>0?this.tail.next=C:this.head=C,this.tail=C,++this.length}},{key:"unshift",value:function(E){var C={data:E,next:this.head};this.length===0&&(this.tail=C),this.head=C,++this.length}},{key:"shift",value:function(){if(this.length!==0){var E=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,E}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(E){if(this.length===0)return"";for(var C=this.head,N=""+C.data;C=C.next;)N+=E+C.data;return N}},{key:"concat",value:function(E){if(this.length===0)return a.alloc(0);for(var C=a.allocUnsafe(E>>>0),N=this.head,p=0;N;)y(N.data,C,p),p+=N.data.length,N=N.next;return C}},{key:"consume",value:function(E,C){var N;return E<this.head.data.length?(N=this.head.data.slice(0,E),this.head.data=this.head.data.slice(E)):E===this.head.data.length?N=this.shift():N=C?this._getString(E):this._getBuffer(E),N}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(E){var C=this.head,N=1,p=C.data;for(E-=p.length;C=C.next;){var m=C.data,x=E>m.length?m.length:E;if(x===m.length?p+=m:p+=m.slice(0,E),E-=x,E===0){x===m.length?(++N,C.next?this.head=C.next:this.head=this.tail=null):(this.head=C,C.data=m.slice(x));break}++N}return this.length-=N,p}},{key:"_getBuffer",value:function(E){var C=a.allocUnsafe(E),N=this.head,p=1;for(N.data.copy(C),E-=N.data.length;N=N.next;){var m=N.data,x=E>m.length?m.length:E;if(m.copy(C,C.length-E,0,x),E-=x,E===0){x===m.length?(++p,N.next?this.head=N.next:this.head=this.tail=null):(this.head=N,N.data=m.slice(x));break}++p}return this.length-=p,C}},{key:l,value:function(E,C){return c(this,e({},C,{depth:0,customInspect:!1}))}}]),f}(),ts}function Um(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,ne.nextTick(Zs,this,t)):ne.nextTick(Zs,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?r._writableState?r._writableState.errorEmitted?ne.nextTick(Nn,r):(r._writableState.errorEmitted=!0,ne.nextTick(Iu,r,o)):ne.nextTick(Iu,r,o):e?(ne.nextTick(Nn,r),e(o)):ne.nextTick(Nn,r)}),this)}function Iu(t,e){Zs(t,e),Nn(t)}function Nn(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function Hm(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Zs(t,e){t.emit("error",e)}function Vm(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}var Gl={destroy:Um,undestroy:Hm,errorOrDestroy:Vm},Qt={};function zm(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Ql={};function Ke(t,e,r){r||(r=Error);function n(o,s,a){return typeof e=="string"?e:e(o,s,a)}var i=function(o){zm(s,o);function s(a,u,c){return o.call(this,n(a,u,c))||this}return s}(r);i.prototype.name=r.name,i.prototype.code=t,Ql[t]=i}function ku(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function qm(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function Gm(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function Qm(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}Ke("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);Ke("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&qm(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(Gm(t," argument"))i="The ".concat(t," ").concat(n," ").concat(ku(e,"type"));else{var o=Qm(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(o," ").concat(n," ").concat(ku(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);Ke("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Ke("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});Ke("ERR_STREAM_PREMATURE_CLOSE","Premature close");Ke("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});Ke("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Ke("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Ke("ERR_STREAM_WRITE_AFTER_END","write after end");Ke("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Ke("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);Ke("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Qt.codes=Ql;var Ym=Qt.codes.ERR_INVALID_OPT_VALUE;function Km(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function Jm(t,e,r,n){var i=Km(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var o=n?r:"highWaterMark";throw new Ym(o,i)}return Math.floor(i)}return t.objectMode?16:16*1024}var Yl={getHighWaterMark:Jm},Zm=Xm;function Xm(t,e){if(rs("noDeprecation"))return t;var r=!1;function n(){if(!r){if(rs("throwDeprecation"))throw new Error(e);rs("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function rs(t){try{if(!ie.localStorage)return!1}catch{return!1}var e=ie.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}var ns,Ru;function Kl(){if(Ru)return ns;Ru=1,ns=Q;function t(v){var w=this;this.next=null,this.entry=null,this.finish=function(){H(w,v)}}var e;Q.WritableState=Y;var r={deprecate:Zm},n=ql,i=ei.Buffer,o=ie.Uint8Array||function(){};function s(v){return i.from(v)}function a(v){return i.isBuffer(v)||v instanceof o}var u=Gl,c=Yl,l=c.getHighWaterMark,y=Qt.codes,f=y.ERR_INVALID_ARG_TYPE,b=y.ERR_METHOD_NOT_IMPLEMENTED,E=y.ERR_MULTIPLE_CALLBACK,C=y.ERR_STREAM_CANNOT_PIPE,N=y.ERR_STREAM_DESTROYED,p=y.ERR_STREAM_NULL_VALUES,m=y.ERR_STREAM_WRITE_AFTER_END,x=y.ERR_UNKNOWN_ENCODING,P=u.errorOrDestroy;Qe.exports(Q,n);function W(){}function Y(v,w,R){e=e||gr(),v=v||{},typeof R!="boolean"&&(R=w instanceof e),this.objectMode=!!v.objectMode,R&&(this.objectMode=this.objectMode||!!v.writableObjectMode),this.highWaterMark=l(this,v,"writableHighWaterMark",R),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var $=v.decodeStrings===!1;this.decodeStrings=!$,this.defaultEncoding=v.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(z){B(w,z)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=v.emitClose!==!1,this.autoDestroy=!!v.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}Y.prototype.getBuffer=function(){for(var w=this.bufferedRequest,R=[];w;)R.push(w),w=w.next;return R},function(){try{Object.defineProperty(Y.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var Z;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Z=Function.prototype[Symbol.hasInstance],Object.defineProperty(Q,Symbol.hasInstance,{value:function(w){return Z.call(this,w)?!0:this!==Q?!1:w&&w._writableState instanceof Y}})):Z=function(w){return w instanceof this};function Q(v){e=e||gr();var w=this instanceof e;if(!w&&!Z.call(Q,this))return new Q(v);this._writableState=new Y(v,this,w),this.writable=!0,v&&(typeof v.write=="function"&&(this._write=v.write),typeof v.writev=="function"&&(this._writev=v.writev),typeof v.destroy=="function"&&(this._destroy=v.destroy),typeof v.final=="function"&&(this._final=v.final)),n.call(this)}Q.prototype.pipe=function(){P(this,new C)};function L(v,w){var R=new m;P(v,R),ne.nextTick(w,R)}function q(v,w,R,$){var z;return R===null?z=new p:typeof R!="string"&&!w.objectMode&&(z=new f("chunk",["string","Buffer"],R)),z?(P(v,z),ne.nextTick($,z),!1):!0}Q.prototype.write=function(v,w,R){var $=this._writableState,z=!1,h=!$.objectMode&&a(v);return h&&!i.isBuffer(v)&&(v=s(v)),typeof w=="function"&&(R=w,w=null),h?w="buffer":w||(w=$.defaultEncoding),typeof R!="function"&&(R=W),$.ending?L(this,R):(h||q(this,$,v,R))&&($.pendingcb++,z=g(this,$,h,v,w,R)),z},Q.prototype.cork=function(){this._writableState.corked++},Q.prototype.uncork=function(){var v=this._writableState;v.corked&&(v.corked--,!v.writing&&!v.corked&&!v.bufferProcessing&&v.bufferedRequest&&K(this,v))},Q.prototype.setDefaultEncoding=function(w){if(typeof w=="string"&&(w=w.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((w+"").toLowerCase())>-1))throw new x(w);return this._writableState.defaultEncoding=w,this},Object.defineProperty(Q.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function F(v,w,R){return!v.objectMode&&v.decodeStrings!==!1&&typeof w=="string"&&(w=i.from(w,R)),w}Object.defineProperty(Q.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function g(v,w,R,$,z,h){if(!R){var d=F(w,$,z);$!==d&&(R=!0,z="buffer",$=d)}var j=w.objectMode?1:$.length;w.length+=j;var U=w.length<w.highWaterMark;if(U||(w.needDrain=!0),w.writing||w.corked){var de=w.lastBufferedRequest;w.lastBufferedRequest={chunk:$,encoding:z,isBuf:R,callback:h,next:null},de?de.next=w.lastBufferedRequest:w.bufferedRequest=w.lastBufferedRequest,w.bufferedRequestCount+=1}else S(v,w,!1,j,$,z,h);return U}function S(v,w,R,$,z,h,d){w.writelen=$,w.writecb=d,w.writing=!0,w.sync=!0,w.destroyed?w.onwrite(new N("write")):R?v._writev(z,w.onwrite):v._write(z,h,w.onwrite),w.sync=!1}function A(v,w,R,$,z){--w.pendingcb,R?(ne.nextTick(z,$),ne.nextTick(I,v,w),v._writableState.errorEmitted=!0,P(v,$)):(z($),v._writableState.errorEmitted=!0,P(v,$),I(v,w))}function k(v){v.writing=!1,v.writecb=null,v.length-=v.writelen,v.writelen=0}function B(v,w){var R=v._writableState,$=R.sync,z=R.writecb;if(typeof z!="function")throw new E;if(k(R),w)A(v,R,$,w,z);else{var h=ue(R)||v.destroyed;!h&&!R.corked&&!R.bufferProcessing&&R.bufferedRequest&&K(v,R),$?ne.nextTick(O,v,R,h,z):O(v,R,h,z)}}function O(v,w,R,$){R||V(v,w),w.pendingcb--,$(),I(v,w)}function V(v,w){w.length===0&&w.needDrain&&(w.needDrain=!1,v.emit("drain"))}function K(v,w){w.bufferProcessing=!0;var R=w.bufferedRequest;if(v._writev&&R&&R.next){var $=w.bufferedRequestCount,z=new Array($),h=w.corkedRequestsFree;h.entry=R;for(var d=0,j=!0;R;)z[d]=R,R.isBuf||(j=!1),R=R.next,d+=1;z.allBuffers=j,S(v,w,!0,w.length,z,"",h.finish),w.pendingcb++,w.lastBufferedRequest=null,h.next?(w.corkedRequestsFree=h.next,h.next=null):w.corkedRequestsFree=new t(w),w.bufferedRequestCount=0}else{for(;R;){var U=R.chunk,de=R.encoding,te=R.callback,he=w.objectMode?1:U.length;if(S(v,w,!1,he,U,de,te),R=R.next,w.bufferedRequestCount--,w.writing)break}R===null&&(w.lastBufferedRequest=null)}w.bufferedRequest=R,w.bufferProcessing=!1}Q.prototype._write=function(v,w,R){R(new b("_write()"))},Q.prototype._writev=null,Q.prototype.end=function(v,w,R){var $=this._writableState;return typeof v=="function"?(R=v,v=null,w=null):typeof w=="function"&&(R=w,w=null),v!=null&&this.write(v,w),$.corked&&($.corked=1,this.uncork()),$.ending||M(this,$,R),this},Object.defineProperty(Q.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ue(v){return v.ending&&v.length===0&&v.bufferedRequest===null&&!v.finished&&!v.writing}function G(v,w){v._final(function(R){w.pendingcb--,R&&P(v,R),w.prefinished=!0,v.emit("prefinish"),I(v,w)})}function _(v,w){!w.prefinished&&!w.finalCalled&&(typeof v._final=="function"&&!w.destroyed?(w.pendingcb++,w.finalCalled=!0,ne.nextTick(G,v,w)):(w.prefinished=!0,v.emit("prefinish")))}function I(v,w){var R=ue(w);if(R&&(_(v,w),w.pendingcb===0&&(w.finished=!0,v.emit("finish"),w.autoDestroy))){var $=v._readableState;(!$||$.autoDestroy&&$.endEmitted)&&v.destroy()}return R}function M(v,w,R){w.ending=!0,I(v,w),R&&(w.finished?ne.nextTick(R):v.once("finish",R)),w.ended=!0,v.writable=!1}function H(v,w,R){var $=v.entry;for(v.entry=null;$;){var z=$.callback;w.pendingcb--,z(R),$=$.next}w.corkedRequestsFree.next=v}return Object.defineProperty(Q.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(w){!this._writableState||(this._writableState.destroyed=w)}}),Q.prototype.destroy=u.destroy,Q.prototype._undestroy=u.undestroy,Q.prototype._destroy=function(v,w){w(v)},ns}var is,Mu;function gr(){if(Mu)return is;Mu=1;var t=Object.keys||function(c){var l=[];for(var y in c)l.push(y);return l};is=s;var e=Zl(),r=Kl();Qe.exports(s,e);for(var n=t(r.prototype),i=0;i<n.length;i++){var o=n[i];s.prototype[o]||(s.prototype[o]=r.prototype[o])}function s(c){if(!(this instanceof s))return new s(c);e.call(this,c),r.call(this,c),this.allowHalfOpen=!0,c&&(c.readable===!1&&(this.readable=!1),c.writable===!1&&(this.writable=!1),c.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||ne.nextTick(u,this)}function u(c){c.end()}return Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(l){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=l,this._writableState.destroyed=l)}}),is}var os={},Ou;function Tu(){if(Ou)return os;Ou=1;var t=ct.exports.Buffer,e=t.isEncoding||function(p){switch(p=""+p,p&&p.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(p){if(!p)return"utf8";for(var m;;)switch(p){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return p;default:if(m)return;p=(""+p).toLowerCase(),m=!0}}function n(p){var m=r(p);if(typeof m!="string"&&(t.isEncoding===e||!e(p)))throw new Error("Unknown encoding: "+p);return m||p}os.StringDecoder=i;function i(p){this.encoding=n(p);var m;switch(this.encoding){case"utf16le":this.text=y,this.end=f,m=4;break;case"utf8":this.fillLast=u,m=4;break;case"base64":this.text=b,this.end=E,m=3;break;default:this.write=C,this.end=N;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(m)}i.prototype.write=function(p){if(p.length===0)return"";var m,x;if(this.lastNeed){if(m=this.fillLast(p),m===void 0)return"";x=this.lastNeed,this.lastNeed=0}else x=0;return x<p.length?m?m+this.text(p,x):this.text(p,x):m||""},i.prototype.end=l,i.prototype.text=c,i.prototype.fillLast=function(p){if(this.lastNeed<=p.length)return p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,p.length),this.lastNeed-=p.length};function o(p){return p<=127?0:p>>5===6?2:p>>4===14?3:p>>3===30?4:p>>6===2?-1:-2}function s(p,m,x){var P=m.length-1;if(P<x)return 0;var W=o(m[P]);return W>=0?(W>0&&(p.lastNeed=W-1),W):--P<x||W===-2?0:(W=o(m[P]),W>=0?(W>0&&(p.lastNeed=W-2),W):--P<x||W===-2?0:(W=o(m[P]),W>=0?(W>0&&(W===2?W=0:p.lastNeed=W-3),W):0))}function a(p,m,x){if((m[0]&192)!==128)return p.lastNeed=0,"\uFFFD";if(p.lastNeed>1&&m.length>1){if((m[1]&192)!==128)return p.lastNeed=1,"\uFFFD";if(p.lastNeed>2&&m.length>2&&(m[2]&192)!==128)return p.lastNeed=2,"\uFFFD"}}function u(p){var m=this.lastTotal-this.lastNeed,x=a(this,p);if(x!==void 0)return x;if(this.lastNeed<=p.length)return p.copy(this.lastChar,m,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,m,0,p.length),this.lastNeed-=p.length}function c(p,m){var x=s(this,p,m);if(!this.lastNeed)return p.toString("utf8",m);this.lastTotal=x;var P=p.length-(x-this.lastNeed);return p.copy(this.lastChar,0,P),p.toString("utf8",m,P)}function l(p){var m=p&&p.length?this.write(p):"";return this.lastNeed?m+"\uFFFD":m}function y(p,m){if((p.length-m)%2===0){var x=p.toString("utf16le",m);if(x){var P=x.charCodeAt(x.length-1);if(P>=55296&&P<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1],x.slice(0,-1)}return x}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=p[p.length-1],p.toString("utf16le",m,p.length-1)}function f(p){var m=p&&p.length?this.write(p):"";if(this.lastNeed){var x=this.lastTotal-this.lastNeed;return m+this.lastChar.toString("utf16le",0,x)}return m}function b(p,m){var x=(p.length-m)%3;return x===0?p.toString("base64",m):(this.lastNeed=3-x,this.lastTotal=3,x===1?this.lastChar[0]=p[p.length-1]:(this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1]),p.toString("base64",m,p.length-x))}function E(p){var m=p&&p.length?this.write(p):"";return this.lastNeed?m+this.lastChar.toString("base64",0,3-this.lastNeed):m}function C(p){return p.toString(this.encoding)}function N(p){return p&&p.length?this.write(p):""}return os}var Pu=Qt.codes.ERR_STREAM_PREMATURE_CLOSE;function e1(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function t1(){}function r1(t){return t.setHeader&&typeof t.abort=="function"}function Jl(t,e,r){if(typeof e=="function")return Jl(t,null,e);e||(e={}),r=e1(r||t1);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,o=function(){t.writable||a()},s=t._writableState&&t._writableState.finished,a=function(){i=!1,s=!0,n||r.call(t)},u=t._readableState&&t._readableState.endEmitted,c=function(){n=!1,u=!0,i||r.call(t)},l=function(E){r.call(t,E)},y=function(){var E;if(n&&!u)return(!t._readableState||!t._readableState.ended)&&(E=new Pu),r.call(t,E);if(i&&!s)return(!t._writableState||!t._writableState.ended)&&(E=new Pu),r.call(t,E)},f=function(){t.req.on("finish",a)};return r1(t)?(t.on("complete",a),t.on("abort",y),t.req?f():t.on("request",f)):i&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",c),t.on("finish",a),e.error!==!1&&t.on("error",l),t.on("close",y),function(){t.removeListener("complete",a),t.removeListener("abort",y),t.removeListener("request",f),t.req&&t.req.removeListener("finish",a),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",a),t.removeListener("end",c),t.removeListener("error",l),t.removeListener("close",y)}}var Ca=Jl,ss,Nu;function n1(){if(Nu)return ss;Nu=1;var t;function e(p,m,x){return m in p?Object.defineProperty(p,m,{value:x,enumerable:!0,configurable:!0,writable:!0}):p[m]=x,p}var r=Ca,n=Symbol("lastResolve"),i=Symbol("lastReject"),o=Symbol("error"),s=Symbol("ended"),a=Symbol("lastPromise"),u=Symbol("handlePromise"),c=Symbol("stream");function l(p,m){return{value:p,done:m}}function y(p){var m=p[n];if(m!==null){var x=p[c].read();x!==null&&(p[a]=null,p[n]=null,p[i]=null,m(l(x,!1)))}}function f(p){ne.nextTick(y,p)}function b(p,m){return function(x,P){p.then(function(){if(m[s]){x(l(void 0,!0));return}m[u](x,P)},P)}}var E=Object.getPrototypeOf(function(){}),C=Object.setPrototypeOf((t={get stream(){return this[c]},next:function(){var m=this,x=this[o];if(x!==null)return Promise.reject(x);if(this[s])return Promise.resolve(l(void 0,!0));if(this[c].destroyed)return new Promise(function(Z,Q){ne.nextTick(function(){m[o]?Q(m[o]):Z(l(void 0,!0))})});var P=this[a],W;if(P)W=new Promise(b(P,this));else{var Y=this[c].read();if(Y!==null)return Promise.resolve(l(Y,!1));W=new Promise(this[u])}return this[a]=W,W}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var m=this;return new Promise(function(x,P){m[c].destroy(null,function(W){if(W){P(W);return}x(l(void 0,!0))})})}),t),E),N=function(m){var x,P=Object.create(C,(x={},e(x,c,{value:m,writable:!0}),e(x,n,{value:null,writable:!0}),e(x,i,{value:null,writable:!0}),e(x,o,{value:null,writable:!0}),e(x,s,{value:m._readableState.endEmitted,writable:!0}),e(x,u,{value:function(Y,Z){var Q=P[c].read();Q?(P[a]=null,P[n]=null,P[i]=null,Y(l(Q,!1))):(P[n]=Y,P[i]=Z)},writable:!0}),x));return P[a]=null,r(m,function(W){if(W&&W.code!=="ERR_STREAM_PREMATURE_CLOSE"){var Y=P[i];Y!==null&&(P[a]=null,P[n]=null,P[i]=null,Y(W)),P[o]=W;return}var Z=P[n];Z!==null&&(P[a]=null,P[n]=null,P[i]=null,Z(l(void 0,!0))),P[s]=!0}),m.on("readable",f.bind(null,P)),P};return ss=N,ss}var as,ju;function i1(){return ju||(ju=1,as=function(){throw new Error("Readable.from is not available in the browser")}),as}var us,Du;function Zl(){if(Du)return us;Du=1,us=L;var t;L.ReadableState=Q,Xn.exports.EventEmitter;var e=function(d,j){return d.listeners(j).length},r=ql,n=ei.Buffer,i=ie.Uint8Array||function(){};function o(h){return n.from(h)}function s(h){return n.isBuffer(h)||h instanceof i}var a=na,u;a&&a.debuglog?u=a.debuglog("stream"):u=function(){};var c=Wm(),l=Gl,y=Yl,f=y.getHighWaterMark,b=Qt.codes,E=b.ERR_INVALID_ARG_TYPE,C=b.ERR_STREAM_PUSH_AFTER_EOF,N=b.ERR_METHOD_NOT_IMPLEMENTED,p=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,m,x,P;Qe.exports(L,r);var W=l.errorOrDestroy,Y=["error","close","destroy","pause","resume"];function Z(h,d,j){if(typeof h.prependListener=="function")return h.prependListener(d,j);!h._events||!h._events[d]?h.on(d,j):Array.isArray(h._events[d])?h._events[d].unshift(j):h._events[d]=[j,h._events[d]]}function Q(h,d,j){t=t||gr(),h=h||{},typeof j!="boolean"&&(j=d instanceof t),this.objectMode=!!h.objectMode,j&&(this.objectMode=this.objectMode||!!h.readableObjectMode),this.highWaterMark=f(this,h,"readableHighWaterMark",j),this.buffer=new c,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=h.emitClose!==!1,this.autoDestroy=!!h.autoDestroy,this.destroyed=!1,this.defaultEncoding=h.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,h.encoding&&(m||(m=Tu().StringDecoder),this.decoder=new m(h.encoding),this.encoding=h.encoding)}function L(h){if(t=t||gr(),!(this instanceof L))return new L(h);var d=this instanceof t;this._readableState=new Q(h,this,d),this.readable=!0,h&&(typeof h.read=="function"&&(this._read=h.read),typeof h.destroy=="function"&&(this._destroy=h.destroy)),r.call(this)}Object.defineProperty(L.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(d){!this._readableState||(this._readableState.destroyed=d)}}),L.prototype.destroy=l.destroy,L.prototype._undestroy=l.undestroy,L.prototype._destroy=function(h,d){d(h)},L.prototype.push=function(h,d){var j=this._readableState,U;return j.objectMode?U=!0:typeof h=="string"&&(d=d||j.defaultEncoding,d!==j.encoding&&(h=n.from(h,d),d=""),U=!0),q(this,h,d,!1,U)},L.prototype.unshift=function(h){return q(this,h,null,!0,!1)};function q(h,d,j,U,de){u("readableAddChunk",d);var te=h._readableState;if(d===null)te.reading=!1,B(h,te);else{var he;if(de||(he=g(te,d)),he)W(h,he);else if(te.objectMode||d&&d.length>0)if(typeof d!="string"&&!te.objectMode&&Object.getPrototypeOf(d)!==n.prototype&&(d=o(d)),U)te.endEmitted?W(h,new p):F(h,te,d,!0);else if(te.ended)W(h,new C);else{if(te.destroyed)return!1;te.reading=!1,te.decoder&&!j?(d=te.decoder.write(d),te.objectMode||d.length!==0?F(h,te,d,!1):K(h,te)):F(h,te,d,!1)}else U||(te.reading=!1,K(h,te))}return!te.ended&&(te.length<te.highWaterMark||te.length===0)}function F(h,d,j,U){d.flowing&&d.length===0&&!d.sync?(d.awaitDrain=0,h.emit("data",j)):(d.length+=d.objectMode?1:j.length,U?d.buffer.unshift(j):d.buffer.push(j),d.needReadable&&O(h)),K(h,d)}function g(h,d){var j;return!s(d)&&typeof d!="string"&&d!==void 0&&!h.objectMode&&(j=new E("chunk",["string","Buffer","Uint8Array"],d)),j}L.prototype.isPaused=function(){return this._readableState.flowing===!1},L.prototype.setEncoding=function(h){m||(m=Tu().StringDecoder);var d=new m(h);this._readableState.decoder=d,this._readableState.encoding=this._readableState.decoder.encoding;for(var j=this._readableState.buffer.head,U="";j!==null;)U+=d.write(j.data),j=j.next;return this._readableState.buffer.clear(),U!==""&&this._readableState.buffer.push(U),this._readableState.length=U.length,this};var S=1073741824;function A(h){return h>=S?h=S:(h--,h|=h>>>1,h|=h>>>2,h|=h>>>4,h|=h>>>8,h|=h>>>16,h++),h}function k(h,d){return h<=0||d.length===0&&d.ended?0:d.objectMode?1:h!==h?d.flowing&&d.length?d.buffer.head.data.length:d.length:(h>d.highWaterMark&&(d.highWaterMark=A(h)),h<=d.length?h:d.ended?d.length:(d.needReadable=!0,0))}L.prototype.read=function(h){u("read",h),h=parseInt(h,10);var d=this._readableState,j=h;if(h!==0&&(d.emittedReadable=!1),h===0&&d.needReadable&&((d.highWaterMark!==0?d.length>=d.highWaterMark:d.length>0)||d.ended))return u("read: emitReadable",d.length,d.ended),d.length===0&&d.ended?R(this):O(this),null;if(h=k(h,d),h===0&&d.ended)return d.length===0&&R(this),null;var U=d.needReadable;u("need readable",U),(d.length===0||d.length-h<d.highWaterMark)&&(U=!0,u("length less than watermark",U)),d.ended||d.reading?(U=!1,u("reading or ended",U)):U&&(u("do read"),d.reading=!0,d.sync=!0,d.length===0&&(d.needReadable=!0),this._read(d.highWaterMark),d.sync=!1,d.reading||(h=k(j,d)));var de;return h>0?de=w(h,d):de=null,de===null?(d.needReadable=d.length<=d.highWaterMark,h=0):(d.length-=h,d.awaitDrain=0),d.length===0&&(d.ended||(d.needReadable=!0),j!==h&&d.ended&&R(this)),de!==null&&this.emit("data",de),de};function B(h,d){if(u("onEofChunk"),!d.ended){if(d.decoder){var j=d.decoder.end();j&&j.length&&(d.buffer.push(j),d.length+=d.objectMode?1:j.length)}d.ended=!0,d.sync?O(h):(d.needReadable=!1,d.emittedReadable||(d.emittedReadable=!0,V(h)))}}function O(h){var d=h._readableState;u("emitReadable",d.needReadable,d.emittedReadable),d.needReadable=!1,d.emittedReadable||(u("emitReadable",d.flowing),d.emittedReadable=!0,ne.nextTick(V,h))}function V(h){var d=h._readableState;u("emitReadable_",d.destroyed,d.length,d.ended),!d.destroyed&&(d.length||d.ended)&&(h.emit("readable"),d.emittedReadable=!1),d.needReadable=!d.flowing&&!d.ended&&d.length<=d.highWaterMark,v(h)}function K(h,d){d.readingMore||(d.readingMore=!0,ne.nextTick(ue,h,d))}function ue(h,d){for(;!d.reading&&!d.ended&&(d.length<d.highWaterMark||d.flowing&&d.length===0);){var j=d.length;if(u("maybeReadMore read 0"),h.read(0),j===d.length)break}d.readingMore=!1}L.prototype._read=function(h){W(this,new N("_read()"))},L.prototype.pipe=function(h,d){var j=this,U=this._readableState;switch(U.pipesCount){case 0:U.pipes=h;break;case 1:U.pipes=[U.pipes,h];break;default:U.pipes.push(h);break}U.pipesCount+=1,u("pipe count=%d opts=%j",U.pipesCount,d);var de=(!d||d.end!==!1)&&h!==ne.stdout&&h!==ne.stderr,te=de?Je:vt;U.endEmitted?ne.nextTick(te):j.once("end",te),h.on("unpipe",he);function he(ft,nt){u("onunpipe"),ft===j&&nt&&nt.hasUnpiped===!1&&(nt.hasUnpiped=!0,Tr())}function Je(){u("onend"),h.end()}var T=G(j);h.on("drain",T);var Pt=!1;function Tr(){u("cleanup"),h.removeListener("close",Kt),h.removeListener("finish",Jt),h.removeListener("drain",T),h.removeListener("error",Yt),h.removeListener("unpipe",he),j.removeListener("end",Je),j.removeListener("end",vt),j.removeListener("data",Pr),Pt=!0,U.awaitDrain&&(!h._writableState||h._writableState.needDrain)&&T()}j.on("data",Pr);function Pr(ft){u("ondata");var nt=h.write(ft);u("dest.write",nt),nt===!1&&((U.pipesCount===1&&U.pipes===h||U.pipesCount>1&&z(U.pipes,h)!==-1)&&!Pt&&(u("false write response, pause",U.awaitDrain),U.awaitDrain++),j.pause())}function Yt(ft){u("onerror",ft),vt(),h.removeListener("error",Yt),e(h,"error")===0&&W(h,ft)}Z(h,"error",Yt);function Kt(){h.removeListener("finish",Jt),vt()}h.once("close",Kt);function Jt(){u("onfinish"),h.removeListener("close",Kt),vt()}h.once("finish",Jt);function vt(){u("unpipe"),j.unpipe(h)}return h.emit("pipe",j),U.flowing||(u("pipe resume"),j.resume()),h};function G(h){return function(){var j=h._readableState;u("pipeOnDrain",j.awaitDrain),j.awaitDrain&&j.awaitDrain--,j.awaitDrain===0&&e(h,"data")&&(j.flowing=!0,v(h))}}L.prototype.unpipe=function(h){var d=this._readableState,j={hasUnpiped:!1};if(d.pipesCount===0)return this;if(d.pipesCount===1)return h&&h!==d.pipes?this:(h||(h=d.pipes),d.pipes=null,d.pipesCount=0,d.flowing=!1,h&&h.emit("unpipe",this,j),this);if(!h){var U=d.pipes,de=d.pipesCount;d.pipes=null,d.pipesCount=0,d.flowing=!1;for(var te=0;te<de;te++)U[te].emit("unpipe",this,{hasUnpiped:!1});return this}var he=z(d.pipes,h);return he===-1?this:(d.pipes.splice(he,1),d.pipesCount-=1,d.pipesCount===1&&(d.pipes=d.pipes[0]),h.emit("unpipe",this,j),this)},L.prototype.on=function(h,d){var j=r.prototype.on.call(this,h,d),U=this._readableState;return h==="data"?(U.readableListening=this.listenerCount("readable")>0,U.flowing!==!1&&this.resume()):h==="readable"&&!U.endEmitted&&!U.readableListening&&(U.readableListening=U.needReadable=!0,U.flowing=!1,U.emittedReadable=!1,u("on readable",U.length,U.reading),U.length?O(this):U.reading||ne.nextTick(I,this)),j},L.prototype.addListener=L.prototype.on,L.prototype.removeListener=function(h,d){var j=r.prototype.removeListener.call(this,h,d);return h==="readable"&&ne.nextTick(_,this),j},L.prototype.removeAllListeners=function(h){var d=r.prototype.removeAllListeners.apply(this,arguments);return(h==="readable"||h===void 0)&&ne.nextTick(_,this),d};function _(h){var d=h._readableState;d.readableListening=h.listenerCount("readable")>0,d.resumeScheduled&&!d.paused?d.flowing=!0:h.listenerCount("data")>0&&h.resume()}function I(h){u("readable nexttick read 0"),h.read(0)}L.prototype.resume=function(){var h=this._readableState;return h.flowing||(u("resume"),h.flowing=!h.readableListening,M(this,h)),h.paused=!1,this};function M(h,d){d.resumeScheduled||(d.resumeScheduled=!0,ne.nextTick(H,h,d))}function H(h,d){u("resume",d.reading),d.reading||h.read(0),d.resumeScheduled=!1,h.emit("resume"),v(h),d.flowing&&!d.reading&&h.read(0)}L.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function v(h){var d=h._readableState;for(u("flow",d.flowing);d.flowing&&h.read()!==null;);}L.prototype.wrap=function(h){var d=this,j=this._readableState,U=!1;h.on("end",function(){if(u("wrapped end"),j.decoder&&!j.ended){var he=j.decoder.end();he&&he.length&&d.push(he)}d.push(null)}),h.on("data",function(he){if(u("wrapped data"),j.decoder&&(he=j.decoder.write(he)),!(j.objectMode&&he==null)&&!(!j.objectMode&&(!he||!he.length))){var Je=d.push(he);Je||(U=!0,h.pause())}});for(var de in h)this[de]===void 0&&typeof h[de]=="function"&&(this[de]=function(Je){return function(){return h[Je].apply(h,arguments)}}(de));for(var te=0;te<Y.length;te++)h.on(Y[te],this.emit.bind(this,Y[te]));return this._read=function(he){u("wrapped _read",he),U&&(U=!1,h.resume())},this},typeof Symbol=="function"&&(L.prototype[Symbol.asyncIterator]=function(){return x===void 0&&(x=n1()),x(this)}),Object.defineProperty(L.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(L.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(L.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(d){this._readableState&&(this._readableState.flowing=d)}}),L._fromList=w,Object.defineProperty(L.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function w(h,d){if(d.length===0)return null;var j;return d.objectMode?j=d.buffer.shift():!h||h>=d.length?(d.decoder?j=d.buffer.join(""):d.buffer.length===1?j=d.buffer.first():j=d.buffer.concat(d.length),d.buffer.clear()):j=d.buffer.consume(h,d.decoder),j}function R(h){var d=h._readableState;u("endReadable",d.endEmitted),d.endEmitted||(d.ended=!0,ne.nextTick($,d,h))}function $(h,d){if(u("endReadableNT",h.endEmitted,h.length),!h.endEmitted&&h.length===0&&(h.endEmitted=!0,d.readable=!1,d.emit("end"),h.autoDestroy)){var j=d._writableState;(!j||j.autoDestroy&&j.finished)&&d.destroy()}}typeof Symbol=="function"&&(L.from=function(h,d){return P===void 0&&(P=i1()),P(L,h,d)});function z(h,d){for(var j=0,U=h.length;j<U;j++)if(h[j]===d)return j;return-1}return us}var Xl=bt,yi=Qt.codes,o1=yi.ERR_METHOD_NOT_IMPLEMENTED,s1=yi.ERR_MULTIPLE_CALLBACK,a1=yi.ERR_TRANSFORM_ALREADY_TRANSFORMING,u1=yi.ERR_TRANSFORM_WITH_LENGTH_0,bi=gr();Qe.exports(bt,bi);function c1(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new s1);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function bt(t){if(!(this instanceof bt))return new bt(t);bi.call(this,t),this._transformState={afterTransform:c1.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",l1)}function l1(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){Lu(t,e,r)}):Lu(this,null,null)}bt.prototype.push=function(t,e){return this._transformState.needTransform=!1,bi.prototype.push.call(this,t,e)};bt.prototype._transform=function(t,e,r){r(new o1("_transform()"))};bt.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};bt.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};bt.prototype._destroy=function(t,e){bi.prototype._destroy.call(this,t,function(r){e(r)})};function Lu(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new u1;if(t._transformState.transforming)throw new a1;return t.push(null)}var f1=en,ef=Xl;Qe.exports(en,ef);function en(t){if(!(this instanceof en))return new en(t);ef.call(this,t)}en.prototype._transform=function(t,e,r){r(null,t)};var cs;function h1(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var tf=Qt.codes,d1=tf.ERR_MISSING_ARGS,p1=tf.ERR_STREAM_DESTROYED;function Bu(t){if(t)throw t}function y1(t){return t.setHeader&&typeof t.abort=="function"}function b1(t,e,r,n){n=h1(n);var i=!1;t.on("close",function(){i=!0}),cs===void 0&&(cs=Ca),cs(t,{readable:e,writable:r},function(s){if(s)return n(s);i=!0,n()});var o=!1;return function(s){if(!i&&!o){if(o=!0,y1(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(s||new p1("pipe"))}}}function Fu(t){t()}function g1(t,e){return t.pipe(e)}function v1(t){return!t.length||typeof t[t.length-1]!="function"?Bu:t.pop()}function m1(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=v1(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new d1("streams");var i,o=e.map(function(s,a){var u=a<e.length-1,c=a>0;return b1(s,u,c,function(l){i||(i=l),l&&o.forEach(Fu),!u&&(o.forEach(Fu),n(i))})});return e.reduce(g1)}var w1=m1;(function(t,e){e=t.exports=Zl(),e.Stream=e,e.Readable=e,e.Writable=Kl(),e.Duplex=gr(),e.Transform=Xl,e.PassThrough=f1,e.finished=Ca,e.pipeline=w1})(Qn,Qn.exports);const{Transform:_1}=Qn.exports;var S1=t=>class rf extends _1{constructor(r,n,i,o,s){super(s),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=o,this._options=s,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let o=null;try{this.update(r,n)}catch(s){o=s}i(o)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!ae.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return ae.isBuffer(r)||(r=ae.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new rf(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const{Transform:E1}=Qn.exports;var x1=t=>class nf extends E1{constructor(r,n,i,o){super(o),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=o,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let o=null;try{this.update(r,n)}catch(s){o=s}i(o)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!ae.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return ae.isBuffer(r)||(r=ae.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new nf(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const A1=S1,C1=x1;var I1=function(t){const e=A1(t),r=C1(t);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new e(1152,448,null,224,i);case"keccak256":return new e(1088,512,null,256,i);case"keccak384":return new e(832,768,null,384,i);case"keccak512":return new e(576,1024,null,512,i);case"sha3-224":return new e(1152,448,6,224,i);case"sha3-256":return new e(1088,512,6,256,i);case"sha3-384":return new e(832,768,6,384,i);case"sha3-512":return new e(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}},of={};const $u=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];of.p1600=function(t){for(let e=0;e<24;++e){const r=t[0]^t[10]^t[20]^t[30]^t[40],n=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],o=t[3]^t[13]^t[23]^t[33]^t[43],s=t[4]^t[14]^t[24]^t[34]^t[44],a=t[5]^t[15]^t[25]^t[35]^t[45],u=t[6]^t[16]^t[26]^t[36]^t[46],c=t[7]^t[17]^t[27]^t[37]^t[47],l=t[8]^t[18]^t[28]^t[38]^t[48],y=t[9]^t[19]^t[29]^t[39]^t[49];let f=l^(i<<1|o>>>31),b=y^(o<<1|i>>>31);const E=t[0]^f,C=t[1]^b,N=t[10]^f,p=t[11]^b,m=t[20]^f,x=t[21]^b,P=t[30]^f,W=t[31]^b,Y=t[40]^f,Z=t[41]^b;f=r^(s<<1|a>>>31),b=n^(a<<1|s>>>31);const Q=t[2]^f,L=t[3]^b,q=t[12]^f,F=t[13]^b,g=t[22]^f,S=t[23]^b,A=t[32]^f,k=t[33]^b,B=t[42]^f,O=t[43]^b;f=i^(u<<1|c>>>31),b=o^(c<<1|u>>>31);const V=t[4]^f,K=t[5]^b,ue=t[14]^f,G=t[15]^b,_=t[24]^f,I=t[25]^b,M=t[34]^f,H=t[35]^b,v=t[44]^f,w=t[45]^b;f=s^(l<<1|y>>>31),b=a^(y<<1|l>>>31);const R=t[6]^f,$=t[7]^b,z=t[16]^f,h=t[17]^b,d=t[26]^f,j=t[27]^b,U=t[36]^f,de=t[37]^b,te=t[46]^f,he=t[47]^b;f=u^(r<<1|n>>>31),b=c^(n<<1|r>>>31);const Je=t[8]^f,T=t[9]^b,Pt=t[18]^f,Tr=t[19]^b,Pr=t[28]^f,Yt=t[29]^b,Kt=t[38]^f,Jt=t[39]^b,vt=t[48]^f,ft=t[49]^b,nt=E,qi=C,Gi=p<<4|N>>>28,Qi=N<<4|p>>>28,Yi=m<<3|x>>>29,Ki=x<<3|m>>>29,Ji=W<<9|P>>>23,Zi=P<<9|W>>>23,Xi=Y<<18|Z>>>14,eo=Z<<18|Y>>>14,to=Q<<1|L>>>31,ro=L<<1|Q>>>31,no=F<<12|q>>>20,io=q<<12|F>>>20,oo=g<<10|S>>>22,so=S<<10|g>>>22,ao=k<<13|A>>>19,uo=A<<13|k>>>19,co=B<<2|O>>>30,lo=O<<2|B>>>30,fo=K<<30|V>>>2,ho=V<<30|K>>>2,po=ue<<6|G>>>26,yo=G<<6|ue>>>26,bo=I<<11|_>>>21,go=_<<11|I>>>21,vo=M<<15|H>>>17,mo=H<<15|M>>>17,wo=w<<29|v>>>3,_o=v<<29|w>>>3,So=R<<28|$>>>4,Eo=$<<28|R>>>4,xo=h<<23|z>>>9,Ao=z<<23|h>>>9,Co=d<<25|j>>>7,Io=j<<25|d>>>7,ko=U<<21|de>>>11,Ro=de<<21|U>>>11,Mo=he<<24|te>>>8,Oo=te<<24|he>>>8,To=Je<<27|T>>>5,Po=T<<27|Je>>>5,No=Pt<<20|Tr>>>12,jo=Tr<<20|Pt>>>12,Do=Yt<<7|Pr>>>25,Lo=Pr<<7|Yt>>>25,Bo=Kt<<8|Jt>>>24,Fo=Jt<<8|Kt>>>24,$o=vt<<14|ft>>>18,Wo=ft<<14|vt>>>18;t[0]=nt^~no&bo,t[1]=qi^~io&go,t[10]=So^~No&Yi,t[11]=Eo^~jo&Ki,t[20]=to^~po&Co,t[21]=ro^~yo&Io,t[30]=To^~Gi&oo,t[31]=Po^~Qi&so,t[40]=fo^~xo&Do,t[41]=ho^~Ao&Lo,t[2]=no^~bo&ko,t[3]=io^~go&Ro,t[12]=No^~Yi&ao,t[13]=jo^~Ki&uo,t[22]=po^~Co&Bo,t[23]=yo^~Io&Fo,t[32]=Gi^~oo&vo,t[33]=Qi^~so&mo,t[42]=xo^~Do&Ji,t[43]=Ao^~Lo&Zi,t[4]=bo^~ko&$o,t[5]=go^~Ro&Wo,t[14]=Yi^~ao&wo,t[15]=Ki^~uo&_o,t[24]=Co^~Bo&Xi,t[25]=Io^~Fo&eo,t[34]=oo^~vo&Mo,t[35]=so^~mo&Oo,t[44]=Do^~Ji&co,t[45]=Lo^~Zi&lo,t[6]=ko^~$o&nt,t[7]=Ro^~Wo&qi,t[16]=ao^~wo&So,t[17]=uo^~_o&Eo,t[26]=Bo^~Xi&to,t[27]=Fo^~eo&ro,t[36]=vo^~Mo&To,t[37]=mo^~Oo&Po,t[46]=Ji^~co&fo,t[47]=Zi^~lo&ho,t[8]=$o^~nt&no,t[9]=Wo^~qi&io,t[18]=wo^~So&No,t[19]=_o^~Eo&jo,t[28]=Xi^~to&po,t[29]=eo^~ro&yo,t[38]=Mo^~To&Gi,t[39]=Oo^~Po&Qi,t[48]=co^~fo&xo,t[49]=lo^~ho&Ao,t[0]^=$u[e*2],t[1]^=$u[e*2+1]}};const Yn=of;function Mr(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}Mr.prototype.initialize=function(t,e){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1};Mr.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(Yn.p1600(this.state),this.count=0)};Mr.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<8*(this.count%4),(t&128)!==0&&this.count===this.blockSize-1&&Yn.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),Yn.p1600(this.state),this.count=0,this.squeezing=!0};Mr.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);const e=ae.alloc(t);for(let r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(Yn.p1600(this.state),this.count=0);return e};Mr.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing};var k1=Mr,R1=I1(k1);const M1=R1,O1=Zn.exports;function sf(t){return ae.allocUnsafe(t).fill(0)}function af(t,e,r){const n=sf(e);return t=gi(t),r?t.length<e?(t.copy(n),n):t.slice(0,e):t.length<e?(t.copy(n,e-t.length),n):t.slice(-e)}function T1(t,e){return af(t,e,!0)}function gi(t){if(!ae.isBuffer(t))if(Array.isArray(t))t=ae.from(t);else if(typeof t=="string")uf(t)?t=ae.from(j1(cf(t)),"hex"):t=ae.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=ae.allocUnsafe(0);else if(O1.isBN(t))t=t.toArrayLike(ae);else if(t.toArray)t=ae.from(t.toArray());else throw new Error("invalid type");return t}function P1(t){return t=gi(t),"0x"+t.toString("hex")}function N1(t,e){return t=gi(t),e||(e=256),M1("keccak"+e).update(t).digest()}function j1(t){return t.length%2?"0"+t:t}function uf(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function cf(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var lf={zeros:sf,setLength:af,setLengthRight:T1,isHexString:uf,stripHexPrefix:cf,toBuffer:gi,bufferToHex:P1,keccak:N1};const zt=lf,$t=Zn.exports;function ff(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function cr(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function Wu(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function hf(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function Lt(t){var e=typeof t;if(e==="string")return zt.isHexString(t)?new $t(zt.stripHexPrefix(t),16):new $t(t,10);if(e==="number")return new $t(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function st(t,e){var r,n,i,o;if(t==="address")return st("uint160",Lt(e));if(t==="bool")return st("uint8",e?1:0);if(t==="string")return st("bytes",new ae(e,"utf8"));if(L1(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(r=hf(t),r!=="dynamic"&&r!==0&&e.length>r)throw new Error("Elements exceed array size: "+r);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(o in e)i.push(st(t,e[o]));if(r==="dynamic"){var s=st("uint256",e.length);i.unshift(s)}return ae.concat(i)}else{if(t==="bytes")return e=new ae(e),i=ae.concat([st("uint256",e.length),e]),e.length%32!==0&&(i=ae.concat([i,zt.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(r=cr(t),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return zt.setLengthRight(e,32)}else if(t.startsWith("uint")){if(r=cr(t),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=Lt(e),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(ae,"be",32)}else if(t.startsWith("int")){if(r=cr(t),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=Lt(e),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(ae,"be",32)}else if(t.startsWith("ufixed")){if(r=Wu(t),n=Lt(e),n<0)throw new Error("Supplied ufixed is negative");return st("uint256",n.mul(new $t(2).pow(new $t(r[1]))))}else if(t.startsWith("fixed"))return r=Wu(t),st("int256",Lt(e).mul(new $t(2).pow(new $t(r[1]))))}throw new Error("Unsupported or invalid type: "+t)}function D1(t){return t==="string"||t==="bytes"||hf(t)==="dynamic"}function L1(t){return t.lastIndexOf("]")===t.length-1}function B1(t,e){var r=[],n=[],i=32*t.length;for(var o in t){var s=ff(t[o]),a=e[o],u=st(s,a);D1(s)?(r.push(st("uint256",i)),n.push(u),i+=u.length):r.push(u)}return ae.concat(r.concat(n))}function df(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var r,n,i=[],o=0;o<t.length;o++){var s=ff(t[o]),a=e[o];if(s==="bytes")i.push(a);else if(s==="string")i.push(new ae(a,"utf8"));else if(s==="bool")i.push(new ae(a?"01":"00","hex"));else if(s==="address")i.push(zt.setLength(a,20));else if(s.startsWith("bytes")){if(r=cr(s),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);i.push(zt.setLengthRight(a,r))}else if(s.startsWith("uint")){if(r=cr(s),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=Lt(a),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());i.push(n.toArrayLike(ae,"be",r/8))}else if(s.startsWith("int")){if(r=cr(s),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=Lt(a),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());i.push(n.toTwos(r).toArrayLike(ae,"be",r/8))}else throw new Error("Unsupported or invalid type: "+s)}return ae.concat(i)}function F1(t,e){return zt.keccak(df(t,e))}var $1={rawEncode:B1,solidityPack:df,soliditySHA3:F1};const Xe=lf,zr=$1,pf={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},ls={encodeData(t,e,r,n=!0){const i=["bytes32"],o=[this.hashType(t,r)];if(n){const s=(a,u,c)=>{if(r[u]!==void 0)return["bytes32",c==null?"0x0000000000000000000000000000000000000000000000000000000000000000":Xe.keccak(this.encodeData(u,c,r,n))];if(c===void 0)throw new Error(`missing value for field ${a} of type ${u}`);if(u==="bytes")return["bytes32",Xe.keccak(c)];if(u==="string")return typeof c=="string"&&(c=ae.from(c,"utf8")),["bytes32",Xe.keccak(c)];if(u.lastIndexOf("]")===u.length-1){const l=u.slice(0,u.lastIndexOf("[")),y=c.map(f=>s(a,l,f));return["bytes32",Xe.keccak(zr.rawEncode(y.map(([f])=>f),y.map(([,f])=>f)))]}return[u,c]};for(const a of r[t]){const[u,c]=s(a.name,a.type,e[a.name]);i.push(u),o.push(c)}}else for(const s of r[t]){let a=e[s.name];if(a!==void 0)if(s.type==="bytes")i.push("bytes32"),a=Xe.keccak(a),o.push(a);else if(s.type==="string")i.push("bytes32"),typeof a=="string"&&(a=ae.from(a,"utf8")),a=Xe.keccak(a),o.push(a);else if(r[s.type]!==void 0)i.push("bytes32"),a=Xe.keccak(this.encodeData(s.type,a,r,n)),o.push(a);else{if(s.type.lastIndexOf("]")===s.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(s.type),o.push(a)}}return zr.rawEncode(i,o)},encodeType(t,e){let r="",n=this.findTypeDependencies(t,e).filter(i=>i!==t);n=[t].concat(n.sort());for(const i of n){if(!e[i])throw new Error("No type definition specified: "+i);r+=i+"("+e[i].map(({name:s,type:a})=>a+" "+s).join(",")+")"}return r},findTypeDependencies(t,e,r=[]){if(t=t.match(/^\w*/)[0],r.includes(t)||e[t]===void 0)return r;r.push(t);for(const n of e[t])for(const i of this.findTypeDependencies(n.type,e,r))!r.includes(i)&&r.push(i);return r},hashStruct(t,e,r,n=!0){return Xe.keccak(this.encodeData(t,e,r,n))},hashType(t,e){return Xe.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const r in pf.properties)t[r]&&(e[r]=t[r]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const r=this.sanitizeData(t),n=[ae.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,e)),r.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(r.primaryType,r.message,r.types,e)),Xe.keccak(ae.concat(n))}};var W1={TYPED_MESSAGE_SCHEMA:pf,TypedDataUtils:ls,hashForSignTypedDataLegacy:function(t){return U1(t.data)},hashForSignTypedData_v3:function(t){return ls.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return ls.hash(t.data)}};function U1(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const r=t.map(function(o){return o.type==="bytes"?Xe.toBuffer(o.value):o.value}),n=t.map(function(o){return o.type}),i=t.map(function(o){if(!o.name)throw e;return o.type+" "+o.name});return zr.soliditySHA3(["bytes32","bytes32"],[zr.soliditySHA3(new Array(t.length).fill("string"),i),zr.soliditySHA3(n,r)])}var vr={};Object.defineProperty(vr,"__esModule",{value:!0});vr.filterFromParam=vr.FilterPolyfill=void 0;const rr=pn,De=J,H1=5*60*1e3,Bt={jsonrpc:"2.0",id:0};class V1{constructor(e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,rr.IntNumber)(1),this.provider=e}async newFilter(e){const r=yf(e),n=this.makeFilterId(),i=await this.setInitialCursorPosition(n,r.fromBlock);return console.log(`Installing new log filter(${n}):`,r,"initial cursor position:",i),this.logFilters.set(n,r),this.setFilterTimeout(n),(0,De.hexStringFromIntNumber)(n)}async newBlockFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.blockFilters.add(e),this.setFilterTimeout(e),(0,De.hexStringFromIntNumber)(e)}async newPendingTransactionFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.pendingTransactionFilters.add(e),this.setFilterTimeout(e),(0,De.hexStringFromIntNumber)(e)}uninstallFilter(e){const r=(0,De.intNumberFromHexString)(e);return console.log(`Uninstalling filter (${r})`),this.deleteFilter(r),!0}getFilterChanges(e){const r=(0,De.intNumberFromHexString)(e);return this.timeouts.has(r)&&this.setFilterTimeout(r),this.logFilters.has(r)?this.getLogFilterChanges(r):this.blockFilters.has(r)?this.getBlockFilterChanges(r):this.pendingTransactionFilters.has(r)?this.getPendingTransactionFilterChanges(r):Promise.resolve(Cn())}async getFilterLogs(e){const r=(0,De.intNumberFromHexString)(e),n=this.logFilters.get(r);return n?this.sendAsyncPromise(Object.assign(Object.assign({},Bt),{method:"eth_getLogs",params:[Uu(n)]})):Cn()}makeFilterId(){return(0,rr.IntNumber)(++this.nextFilterId)}sendAsyncPromise(e){return new Promise((r,n)=>{this.provider.sendAsync(e,(i,o)=>{if(i)return n(i);if(Array.isArray(o)||o==null)return n(new Error(`unexpected response received: ${JSON.stringify(o)}`));r(o)})})}deleteFilter(e){console.log(`Deleting filter (${e})`),this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}async getLogFilterChanges(e){const r=this.logFilters.get(e),n=this.cursors.get(e);if(!n||!r)return Cn();const i=await this.getCurrentBlockHeight(),o=r.toBlock==="latest"?i:r.toBlock;if(n>i||n>r.toBlock)return In();console.log(`Fetching logs from ${n} to ${o} for filter ${e}`);const s=await this.sendAsyncPromise(Object.assign(Object.assign({},Bt),{method:"eth_getLogs",params:[Uu(Object.assign(Object.assign({},r),{fromBlock:n,toBlock:o}))]}));if(Array.isArray(s.result)){const a=s.result.map(c=>(0,De.intNumberFromHexString)(c.blockNumber||"0x0")),u=Math.max(...a);if(u&&u>n){const c=(0,rr.IntNumber)(u+1);console.log(`Moving cursor position for filter (${e}) from ${n} to ${c}`),this.cursors.set(e,c)}}return s}async getBlockFilterChanges(e){const r=this.cursors.get(e);if(!r)return Cn();const n=await this.getCurrentBlockHeight();if(r>n)return In();console.log(`Fetching blocks from ${r} to ${n} for filter (${e})`);const i=(await Promise.all((0,De.range)(r,n+1).map(s=>this.getBlockHashByNumber((0,rr.IntNumber)(s))))).filter(s=>!!s),o=(0,rr.IntNumber)(r+i.length);return console.log(`Moving cursor position for filter (${e}) from ${r} to ${o}`),this.cursors.set(e,o),Object.assign(Object.assign({},Bt),{result:i})}async getPendingTransactionFilterChanges(e){return Promise.resolve(In())}async setInitialCursorPosition(e,r){const n=await this.getCurrentBlockHeight(),i=typeof r=="number"&&r>n?r:n;return this.cursors.set(e,i),i}setFilterTimeout(e){const r=this.timeouts.get(e);r&&window.clearTimeout(r);const n=window.setTimeout(()=>{console.log(`Filter (${e}) timed out`),this.deleteFilter(e)},H1);this.timeouts.set(e,n)}async getCurrentBlockHeight(){const{result:e}=await this.sendAsyncPromise(Object.assign(Object.assign({},Bt),{method:"eth_blockNumber",params:[]}));return(0,De.intNumberFromHexString)((0,De.ensureHexString)(e))}async getBlockHashByNumber(e){const r=await this.sendAsyncPromise(Object.assign(Object.assign({},Bt),{method:"eth_getBlockByNumber",params:[(0,De.hexStringFromIntNumber)(e),!1]}));return r.result&&typeof r.result.hash=="string"?(0,De.ensureHexString)(r.result.hash):null}}vr.FilterPolyfill=V1;function yf(t){return{fromBlock:Hu(t.fromBlock),toBlock:Hu(t.toBlock),addresses:t.address===void 0?null:Array.isArray(t.address)?t.address:[t.address],topics:t.topics||[]}}vr.filterFromParam=yf;function Uu(t){const e={fromBlock:Vu(t.fromBlock),toBlock:Vu(t.toBlock),topics:t.topics};return t.addresses!==null&&(e.address=t.addresses),e}function Hu(t){if(t===void 0||t==="latest"||t==="pending")return"latest";if(t==="earliest")return(0,rr.IntNumber)(0);if((0,De.isHexString)(t))return(0,De.intNumberFromHexString)(t);throw new Error(`Invalid block option: ${String(t)}`)}function Vu(t){return t==="latest"?t:(0,De.hexStringFromIntNumber)(t)}function Cn(){return Object.assign(Object.assign({},Bt),{error:{code:-32e3,message:"filter not found"}})}function In(){return Object.assign(Object.assign({},Bt),{result:[]})}var bf={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.JSONRPCMethod=void 0,function(e){e.eth_accounts="eth_accounts",e.eth_coinbase="eth_coinbase",e.net_version="net_version",e.eth_chainId="eth_chainId",e.eth_uninstallFilter="eth_uninstallFilter",e.eth_requestAccounts="eth_requestAccounts",e.eth_sign="eth_sign",e.eth_ecRecover="eth_ecRecover",e.personal_sign="personal_sign",e.personal_ecRecover="personal_ecRecover",e.eth_signTransaction="eth_signTransaction",e.eth_sendRawTransaction="eth_sendRawTransaction",e.eth_sendTransaction="eth_sendTransaction",e.eth_signTypedData_v1="eth_signTypedData_v1",e.eth_signTypedData_v2="eth_signTypedData_v2",e.eth_signTypedData_v3="eth_signTypedData_v3",e.eth_signTypedData_v4="eth_signTypedData_v4",e.eth_signTypedData="eth_signTypedData",e.cbWallet_arbitrary="walletlink_arbitrary",e.wallet_addEthereumChain="wallet_addEthereumChain",e.wallet_switchEthereumChain="wallet_switchEthereumChain",e.wallet_watchAsset="wallet_watchAsset",e.eth_subscribe="eth_subscribe",e.eth_unsubscribe="eth_unsubscribe",e.eth_newFilter="eth_newFilter",e.eth_newBlockFilter="eth_newBlockFilter",e.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",e.eth_getFilterChanges="eth_getFilterChanges",e.eth_getFilterLogs="eth_getFilterLogs"}(t.JSONRPCMethod||(t.JSONRPCMethod={}))})(bf);var vi={};const zu=(t,e)=>function(){const r=e.promiseModule,n=new Array(arguments.length);for(let i=0;i<arguments.length;i++)n[i]=arguments[i];return new r((i,o)=>{e.errorFirst?n.push(function(s,a){if(e.multiArgs){const u=new Array(arguments.length-1);for(let c=1;c<arguments.length;c++)u[c-1]=arguments[c];s?(u.unshift(s),o(u)):i(u)}else s?o(s):i(a)}):n.push(function(s){if(e.multiArgs){const a=new Array(arguments.length-1);for(let u=0;u<arguments.length;u++)a[u]=arguments[u];i(a)}else i(s)}),t.apply(this,n)})};var z1=(t,e)=>{e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);const r=i=>{const o=s=>typeof s=="string"?i===s:s.test(i);return e.include?e.include.some(o):!e.exclude.some(o)};let n;typeof t=="function"?n=function(){return e.excludeMain?t.apply(this,arguments):zu(t,e).apply(this,arguments)}:n=Object.create(Object.getPrototypeOf(t));for(const i in t){const o=t[i];n[i]=typeof o=="function"&&r(i)?zu(o,e):o}return n},q1=Q1,G1=Object.prototype.hasOwnProperty;function Q1(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)G1.call(r,n)&&(t[n]=r[n])}return t}var Y1=K1;function K1(t){t=t||{};var e=t.max||Number.MAX_SAFE_INTEGER,r=typeof t.start<"u"?t.start:Math.floor(Math.random()*e);return function(){return r=r%e,r++}}const J1=q1,Z1=Y1();var X1=ee;function ee(t){const e=this;e.currentProvider=t}ee.prototype.getBalance=gn(2,"eth_getBalance");ee.prototype.getCode=gn(2,"eth_getCode");ee.prototype.getTransactionCount=gn(2,"eth_getTransactionCount");ee.prototype.getStorageAt=gn(3,"eth_getStorageAt");ee.prototype.call=gn(2,"eth_call");ee.prototype.protocolVersion=se("eth_protocolVersion");ee.prototype.syncing=se("eth_syncing");ee.prototype.coinbase=se("eth_coinbase");ee.prototype.mining=se("eth_mining");ee.prototype.hashrate=se("eth_hashrate");ee.prototype.gasPrice=se("eth_gasPrice");ee.prototype.accounts=se("eth_accounts");ee.prototype.blockNumber=se("eth_blockNumber");ee.prototype.getBlockTransactionCountByHash=se("eth_getBlockTransactionCountByHash");ee.prototype.getBlockTransactionCountByNumber=se("eth_getBlockTransactionCountByNumber");ee.prototype.getUncleCountByBlockHash=se("eth_getUncleCountByBlockHash");ee.prototype.getUncleCountByBlockNumber=se("eth_getUncleCountByBlockNumber");ee.prototype.sign=se("eth_sign");ee.prototype.sendTransaction=se("eth_sendTransaction");ee.prototype.sendRawTransaction=se("eth_sendRawTransaction");ee.prototype.estimateGas=se("eth_estimateGas");ee.prototype.getBlockByHash=se("eth_getBlockByHash");ee.prototype.getBlockByNumber=se("eth_getBlockByNumber");ee.prototype.getTransactionByHash=se("eth_getTransactionByHash");ee.prototype.getTransactionByBlockHashAndIndex=se("eth_getTransactionByBlockHashAndIndex");ee.prototype.getTransactionByBlockNumberAndIndex=se("eth_getTransactionByBlockNumberAndIndex");ee.prototype.getTransactionReceipt=se("eth_getTransactionReceipt");ee.prototype.getUncleByBlockHashAndIndex=se("eth_getUncleByBlockHashAndIndex");ee.prototype.getUncleByBlockNumberAndIndex=se("eth_getUncleByBlockNumberAndIndex");ee.prototype.getCompilers=se("eth_getCompilers");ee.prototype.compileLLL=se("eth_compileLLL");ee.prototype.compileSolidity=se("eth_compileSolidity");ee.prototype.compileSerpent=se("eth_compileSerpent");ee.prototype.newFilter=se("eth_newFilter");ee.prototype.newBlockFilter=se("eth_newBlockFilter");ee.prototype.newPendingTransactionFilter=se("eth_newPendingTransactionFilter");ee.prototype.uninstallFilter=se("eth_uninstallFilter");ee.prototype.getFilterChanges=se("eth_getFilterChanges");ee.prototype.getFilterLogs=se("eth_getFilterLogs");ee.prototype.getLogs=se("eth_getLogs");ee.prototype.getWork=se("eth_getWork");ee.prototype.submitWork=se("eth_submitWork");ee.prototype.submitHashrate=se("eth_submitHashrate");ee.prototype.sendAsync=function(t,e){this.currentProvider.sendAsync(ew(t),function(n,i){if(!n&&i.error&&(n=new Error("EthQuery - RPC Error - "+i.error.message)),n)return e(n);e(null,i.result)})};function se(t){return function(){const e=this;var r=[].slice.call(arguments),n=r.pop();e.sendAsync({method:t,params:r},n)}}function gn(t,e){return function(){const r=this;var n=[].slice.call(arguments),i=n.pop();n.length<t&&n.push("latest"),r.sendAsync({method:e,params:n},i)}}function ew(t){return J1({id:Z1(),jsonrpc:"2.0",params:[]},t)}var gf={},vf={},tw=Al,mi=function(){return tw()&&!!Symbol.toStringTag},rw=mi(),nw=di,Xs=nw("Object.prototype.toString"),wi=function(e){return rw&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:Xs(e)==="[object Arguments]"},mf=function(e){return wi(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&Xs(e)!=="[object Array]"&&Xs(e.callee)==="[object Function]"},iw=function(){return wi(arguments)}();wi.isLegacyArguments=mf;var ow=iw?wi:mf,sw=Object.prototype.toString,aw=Function.prototype.toString,uw=/^\s*(?:function)?\*/,wf=mi(),fs=Object.getPrototypeOf,cw=function(){if(!wf)return!1;try{return Function("return function*() {}")()}catch{}},hs,lw=function(e){if(typeof e!="function")return!1;if(uw.test(aw.call(e)))return!0;if(!wf){var r=sw.call(e);return r==="[object GeneratorFunction]"}if(!fs)return!1;if(typeof hs>"u"){var n=cw();hs=n?fs(n):!1}return fs(e)===hs},_f=Function.prototype.toString,ir=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,ea,jn;if(typeof ir=="function"&&typeof Object.defineProperty=="function")try{ea=Object.defineProperty({},"length",{get:function(){throw jn}}),jn={},ir(function(){throw 42},null,ea)}catch(t){t!==jn&&(ir=null)}else ir=null;var fw=/^\s*class\b/,ta=function(e){try{var r=_f.call(e);return fw.test(r)}catch{return!1}},qu=function(e){try{return ta(e)?!1:(_f.call(e),!0)}catch{return!1}},Dn=Object.prototype.toString,hw="[object Object]",dw="[object Function]",pw="[object GeneratorFunction]",yw="[object HTMLAllCollection]",bw=typeof Symbol=="function"&&!!Symbol.toStringTag,gw=!(0 in[,]),ra=function(){return!1};if(typeof document=="object"){var vw=document.all;Dn.call(vw)===Dn.call(document.all)&&(ra=function(e){if((gw||!e)&&(typeof e>"u"||typeof e=="object"))try{var r=Dn.call(e);return(r===yw||r===hw)&&e("")==null}catch{}return!1})}var mw=ir?function(e){if(ra(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(typeof e=="function"&&!e.prototype)return!0;try{ir(e,null,ea)}catch(r){if(r!==jn)return!1}return!ta(e)}:function(e){if(ra(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(bw)return qu(e);if(ta(e))return!1;var r=Dn.call(e);return r===dw||r===pw||qu(e)},ww=mw,_w=Object.prototype.toString,Sf=Object.prototype.hasOwnProperty,Sw=function(e,r,n){for(var i=0,o=e.length;i<o;i++)Sf.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},Ew=function(e,r,n){for(var i=0,o=e.length;i<o;i++)n==null?r(e.charAt(i),i,e):r.call(n,e.charAt(i),i,e)},xw=function(e,r,n){for(var i in e)Sf.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},Aw=function(e,r,n){if(!ww(r))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),_w.call(e)==="[object Array]"?Sw(e,r,i):typeof e=="string"?Ew(e,r,i):xw(e,r,i)},Ef=Aw,ds=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],Cw=typeof globalThis>"u"?ie:globalThis,xf=function(){for(var e=[],r=0;r<ds.length;r++)typeof Cw[ds[r]]=="function"&&(e[e.length]=ds[r]);return e},ps,Gu;function Iw(){return Gu||(Gu=1,ps=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,r);if(s.value!==i||s.enumerable!==!0)return!1}return!0}),ps}var ys,Qu;function kw(){if(Qu)return ys;Qu=1;var t=typeof Symbol<"u"&&Symbol,e=Iw();return ys=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},ys}var bs,Yu;function Rw(){if(Yu)return bs;Yu=1;var t,e=SyntaxError,r=Function,n=TypeError,i=function(q){try{return r('"use strict"; return ('+q+").constructor;")()}catch{}},o=Object.getOwnPropertyDescriptor;if(o)try{o({},"")}catch{o=null}var s=function(){throw new n},a=o?function(){try{return arguments.callee,s}catch{try{return o(arguments,"callee").get}catch{return s}}}():s,u=kw()(),c=Object.getPrototypeOf||function(q){return q.__proto__},l={},y=typeof Uint8Array>"u"?t:c(Uint8Array),f={"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":u?c([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":l,"%AsyncGenerator%":l,"%AsyncGeneratorFunction%":l,"%AsyncIteratorPrototype%":l,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":r,"%GeneratorFunction%":l,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":u?c(c([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!u?t:c(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!u?t:c(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":u?c(""[Symbol.iterator]()):t,"%Symbol%":u?Symbol:t,"%SyntaxError%":e,"%ThrowTypeError%":a,"%TypedArray%":y,"%TypeError%":n,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet},b=function q(F){var g;if(F==="%AsyncFunction%")g=i("async function () {}");else if(F==="%GeneratorFunction%")g=i("function* () {}");else if(F==="%AsyncGeneratorFunction%")g=i("async function* () {}");else if(F==="%AsyncGenerator%"){var S=q("%AsyncGeneratorFunction%");S&&(g=S.prototype)}else if(F==="%AsyncIteratorPrototype%"){var A=q("%AsyncGenerator%");A&&(g=c(A.prototype))}return f[F]=g,g},E={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},C=dn,N=ga,p=C.call(Function.call,Array.prototype.concat),m=C.call(Function.apply,Array.prototype.splice),x=C.call(Function.call,String.prototype.replace),P=C.call(Function.call,String.prototype.slice),W=C.call(Function.call,RegExp.prototype.exec),Y=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Z=/\\(\\)?/g,Q=function(F){var g=P(F,0,1),S=P(F,-1);if(g==="%"&&S!=="%")throw new e("invalid intrinsic syntax, expected closing `%`");if(S==="%"&&g!=="%")throw new e("invalid intrinsic syntax, expected opening `%`");var A=[];return x(F,Y,function(k,B,O,V){A[A.length]=O?x(V,Z,"$1"):B||k}),A},L=function(F,g){var S=F,A;if(N(E,S)&&(A=E[S],S="%"+A[0]+"%"),N(f,S)){var k=f[S];if(k===l&&(k=b(S)),typeof k>"u"&&!g)throw new n("intrinsic "+F+" exists, but is not available. Please file an issue!");return{alias:A,name:S,value:k}}throw new e("intrinsic "+F+" does not exist!")};return bs=function(F,g){if(typeof F!="string"||F.length===0)throw new n("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof g!="boolean")throw new n('"allowMissing" argument must be a boolean');if(W(/^%?[^%]*%?$/,F)===null)throw new e("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var S=Q(F),A=S.length>0?S[0]:"",k=L("%"+A+"%",g),B=k.name,O=k.value,V=!1,K=k.alias;K&&(A=K[0],m(S,p([0,1],K)));for(var ue=1,G=!0;ue<S.length;ue+=1){var _=S[ue],I=P(_,0,1),M=P(_,-1);if((I==='"'||I==="'"||I==="`"||M==='"'||M==="'"||M==="`")&&I!==M)throw new e("property names with quotes must have matching quotes");if((_==="constructor"||!G)&&(V=!0),A+="."+_,B="%"+A+"%",N(f,B))O=f[B];else if(O!=null){if(!(_ in O)){if(!g)throw new n("base intrinsic for "+F+" exists, but the property is not available.");return}if(o&&ue+1>=S.length){var H=o(O,_);G=!!H,G&&"get"in H&&!("originalValue"in H.get)?O=H.get:O=O[_]}else G=N(O,_),O=O[_];G&&!V&&(f[B]=O)}}return O},bs}var gs,Ku;function Mw(){if(Ku)return gs;Ku=1;var t=Rw(),e=t("%Object.getOwnPropertyDescriptor%",!0);if(e)try{e([],"length")}catch{e=null}return gs=e,gs}var vs,Ju;function Ow(){return Ju||(Ju=1,vs=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,r);if(s.value!==i||s.enumerable!==!0)return!1}return!0}),vs}var ms,Zu;function Tw(){if(Zu)return ms;Zu=1;var t=typeof Symbol<"u"&&Symbol,e=Ow();return ms=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},ms}var ws,Xu;function Pw(){if(Xu)return ws;Xu=1;var t,e=SyntaxError,r=Function,n=TypeError,i=function(q){try{return r('"use strict"; return ('+q+").constructor;")()}catch{}},o=Object.getOwnPropertyDescriptor;if(o)try{o({},"")}catch{o=null}var s=function(){throw new n},a=o?function(){try{return arguments.callee,s}catch{try{return o(arguments,"callee").get}catch{return s}}}():s,u=Tw()(),c=Object.getPrototypeOf||function(q){return q.__proto__},l={},y=typeof Uint8Array>"u"?t:c(Uint8Array),f={"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":u?c([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":l,"%AsyncGenerator%":l,"%AsyncGeneratorFunction%":l,"%AsyncIteratorPrototype%":l,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":r,"%GeneratorFunction%":l,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":u?c(c([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!u?t:c(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!u?t:c(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":u?c(""[Symbol.iterator]()):t,"%Symbol%":u?Symbol:t,"%SyntaxError%":e,"%ThrowTypeError%":a,"%TypedArray%":y,"%TypeError%":n,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet},b=function q(F){var g;if(F==="%AsyncFunction%")g=i("async function () {}");else if(F==="%GeneratorFunction%")g=i("function* () {}");else if(F==="%AsyncGeneratorFunction%")g=i("async function* () {}");else if(F==="%AsyncGenerator%"){var S=q("%AsyncGeneratorFunction%");S&&(g=S.prototype)}else if(F==="%AsyncIteratorPrototype%"){var A=q("%AsyncGenerator%");A&&(g=c(A.prototype))}return f[F]=g,g},E={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},C=dn,N=ga,p=C.call(Function.call,Array.prototype.concat),m=C.call(Function.apply,Array.prototype.splice),x=C.call(Function.call,String.prototype.replace),P=C.call(Function.call,String.prototype.slice),W=C.call(Function.call,RegExp.prototype.exec),Y=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Z=/\\(\\)?/g,Q=function(F){var g=P(F,0,1),S=P(F,-1);if(g==="%"&&S!=="%")throw new e("invalid intrinsic syntax, expected closing `%`");if(S==="%"&&g!=="%")throw new e("invalid intrinsic syntax, expected opening `%`");var A=[];return x(F,Y,function(k,B,O,V){A[A.length]=O?x(V,Z,"$1"):B||k}),A},L=function(F,g){var S=F,A;if(N(E,S)&&(A=E[S],S="%"+A[0]+"%"),N(f,S)){var k=f[S];if(k===l&&(k=b(S)),typeof k>"u"&&!g)throw new n("intrinsic "+F+" exists, but is not available. Please file an issue!");return{alias:A,name:S,value:k}}throw new e("intrinsic "+F+" does not exist!")};return ws=function(F,g){if(typeof F!="string"||F.length===0)throw new n("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof g!="boolean")throw new n('"allowMissing" argument must be a boolean');if(W(/^%?[^%]*%?$/,F)===null)throw new e("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var S=Q(F),A=S.length>0?S[0]:"",k=L("%"+A+"%",g),B=k.name,O=k.value,V=!1,K=k.alias;K&&(A=K[0],m(S,p([0,1],K)));for(var ue=1,G=!0;ue<S.length;ue+=1){var _=S[ue],I=P(_,0,1),M=P(_,-1);if((I==='"'||I==="'"||I==="`"||M==='"'||M==="'"||M==="`")&&I!==M)throw new e("property names with quotes must have matching quotes");if((_==="constructor"||!G)&&(V=!0),A+="."+_,B="%"+A+"%",N(f,B))O=f[B];else if(O!=null){if(!(_ in O)){if(!g)throw new n("base intrinsic for "+F+" exists, but the property is not available.");return}if(o&&ue+1>=S.length){var H=o(O,_);G=!!H,G&&"get"in H&&!("originalValue"in H.get)?O=H.get:O=O[_]}else G=N(O,_),O=O[_];G&&!V&&(f[B]=O)}}return O},ws}var _s,ec;function Nw(){if(ec)return _s;ec=1;var t=Pw(),e=t("%Object.getOwnPropertyDescriptor%",!0);if(e)try{e([],"length")}catch{e=null}return _s=e,_s}var Af=Ef,jw=xf,Ia=di,Dw=Ia("Object.prototype.toString"),Cf=mi(),Lw=typeof globalThis>"u"?ie:globalThis,If=jw(),Bw=Ia("Array.prototype.indexOf",!0)||function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},Fw=Ia("String.prototype.slice"),kf={},Ln=Nw(),Ss=Object.getPrototypeOf;Cf&&Ln&&Ss&&Af(If,function(t){var e=new Lw[t];if(Symbol.toStringTag in e){var r=Ss(e),n=Ln(r,Symbol.toStringTag);if(!n){var i=Ss(r);n=Ln(i,Symbol.toStringTag)}kf[t]=n.get}});var $w=function(e){var r=!1;return Af(kf,function(n,i){if(!r)try{r=n.call(e)===i}catch{}}),r},Rf=function(e){if(!e||typeof e!="object")return!1;if(!Cf||!(Symbol.toStringTag in e)){var r=Fw(Dw(e),8,-1);return Bw(If,r)>-1}return Ln?$w(e):!1},Mf=Ef,Ww=xf,Of=di,Uw=Of("Object.prototype.toString"),Tf=mi(),tc=typeof globalThis>"u"?ie:globalThis,Hw=Ww(),Vw=Of("String.prototype.slice"),Pf={},Es=Mw(),xs=Object.getPrototypeOf;Tf&&Es&&xs&&Mf(Hw,function(t){if(typeof tc[t]=="function"){var e=new tc[t];if(Symbol.toStringTag in e){var r=xs(e),n=Es(r,Symbol.toStringTag);if(!n){var i=xs(r);n=Es(i,Symbol.toStringTag)}Pf[t]=n.get}}});var zw=function(e){var r=!1;return Mf(Pf,function(n,i){if(!r)try{var o=n.call(e);o===i&&(r=o)}catch{}}),r},qw=Rf,Gw=function(e){return qw(e)?!Tf||!(Symbol.toStringTag in e)?Vw(Uw(e),8,-1):zw(e):!1};(function(t){var e=ow,r=lw,n=Gw,i=Rf;function o(T){return T.call.bind(T)}var s=typeof BigInt<"u",a=typeof Symbol<"u",u=o(Object.prototype.toString),c=o(Number.prototype.valueOf),l=o(String.prototype.valueOf),y=o(Boolean.prototype.valueOf);if(s)var f=o(BigInt.prototype.valueOf);if(a)var b=o(Symbol.prototype.valueOf);function E(T,Pt){if(typeof T!="object")return!1;try{return Pt(T),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=i;function C(T){return typeof Promise<"u"&&T instanceof Promise||T!==null&&typeof T=="object"&&typeof T.then=="function"&&typeof T.catch=="function"}t.isPromise=C;function N(T){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(T):i(T)||I(T)}t.isArrayBufferView=N;function p(T){return n(T)==="Uint8Array"}t.isUint8Array=p;function m(T){return n(T)==="Uint8ClampedArray"}t.isUint8ClampedArray=m;function x(T){return n(T)==="Uint16Array"}t.isUint16Array=x;function P(T){return n(T)==="Uint32Array"}t.isUint32Array=P;function W(T){return n(T)==="Int8Array"}t.isInt8Array=W;function Y(T){return n(T)==="Int16Array"}t.isInt16Array=Y;function Z(T){return n(T)==="Int32Array"}t.isInt32Array=Z;function Q(T){return n(T)==="Float32Array"}t.isFloat32Array=Q;function L(T){return n(T)==="Float64Array"}t.isFloat64Array=L;function q(T){return n(T)==="BigInt64Array"}t.isBigInt64Array=q;function F(T){return n(T)==="BigUint64Array"}t.isBigUint64Array=F;function g(T){return u(T)==="[object Map]"}g.working=typeof Map<"u"&&g(new Map);function S(T){return typeof Map>"u"?!1:g.working?g(T):T instanceof Map}t.isMap=S;function A(T){return u(T)==="[object Set]"}A.working=typeof Set<"u"&&A(new Set);function k(T){return typeof Set>"u"?!1:A.working?A(T):T instanceof Set}t.isSet=k;function B(T){return u(T)==="[object WeakMap]"}B.working=typeof WeakMap<"u"&&B(new WeakMap);function O(T){return typeof WeakMap>"u"?!1:B.working?B(T):T instanceof WeakMap}t.isWeakMap=O;function V(T){return u(T)==="[object WeakSet]"}V.working=typeof WeakSet<"u"&&V(new WeakSet);function K(T){return V(T)}t.isWeakSet=K;function ue(T){return u(T)==="[object ArrayBuffer]"}ue.working=typeof ArrayBuffer<"u"&&ue(new ArrayBuffer);function G(T){return typeof ArrayBuffer>"u"?!1:ue.working?ue(T):T instanceof ArrayBuffer}t.isArrayBuffer=G;function _(T){return u(T)==="[object DataView]"}_.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&_(new DataView(new ArrayBuffer(1),0,1));function I(T){return typeof DataView>"u"?!1:_.working?_(T):T instanceof DataView}t.isDataView=I;var M=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function H(T){return u(T)==="[object SharedArrayBuffer]"}function v(T){return typeof M>"u"?!1:(typeof H.working>"u"&&(H.working=H(new M)),H.working?H(T):T instanceof M)}t.isSharedArrayBuffer=v;function w(T){return u(T)==="[object AsyncFunction]"}t.isAsyncFunction=w;function R(T){return u(T)==="[object Map Iterator]"}t.isMapIterator=R;function $(T){return u(T)==="[object Set Iterator]"}t.isSetIterator=$;function z(T){return u(T)==="[object Generator]"}t.isGeneratorObject=z;function h(T){return u(T)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=h;function d(T){return E(T,c)}t.isNumberObject=d;function j(T){return E(T,l)}t.isStringObject=j;function U(T){return E(T,y)}t.isBooleanObject=U;function de(T){return s&&E(T,f)}t.isBigIntObject=de;function te(T){return a&&E(T,b)}t.isSymbolObject=te;function he(T){return d(T)||j(T)||U(T)||de(T)||te(T)}t.isBoxedPrimitive=he;function Je(T){return typeof Uint8Array<"u"&&(G(T)||v(T))}t.isAnyArrayBuffer=Je,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(T){Object.defineProperty(t,T,{enumerable:!1,value:function(){throw new Error(T+" is not supported in userland")}})})})(vf);var Qw=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"};(function(t){var e=Object.getOwnPropertyDescriptors||function(I){for(var M=Object.keys(I),H={},v=0;v<M.length;v++)H[M[v]]=Object.getOwnPropertyDescriptor(I,M[v]);return H},r=/%[sdj%]/g;t.format=function(_){if(!W(_)){for(var I=[],M=0;M<arguments.length;M++)I.push(s(arguments[M]));return I.join(" ")}for(var M=1,H=arguments,v=H.length,w=String(_).replace(r,function($){if($==="%%")return"%";if(M>=v)return $;switch($){case"%s":return String(H[M++]);case"%d":return Number(H[M++]);case"%j":try{return JSON.stringify(H[M++])}catch{return"[Circular]"}default:return $}}),R=H[M];M<v;R=H[++M])m(R)||!L(R)?w+=" "+R:w+=" "+s(R);return w},t.deprecate=function(_,I){if(typeof ne<"u"&&ne.noDeprecation===!0)return _;if(typeof ne>"u")return function(){return t.deprecate(_,I).apply(this,arguments)};var M=!1;function H(){if(!M){if(ne.throwDeprecation)throw new Error(I);ne.traceDeprecation?console.trace(I):console.error(I),M=!0}return _.apply(this,arguments)}return H};var n={},i=/^$/;if(ne.env.NODE_DEBUG){var o=ne.env.NODE_DEBUG;o=o.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+o+"$","i")}t.debuglog=function(_){if(_=_.toUpperCase(),!n[_])if(i.test(_)){var I=ne.pid;n[_]=function(){var M=t.format.apply(t,arguments);console.error("%s %d: %s",_,I,M)}}else n[_]=function(){};return n[_]};function s(_,I){var M={seen:[],stylize:u};return arguments.length>=3&&(M.depth=arguments[2]),arguments.length>=4&&(M.colors=arguments[3]),p(I)?M.showHidden=I:I&&t._extend(M,I),Z(M.showHidden)&&(M.showHidden=!1),Z(M.depth)&&(M.depth=2),Z(M.colors)&&(M.colors=!1),Z(M.customInspect)&&(M.customInspect=!0),M.colors&&(M.stylize=a),l(M,_,M.depth)}t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function a(_,I){var M=s.styles[I];return M?"\x1B["+s.colors[M][0]+"m"+_+"\x1B["+s.colors[M][1]+"m":_}function u(_,I){return _}function c(_){var I={};return _.forEach(function(M,H){I[M]=!0}),I}function l(_,I,M){if(_.customInspect&&I&&g(I.inspect)&&I.inspect!==t.inspect&&!(I.constructor&&I.constructor.prototype===I)){var H=I.inspect(M,_);return W(H)||(H=l(_,H,M)),H}var v=y(_,I);if(v)return v;var w=Object.keys(I),R=c(w);if(_.showHidden&&(w=Object.getOwnPropertyNames(I)),F(I)&&(w.indexOf("message")>=0||w.indexOf("description")>=0))return f(I);if(w.length===0){if(g(I)){var $=I.name?": "+I.name:"";return _.stylize("[Function"+$+"]","special")}if(Q(I))return _.stylize(RegExp.prototype.toString.call(I),"regexp");if(q(I))return _.stylize(Date.prototype.toString.call(I),"date");if(F(I))return f(I)}var z="",h=!1,d=["{","}"];if(N(I)&&(h=!0,d=["[","]"]),g(I)){var j=I.name?": "+I.name:"";z=" [Function"+j+"]"}if(Q(I)&&(z=" "+RegExp.prototype.toString.call(I)),q(I)&&(z=" "+Date.prototype.toUTCString.call(I)),F(I)&&(z=" "+f(I)),w.length===0&&(!h||I.length==0))return d[0]+z+d[1];if(M<0)return Q(I)?_.stylize(RegExp.prototype.toString.call(I),"regexp"):_.stylize("[Object]","special");_.seen.push(I);var U;return h?U=b(_,I,M,R,w):U=w.map(function(de){return E(_,I,M,R,de,h)}),_.seen.pop(),C(U,z,d)}function y(_,I){if(Z(I))return _.stylize("undefined","undefined");if(W(I)){var M="'"+JSON.stringify(I).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return _.stylize(M,"string")}if(P(I))return _.stylize(""+I,"number");if(p(I))return _.stylize(""+I,"boolean");if(m(I))return _.stylize("null","null")}function f(_){return"["+Error.prototype.toString.call(_)+"]"}function b(_,I,M,H,v){for(var w=[],R=0,$=I.length;R<$;++R)V(I,String(R))?w.push(E(_,I,M,H,String(R),!0)):w.push("");return v.forEach(function(z){z.match(/^\d+$/)||w.push(E(_,I,M,H,z,!0))}),w}function E(_,I,M,H,v,w){var R,$,z;if(z=Object.getOwnPropertyDescriptor(I,v)||{value:I[v]},z.get?z.set?$=_.stylize("[Getter/Setter]","special"):$=_.stylize("[Getter]","special"):z.set&&($=_.stylize("[Setter]","special")),V(H,v)||(R="["+v+"]"),$||(_.seen.indexOf(z.value)<0?(m(M)?$=l(_,z.value,null):$=l(_,z.value,M-1),$.indexOf(`
`)>-1&&(w?$=$.split(`
`).map(function(h){return"  "+h}).join(`
`).substr(2):$=`
`+$.split(`
`).map(function(h){return"   "+h}).join(`
`))):$=_.stylize("[Circular]","special")),Z(R)){if(w&&v.match(/^\d+$/))return $;R=JSON.stringify(""+v),R.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(R=R.substr(1,R.length-2),R=_.stylize(R,"name")):(R=R.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),R=_.stylize(R,"string"))}return R+": "+$}function C(_,I,M){var H=_.reduce(function(v,w){return w.indexOf(`
`)>=0,v+w.replace(/\u001b\[\d\d?m/g,"").length+1},0);return H>60?M[0]+(I===""?"":I+`
 `)+" "+_.join(`,
  `)+" "+M[1]:M[0]+I+" "+_.join(", ")+" "+M[1]}t.types=vf;function N(_){return Array.isArray(_)}t.isArray=N;function p(_){return typeof _=="boolean"}t.isBoolean=p;function m(_){return _===null}t.isNull=m;function x(_){return _==null}t.isNullOrUndefined=x;function P(_){return typeof _=="number"}t.isNumber=P;function W(_){return typeof _=="string"}t.isString=W;function Y(_){return typeof _=="symbol"}t.isSymbol=Y;function Z(_){return _===void 0}t.isUndefined=Z;function Q(_){return L(_)&&A(_)==="[object RegExp]"}t.isRegExp=Q,t.types.isRegExp=Q;function L(_){return typeof _=="object"&&_!==null}t.isObject=L;function q(_){return L(_)&&A(_)==="[object Date]"}t.isDate=q,t.types.isDate=q;function F(_){return L(_)&&(A(_)==="[object Error]"||_ instanceof Error)}t.isError=F,t.types.isNativeError=F;function g(_){return typeof _=="function"}t.isFunction=g;function S(_){return _===null||typeof _=="boolean"||typeof _=="number"||typeof _=="string"||typeof _=="symbol"||typeof _>"u"}t.isPrimitive=S,t.isBuffer=Qw;function A(_){return Object.prototype.toString.call(_)}function k(_){return _<10?"0"+_.toString(10):_.toString(10)}var B=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function O(){var _=new Date,I=[k(_.getHours()),k(_.getMinutes()),k(_.getSeconds())].join(":");return[_.getDate(),B[_.getMonth()],I].join(" ")}t.log=function(){console.log("%s - %s",O(),t.format.apply(t,arguments))},t.inherits=Qe.exports,t._extend=function(_,I){if(!I||!L(I))return _;for(var M=Object.keys(I),H=M.length;H--;)_[M[H]]=I[M[H]];return _};function V(_,I){return Object.prototype.hasOwnProperty.call(_,I)}var K=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(I){if(typeof I!="function")throw new TypeError('The "original" argument must be of type Function');if(K&&I[K]){var M=I[K];if(typeof M!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(M,K,{value:M,enumerable:!1,writable:!1,configurable:!0}),M}function M(){for(var H,v,w=new Promise(function(z,h){H=z,v=h}),R=[],$=0;$<arguments.length;$++)R.push(arguments[$]);R.push(function(z,h){z?v(z):H(h)});try{I.apply(this,R)}catch(z){v(z)}return w}return Object.setPrototypeOf(M,Object.getPrototypeOf(I)),K&&Object.defineProperty(M,K,{value:M,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(M,e(I))},t.promisify.custom=K;function ue(_,I){if(!_){var M=new Error("Promise was rejected with a falsy value");M.reason=_,_=M}return I(_)}function G(_){if(typeof _!="function")throw new TypeError('The "original" argument must be of type Function');function I(){for(var M=[],H=0;H<arguments.length;H++)M.push(arguments[H]);var v=M.pop();if(typeof v!="function")throw new TypeError("The last argument must be of type Function");var w=this,R=function(){return v.apply(w,arguments)};_.apply(this,M).then(function($){ne.nextTick(R.bind(null,null,$))},function($){ne.nextTick(ue.bind(null,$,R))})}return Object.setPrototypeOf(I,Object.getPrototypeOf(_)),Object.defineProperties(I,e(_)),I}t.callbackify=G})(gf);const Yw=gf,Nf=Xn.exports;var As=typeof Reflect=="object"?Reflect:null,Kw=As&&typeof As.apply=="function"?As.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},Jw=ka;function ka(){Nf.call(this)}Yw.inherits(ka,Nf);ka.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n=t==="error",i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var a=i[t];if(a===void 0)return!1;if(typeof a=="function")rc(a,this,e);else for(var u=a.length,c=Zw(a,u),r=0;r<u;++r)rc(c[r],this,e);return!0};function rc(t,e,r){try{Kw(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function Zw(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}const Xw=Jw,e_=1e3,t_=(t,e)=>t+e,nc=["sync","latest"];class r_ extends Xw{constructor(e={}){super(),this._blockResetDuration=e.blockResetDuration||20*e_,this._blockResetTimeout,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(r=>this.once("latest",r))}removeAllListeners(e){e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener()}_start(){}_end(){}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e,r){!nc.includes(e)||this._maybeStart()}_onRemoveListener(e,r){this._getBlockTrackerEventCount()>0||this._maybeEnd()}_maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),this._start())}_maybeEnd(){!this._isRunning||(this._isRunning=!1,this._setupBlockResetTimeout(),this._end())}_getBlockTrackerEventCount(){return nc.map(e=>this.listenerCount(e)).reduce(t_)}_newPotentialLatest(e){const r=this._currentBlock;r&&ic(e)<=ic(r)||this._setCurrentBlock(e)}_setCurrentBlock(e){const r=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:r,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}var n_=r_;function ic(t){return Number.parseInt(t,16)}const i_=z1,o_=n_,s_=1e3;class a_ extends o_{constructor(e={}){if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");const r=e.pollingInterval||20*s_,n=e.retryTimeout||r/10,i=e.keepEventLoopActive!==void 0?e.keepEventLoopActive:!0,o=e.setSkipCacheFlag||!1;super(Object.assign({blockResetDuration:r},e)),this._provider=e.provider,this._pollingInterval=r,this._retryTimeout=n,this._keepEventLoopActive=i,this._setSkipCacheFlag=o}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}_start(){this._performSync().catch(e=>this.emit("error",e))}async _performSync(){for(;this._isRunning;)try{await this._updateLatestBlock(),await oc(this._pollingInterval,!this._keepEventLoopActive)}catch(e){const r=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${e.stack}`);try{this.emit("error",r)}catch{console.error(r)}await oc(this._retryTimeout,!this._keepEventLoopActive)}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:1,method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0);const r=await i_(n=>this._provider.sendAsync(e,n))();if(r.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${r.error}`);return r.result}}var u_=a_;function oc(t,e){return new Promise(r=>{const n=setTimeout(r,t);n.unref&&e&&n.unref()})}var Ra={exports:{}},c_=function(e){return(r,n,i,o)=>{const s=e[r.method];return s===void 0?i():typeof s=="function"?s(r,n,i,o):(n.result=s,o())}};(function(t){t.exports=c_})(Ra);var Ma={},_i={},vn={};Object.defineProperty(vn,"__esModule",{value:!0});vn.getUniqueId=void 0;const jf=4294967295;let Cs=Math.floor(Math.random()*jf);function l_(){return Cs=(Cs+1)%jf,Cs}vn.getUniqueId=l_;Object.defineProperty(_i,"__esModule",{value:!0});_i.createIdRemapMiddleware=void 0;const f_=vn;function h_(){return(t,e,r,n)=>{const i=t.id,o=f_.getUniqueId();t.id=o,e.id=o,r(s=>{t.id=i,e.id=i,s()})}}_i.createIdRemapMiddleware=h_;var Si={};Object.defineProperty(Si,"__esModule",{value:!0});Si.createAsyncMiddleware=void 0;function d_(t){return async(e,r,n,i)=>{let o;const s=new Promise(l=>{o=l});let a=null,u=!1;const c=async()=>{u=!0,n(l=>{a=l,o()}),await s};try{await t(e,r,c),u?(await s,a(null)):i(null)}catch(l){a?a(l):i(l)}}}Si.createAsyncMiddleware=d_;var Ei={};Object.defineProperty(Ei,"__esModule",{value:!0});Ei.createScaffoldMiddleware=void 0;function p_(t){return(e,r,n,i)=>{const o=t[e.method];return o===void 0?n():typeof o=="function"?o(e,r,n,i):(r.result=o,i())}}Ei.createScaffoldMiddleware=p_;var mn={},Df={},Mt={};Object.defineProperty(Mt,"__esModule",{value:!0});Mt.EthereumProviderError=Mt.EthereumRpcError=void 0;const y_=Ec;class Lf extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return y_.default(this.serialize(),v_,2)}}Mt.EthereumRpcError=Lf;class b_ extends Lf{constructor(e,r,n){if(!g_(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}Mt.EthereumProviderError=b_;function g_(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function v_(t,e){if(e!=="[Circular]")return e}var Oa={},Ot={};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.errorValues=Ot.errorCodes=void 0;Ot.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};Ot.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=Ot,r=Mt,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",o={code:n,message:s(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function s(f,b=i){if(Number.isInteger(f)){const E=f.toString();if(y(e.errorValues,E))return e.errorValues[E].message;if(c(f))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return b}t.getMessageFromCode=s;function a(f){if(!Number.isInteger(f))return!1;const b=f.toString();return!!(e.errorValues[b]||c(f))}t.isValidCode=a;function u(f,{fallbackError:b=o,shouldIncludeStack:E=!1}={}){var C,N;if(!b||!Number.isInteger(b.code)||typeof b.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(f instanceof r.EthereumRpcError)return f.serialize();const p={};if(f&&typeof f=="object"&&!Array.isArray(f)&&y(f,"code")&&a(f.code)){const x=f;p.code=x.code,x.message&&typeof x.message=="string"?(p.message=x.message,y(x,"data")&&(p.data=x.data)):(p.message=s(p.code),p.data={originalError:l(f)})}else{p.code=b.code;const x=(C=f)===null||C===void 0?void 0:C.message;p.message=x&&typeof x=="string"?x:b.message,p.data={originalError:l(f)}}const m=(N=f)===null||N===void 0?void 0:N.stack;return E&&f&&m&&typeof m=="string"&&(p.stack=m),p}t.serializeError=u;function c(f){return f>=-32099&&f<=-32e3}function l(f){return f&&typeof f=="object"&&!Array.isArray(f)?Object.assign({},f):f}function y(f,b){return Object.prototype.hasOwnProperty.call(f,b)}})(Oa);var xi={};Object.defineProperty(xi,"__esModule",{value:!0});xi.ethErrors=void 0;const Ta=Mt,Bf=Oa,Oe=Ot;xi.ethErrors={rpc:{parse:t=>He(Oe.errorCodes.rpc.parse,t),invalidRequest:t=>He(Oe.errorCodes.rpc.invalidRequest,t),invalidParams:t=>He(Oe.errorCodes.rpc.invalidParams,t),methodNotFound:t=>He(Oe.errorCodes.rpc.methodNotFound,t),internal:t=>He(Oe.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return He(e,t)},invalidInput:t=>He(Oe.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>He(Oe.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>He(Oe.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>He(Oe.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>He(Oe.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>He(Oe.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Dr(Oe.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>Dr(Oe.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>Dr(Oe.errorCodes.provider.unsupportedMethod,t),disconnected:t=>Dr(Oe.errorCodes.provider.disconnected,t),chainDisconnected:t=>Dr(Oe.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new Ta.EthereumProviderError(e,r,n)}}};function He(t,e){const[r,n]=Ff(e);return new Ta.EthereumRpcError(t,r||Bf.getMessageFromCode(t),n)}function Dr(t,e){const[r,n]=Ff(e);return new Ta.EthereumProviderError(t,r||Bf.getMessageFromCode(t),n)}function Ff(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=Mt;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=Oa;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=xi;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=Ot;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(Df);var m_=ie&&ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(mn,"__esModule",{value:!0});mn.JsonRpcEngine=void 0;const w_=m_(_r),Ve=Df;class ht extends w_.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?r?this._handleBatch(e,r):this._handleBatch(e):r?this._handle(e,r):this._promiseHandle(e)}asMiddleware(){return async(e,r,n,i)=>{try{const[o,s,a]=await ht._runAllMiddleware(e,r,this._middleware);return s?(await ht._runReturnHandlers(a),i(o)):n(async u=>{try{await ht._runReturnHandlers(a)}catch(c){return u(c)}return u()})}catch(o){return i(o)}}}async _handleBatch(e,r){try{const n=await Promise.all(e.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(e){return new Promise(r=>{this._handle(e,(n,i)=>{r(i)})})}async _handle(e,r){if(!e||Array.isArray(e)||typeof e!="object"){const s=new Ve.EthereumRpcError(Ve.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof e}`,{request:e});return r(s,{id:void 0,jsonrpc:"2.0",error:s})}if(typeof e.method!="string"){const s=new Ve.EthereumRpcError(Ve.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof e.method}`,{request:e});return r(s,{id:e.id,jsonrpc:"2.0",error:s})}const n=Object.assign({},e),i={id:n.id,jsonrpc:n.jsonrpc};let o=null;try{await this._processRequest(n,i)}catch(s){o=s}return o&&(delete i.result,i.error||(i.error=Ve.serializeError(o))),r(o,i)}async _processRequest(e,r){const[n,i,o]=await ht._runAllMiddleware(e,r,this._middleware);if(ht._checkForCompletion(e,r,i),await ht._runReturnHandlers(o),n)throw n}static async _runAllMiddleware(e,r,n){const i=[];let o=null,s=!1;for(const a of n)if([o,s]=await ht._runMiddleware(e,r,a,i),s)break;return[o,s,i.reverse()]}static _runMiddleware(e,r,n,i){return new Promise(o=>{const s=u=>{const c=u||r.error;c&&(r.error=Ve.serializeError(c)),o([c,!0])},a=u=>{r.error?s(r.error):(u&&(typeof u!="function"&&s(new Ve.EthereumRpcError(Ve.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof u}" for request:
${Is(e)}`,{request:e})),i.push(u)),o([null,!1]))};try{n(e,r,a,s)}catch(u){s(u)}})}static async _runReturnHandlers(e){for(const r of e)await new Promise((n,i)=>{r(o=>o?i(o):n())})}static _checkForCompletion(e,r,n){if(!("result"in r)&&!("error"in r))throw new Ve.EthereumRpcError(Ve.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${Is(e)}`,{request:e});if(!n)throw new Ve.EthereumRpcError(Ve.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${Is(e)}`,{request:e})}}mn.JsonRpcEngine=ht;function Is(t){return JSON.stringify(t,null,2)}var Ai={};Object.defineProperty(Ai,"__esModule",{value:!0});Ai.mergeMiddleware=void 0;const __=mn;function S_(t){const e=new __.JsonRpcEngine;return t.forEach(r=>e.push(r)),e.asMiddleware()}Ai.mergeMiddleware=S_;(function(t){var e=ie&&ie.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=ie&&ie.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(_i,t),r(Si,t),r(Ei,t),r(vn,t),r(mn,t),r(Ai,t)})(Ma);var $f={},Pa={},Ci={exports:{}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */(function(t){var e,r,n,i,o,s,a,u,c,l,y,f,b,E,C,N,p,m,x,P,W,Y,Z,Q;(function(L){var q=typeof ie=="object"?ie:typeof self=="object"?self:typeof this=="object"?this:{};L(F(q,F(t.exports)));function F(g,S){return g!==q&&(typeof Object.create=="function"?Object.defineProperty(g,"__esModule",{value:!0}):g.__esModule=!0),function(A,k){return g[A]=S?S(A,k):k}}})(function(L){var q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,S){g.__proto__=S}||function(g,S){for(var A in S)Object.prototype.hasOwnProperty.call(S,A)&&(g[A]=S[A])};e=function(g,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");q(g,S);function A(){this.constructor=g}g.prototype=S===null?Object.create(S):(A.prototype=S.prototype,new A)},r=Object.assign||function(g){for(var S,A=1,k=arguments.length;A<k;A++){S=arguments[A];for(var B in S)Object.prototype.hasOwnProperty.call(S,B)&&(g[B]=S[B])}return g},n=function(g,S){var A={};for(var k in g)Object.prototype.hasOwnProperty.call(g,k)&&S.indexOf(k)<0&&(A[k]=g[k]);if(g!=null&&typeof Object.getOwnPropertySymbols=="function")for(var B=0,k=Object.getOwnPropertySymbols(g);B<k.length;B++)S.indexOf(k[B])<0&&Object.prototype.propertyIsEnumerable.call(g,k[B])&&(A[k[B]]=g[k[B]]);return A},i=function(g,S,A,k){var B=arguments.length,O=B<3?S:k===null?k=Object.getOwnPropertyDescriptor(S,A):k,V;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")O=Reflect.decorate(g,S,A,k);else for(var K=g.length-1;K>=0;K--)(V=g[K])&&(O=(B<3?V(O):B>3?V(S,A,O):V(S,A))||O);return B>3&&O&&Object.defineProperty(S,A,O),O},o=function(g,S){return function(A,k){S(A,k,g)}},s=function(g,S){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(g,S)},a=function(g,S,A,k){function B(O){return O instanceof A?O:new A(function(V){V(O)})}return new(A||(A=Promise))(function(O,V){function K(_){try{G(k.next(_))}catch(I){V(I)}}function ue(_){try{G(k.throw(_))}catch(I){V(I)}}function G(_){_.done?O(_.value):B(_.value).then(K,ue)}G((k=k.apply(g,S||[])).next())})},u=function(g,S){var A={label:0,sent:function(){if(O[0]&1)throw O[1];return O[1]},trys:[],ops:[]},k,B,O,V;return V={next:K(0),throw:K(1),return:K(2)},typeof Symbol=="function"&&(V[Symbol.iterator]=function(){return this}),V;function K(G){return function(_){return ue([G,_])}}function ue(G){if(k)throw new TypeError("Generator is already executing.");for(;A;)try{if(k=1,B&&(O=G[0]&2?B.return:G[0]?B.throw||((O=B.return)&&O.call(B),0):B.next)&&!(O=O.call(B,G[1])).done)return O;switch(B=0,O&&(G=[G[0]&2,O.value]),G[0]){case 0:case 1:O=G;break;case 4:return A.label++,{value:G[1],done:!1};case 5:A.label++,B=G[1],G=[0];continue;case 7:G=A.ops.pop(),A.trys.pop();continue;default:if(O=A.trys,!(O=O.length>0&&O[O.length-1])&&(G[0]===6||G[0]===2)){A=0;continue}if(G[0]===3&&(!O||G[1]>O[0]&&G[1]<O[3])){A.label=G[1];break}if(G[0]===6&&A.label<O[1]){A.label=O[1],O=G;break}if(O&&A.label<O[2]){A.label=O[2],A.ops.push(G);break}O[2]&&A.ops.pop(),A.trys.pop();continue}G=S.call(g,A)}catch(_){G=[6,_],B=0}finally{k=O=0}if(G[0]&5)throw G[1];return{value:G[0]?G[1]:void 0,done:!0}}},c=function(g,S){for(var A in g)A!=="default"&&!Object.prototype.hasOwnProperty.call(S,A)&&Q(S,g,A)},Q=Object.create?function(g,S,A,k){k===void 0&&(k=A),Object.defineProperty(g,k,{enumerable:!0,get:function(){return S[A]}})}:function(g,S,A,k){k===void 0&&(k=A),g[k]=S[A]},l=function(g){var S=typeof Symbol=="function"&&Symbol.iterator,A=S&&g[S],k=0;if(A)return A.call(g);if(g&&typeof g.length=="number")return{next:function(){return g&&k>=g.length&&(g=void 0),{value:g&&g[k++],done:!g}}};throw new TypeError(S?"Object is not iterable.":"Symbol.iterator is not defined.")},y=function(g,S){var A=typeof Symbol=="function"&&g[Symbol.iterator];if(!A)return g;var k=A.call(g),B,O=[],V;try{for(;(S===void 0||S-- >0)&&!(B=k.next()).done;)O.push(B.value)}catch(K){V={error:K}}finally{try{B&&!B.done&&(A=k.return)&&A.call(k)}finally{if(V)throw V.error}}return O},f=function(){for(var g=[],S=0;S<arguments.length;S++)g=g.concat(y(arguments[S]));return g},b=function(){for(var g=0,S=0,A=arguments.length;S<A;S++)g+=arguments[S].length;for(var k=Array(g),B=0,S=0;S<A;S++)for(var O=arguments[S],V=0,K=O.length;V<K;V++,B++)k[B]=O[V];return k},E=function(g,S,A){if(A||arguments.length===2)for(var k=0,B=S.length,O;k<B;k++)(O||!(k in S))&&(O||(O=Array.prototype.slice.call(S,0,k)),O[k]=S[k]);return g.concat(O||Array.prototype.slice.call(S))},C=function(g){return this instanceof C?(this.v=g,this):new C(g)},N=function(g,S,A){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var k=A.apply(g,S||[]),B,O=[];return B={},V("next"),V("throw"),V("return"),B[Symbol.asyncIterator]=function(){return this},B;function V(M){k[M]&&(B[M]=function(H){return new Promise(function(v,w){O.push([M,H,v,w])>1||K(M,H)})})}function K(M,H){try{ue(k[M](H))}catch(v){I(O[0][3],v)}}function ue(M){M.value instanceof C?Promise.resolve(M.value.v).then(G,_):I(O[0][2],M)}function G(M){K("next",M)}function _(M){K("throw",M)}function I(M,H){M(H),O.shift(),O.length&&K(O[0][0],O[0][1])}},p=function(g){var S,A;return S={},k("next"),k("throw",function(B){throw B}),k("return"),S[Symbol.iterator]=function(){return this},S;function k(B,O){S[B]=g[B]?function(V){return(A=!A)?{value:C(g[B](V)),done:B==="return"}:O?O(V):V}:O}},m=function(g){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var S=g[Symbol.asyncIterator],A;return S?S.call(g):(g=typeof l=="function"?l(g):g[Symbol.iterator](),A={},k("next"),k("throw"),k("return"),A[Symbol.asyncIterator]=function(){return this},A);function k(O){A[O]=g[O]&&function(V){return new Promise(function(K,ue){V=g[O](V),B(K,ue,V.done,V.value)})}}function B(O,V,K,ue){Promise.resolve(ue).then(function(G){O({value:G,done:K})},V)}},x=function(g,S){return Object.defineProperty?Object.defineProperty(g,"raw",{value:S}):g.raw=S,g};var F=Object.create?function(g,S){Object.defineProperty(g,"default",{enumerable:!0,value:S})}:function(g,S){g.default=S};P=function(g){if(g&&g.__esModule)return g;var S={};if(g!=null)for(var A in g)A!=="default"&&Object.prototype.hasOwnProperty.call(g,A)&&Q(S,g,A);return F(S,g),S},W=function(g){return g&&g.__esModule?g:{default:g}},Y=function(g,S,A,k){if(A==="a"&&!k)throw new TypeError("Private accessor was defined without a getter");if(typeof S=="function"?g!==S||!k:!S.has(g))throw new TypeError("Cannot read private member from an object whose class did not declare it");return A==="m"?k:A==="a"?k.call(g):k?k.value:S.get(g)},Z=function(g,S,A,k,B){if(k==="m")throw new TypeError("Private method is not writable");if(k==="a"&&!B)throw new TypeError("Private accessor was defined without a setter");if(typeof S=="function"?g!==S||!B:!S.has(g))throw new TypeError("Cannot write private member to an object whose class did not declare it");return k==="a"?B.call(g,A):B?B.value=A:S.set(g,A),A},L("__extends",e),L("__assign",r),L("__rest",n),L("__decorate",i),L("__param",o),L("__metadata",s),L("__awaiter",a),L("__generator",u),L("__exportStar",c),L("__createBinding",Q),L("__values",l),L("__read",y),L("__spread",f),L("__spreadArrays",b),L("__spreadArray",E),L("__await",C),L("__asyncGenerator",N),L("__asyncDelegator",p),L("__asyncValues",m),L("__makeTemplateObject",x),L("__importStar",P),L("__importDefault",W),L("__classPrivateFieldGet",Y),L("__classPrivateFieldSet",Z)})})(Ci);var Ii={};Object.defineProperty(Ii,"__esModule",{value:!0});var sc=Ci.exports,E_=function(){function t(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return t.prototype.acquire=function(){var e=this,r=this.isLocked(),n=new Promise(function(i){return e._queue.push(i)});return r||this._dispatch(),n},t.prototype.runExclusive=function(e){return sc.__awaiter(this,void 0,void 0,function(){var r,n,i;return sc.__generator(this,function(o){switch(o.label){case 0:return[4,this.acquire()];case 1:r=o.sent(),n=r[0],i=r[1],o.label=2;case 2:return o.trys.push([2,,4,5]),[4,e(n)];case 3:return[2,o.sent()];case 4:return i(),[7];case 5:return[2]}})})},t.prototype.isLocked=function(){return this._value<=0},t.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},t.prototype._dispatch=function(){var e=this,r=this._queue.shift();if(!!r){var n=!1;this._currentReleaser=function(){n||(n=!0,e._value++,e._dispatch())},r([this._value--,this._currentReleaser])}},t}();Ii.default=E_;Object.defineProperty(Pa,"__esModule",{value:!0});var ac=Ci.exports,x_=Ii,A_=function(){function t(){this._semaphore=new x_.default(1)}return t.prototype.acquire=function(){return ac.__awaiter(this,void 0,void 0,function(){var e,r;return ac.__generator(this,function(n){switch(n.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=n.sent(),r=e[1],[2,r]}})})},t.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},t.prototype.isLocked=function(){return this._semaphore.isLocked()},t.prototype.release=function(){this._semaphore.release()},t}();Pa.default=A_;var ki={};Object.defineProperty(ki,"__esModule",{value:!0});ki.withTimeout=void 0;var kn=Ci.exports;function C_(t,e,r){var n=this;return r===void 0&&(r=new Error("timeout")),{acquire:function(){return new Promise(function(i,o){return kn.__awaiter(n,void 0,void 0,function(){var s,a,u;return kn.__generator(this,function(c){switch(c.label){case 0:return s=!1,setTimeout(function(){s=!0,o(r)},e),[4,t.acquire()];case 1:return a=c.sent(),s?(u=Array.isArray(a)?a[1]:a,u()):i(a),[2]}})})})},runExclusive:function(i){return kn.__awaiter(this,void 0,void 0,function(){var o,s;return kn.__generator(this,function(a){switch(a.label){case 0:o=function(){},a.label=1;case 1:return a.trys.push([1,,7,8]),[4,this.acquire()];case 2:return s=a.sent(),Array.isArray(s)?(o=s[1],[4,i(s[0])]):[3,4];case 3:return[2,a.sent()];case 4:return o=s,[4,i()];case 5:return[2,a.sent()];case 6:return[3,8];case 7:return o(),[7];case 8:return[2]}})})},release:function(){t.release()},isLocked:function(){return t.isLocked()}}}ki.withTimeout=C_;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=t.Semaphore=t.Mutex=void 0;var e=Pa;Object.defineProperty(t,"Mutex",{enumerable:!0,get:function(){return e.default}});var r=Ii;Object.defineProperty(t,"Semaphore",{enumerable:!0,get:function(){return r.default}});var n=ki;Object.defineProperty(t,"withTimeout",{enumerable:!0,get:function(){return n.withTimeout}})})($f);const uc=(t,e,r,n)=>function(...i){const o=e.promiseModule;return new o((s,a)=>{e.multiArgs?i.push((...c)=>{e.errorFirst?c[0]?a(c):(c.shift(),s(c)):s(c)}):e.errorFirst?i.push((c,l)=>{c?a(c):s(l)}):i.push(s),Reflect.apply(t,this===r?n:this,i)})},cc=new WeakMap;var I_=(t,e)=>{e={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...e};const r=typeof t;if(!(t!==null&&(r==="object"||r==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${t===null?"null":r}\``);const n=(s,a)=>{let u=cc.get(s);if(u||(u={},cc.set(s,u)),a in u)return u[a];const c=E=>typeof E=="string"||typeof a=="symbol"?a===E:E.test(a),l=Reflect.getOwnPropertyDescriptor(s,a),y=l===void 0||l.writable||l.configurable,b=(e.include?e.include.some(c):!e.exclude.some(c))&&y;return u[a]=b,b},i=new WeakMap,o=new Proxy(t,{apply(s,a,u){const c=i.get(s);if(c)return Reflect.apply(c,a,u);const l=e.excludeMain?s:uc(s,e,o,s);return i.set(s,l),Reflect.apply(l,a,u)},get(s,a){const u=s[a];if(!n(s,a)||u===Function.prototype[a])return u;const c=i.get(u);if(c)return c;if(typeof u=="function"){const l=uc(u,e,o,s);return i.set(u,l),l}return u}});return o};const k_=_r.default;class R_ extends k_{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(r=>this.emit("update",r))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}}var Na=R_;const M_=Na;class O_ extends M_{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}}var T_=O_,wn={minBlockRef:P_,maxBlockRef:N_,sortBlockRefs:ja,bnToHex:j_,blockRefIsNumber:D_,hexToInt:Kn,incrementHexInt:L_,intToHex:Wf,unsafeRandomBytes:B_};function P_(...t){return ja(t)[0]}function N_(...t){const e=ja(t);return e[e.length-1]}function ja(t){return t.sort((e,r)=>e==="latest"||r==="earliest"?1:r==="latest"||e==="earliest"?-1:Kn(e)-Kn(r))}function j_(t){return"0x"+t.toString(16)}function D_(t){return t&&!["earliest","latest","pending"].includes(t)}function Kn(t){return t==null?t:Number.parseInt(t,16)}function L_(t){if(t==null)return t;const e=Kn(t);return Wf(e+1)}function Wf(t){if(t==null)return t;let e=t.toString(16);return e.length%2&&(e="0"+e),"0x"+e}function B_(t){let e="0x";for(let r=0;r<t;r++)e+=lc(),e+=lc();return e}function lc(){return Math.floor(Math.random()*16).toString(16)}const F_=X1,$_=I_,W_=T_,{bnToHex:mE,hexToInt:Rn,incrementHexInt:U_,minBlockRef:H_,blockRefIsNumber:V_}=wn;class z_ extends W_{constructor({provider:e,params:r}){super(),this.type="log",this.ethQuery=new F_(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},r),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(n=>n.toLowerCase()))}async initialize({currentBlock:e}){let r=this.params.fromBlock;["latest","pending"].includes(r)&&(r=e),r==="earliest"&&(r="0x0"),this.params.fromBlock=r;const n=H_(this.params.toBlock,e),i=Object.assign({},this.params,{toBlock:n}),o=await this._fetchLogs(i);this.addInitialResults(o)}async update({oldBlock:e,newBlock:r}){const n=r;let i;e?i=U_(e):i=r;const o=Object.assign({},this.params,{fromBlock:i,toBlock:n}),a=(await this._fetchLogs(o)).filter(u=>this.matchLog(u));this.addResults(a)}async _fetchLogs(e){return await $_(n=>this.ethQuery.getLogs(e,n))()}matchLog(e){if(Rn(this.params.fromBlock)>=Rn(e.blockNumber)||V_(this.params.toBlock)&&Rn(this.params.toBlock)<=Rn(e.blockNumber))return!1;const r=e.address&&e.address.toLowerCase();return this.params.address&&r&&!this.params.address.includes(r)?!1:this.params.topics.every((i,o)=>{let s=e.topics[o];if(!s)return!1;s=s.toLowerCase();let a=Array.isArray(i)?i:[i];return a.includes(null)?!0:(a=a.map(l=>l.toLowerCase()),a.includes(s))})}}var q_=z_,Da=G_;async function G_({provider:t,fromBlock:e,toBlock:r}){e||(e=r);const n=fc(e),o=fc(r)-n+1,s=Array(o).fill().map((u,c)=>n+c).map(Q_);return await Promise.all(s.map(u=>Y_(t,"eth_getBlockByNumber",[u,!1])))}function fc(t){return t==null?t:Number.parseInt(t,16)}function Q_(t){if(t==null)return t;const e=t.toString(16);return"0x"+e}function Y_(t,e,r){return new Promise((n,i)=>{t.sendAsync({id:1,jsonrpc:"2.0",method:e,params:r},(o,s)=>{if(o)return i(o);n(s.result)})})}const K_=Na,J_=Da,{incrementHexInt:Z_}=wn;class X_ extends K_{constructor({provider:e,params:r}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:r}){const n=r,i=Z_(e),s=(await J_({provider:this.provider,fromBlock:i,toBlock:n})).map(a=>a.hash);this.addResults(s)}}var eS=X_;const tS=Na,rS=Da,{incrementHexInt:nS}=wn;class iS extends tS{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const r=e,n=nS(e),i=await rS({provider:this.provider,fromBlock:n,toBlock:r}),o=[];for(const s of i)o.push(...s.transactions);this.addResults(o)}}var oS=iS;const sS=$f.Mutex,{createAsyncMiddleware:aS}=Ma,uS=Ra.exports,cS=q_,lS=eS,fS=oS,{intToHex:Uf,hexToInt:ks}=wn;var hS=dS;function dS({blockTracker:t,provider:e}){let r=0,n={};const i=new sS,o=pS({mutex:i}),s=uS({eth_newFilter:o(Rs(u)),eth_newBlockFilter:o(Rs(c)),eth_newPendingTransactionFilter:o(Rs(l)),eth_uninstallFilter:o(Bn(b)),eth_getFilterChanges:o(Bn(y)),eth_getFilterLogs:o(Bn(f))}),a=async({oldBlock:m,newBlock:x})=>{if(n.length===0)return;const P=await i.acquire();try{await Promise.all(Xt(n).map(async W=>{try{await W.update({oldBlock:m,newBlock:x})}catch(Y){console.error(Y)}}))}catch(W){console.error(W)}P()};return s.newLogFilter=u,s.newBlockFilter=c,s.newPendingTransactionFilter=l,s.uninstallFilter=b,s.getFilterChanges=y,s.getFilterLogs=f,s.destroy=()=>{N()},s;async function u(m){const x=new cS({provider:e,params:m});return await E(x),x}async function c(){const m=new lS({provider:e});return await E(m),m}async function l(){const m=new fS({provider:e});return await E(m),m}async function y(m){const x=ks(m),P=n[x];if(!P)throw new Error(`No filter for index "${x}"`);return P.getChangesAndClear()}async function f(m){const x=ks(m),P=n[x];if(!P)throw new Error(`No filter for index "${x}"`);return P.type==="log"?results=P.getAllResults():results=[],results}async function b(m){const x=ks(m),P=n[x],W=Boolean(P);return W&&await C(x),W}async function E(m){const x=Xt(n).length,P=await t.getLatestBlock();await m.initialize({currentBlock:P}),r++,n[r]=m,m.id=r,m.idHex=Uf(r);const W=Xt(n).length;return p({prevFilterCount:x,newFilterCount:W}),r}async function C(m){const x=Xt(n).length;delete n[m];const P=Xt(n).length;p({prevFilterCount:x,newFilterCount:P})}async function N(){const m=Xt(n).length;n={},p({prevFilterCount:m,newFilterCount:0})}function p({prevFilterCount:m,newFilterCount:x}){if(m===0&&x>0){t.on("sync",a);return}if(m>0&&x===0){t.removeListener("sync",a);return}}}function Rs(t){return Bn(async(...e)=>{const r=await t(...e);return Uf(r.id)})}function Bn(t){return aS(async(e,r)=>{const n=await t.apply(null,e.params);r.result=n})}function pS({mutex:t}){return e=>async(r,n,i,o)=>{(await t.acquire())(),e(r,n,i,o)}}function Xt(t,e){const r=[];for(let n in t)r.push(t[n]);return r}const yS=_r.default,bS=Ra.exports,{createAsyncMiddleware:hc}=Ma,gS=hS,{unsafeRandomBytes:vS,incrementHexInt:mS}=wn,wS=Da;var _S=SS;function SS({blockTracker:t,provider:e}){const r={},n=gS({blockTracker:t,provider:e});let i=!1;const o=new yS,s=bS({eth_subscribe:hc(a),eth_unsubscribe:hc(u)});return s.destroy=l,{events:o,middleware:s};async function a(y,f){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const b=y.params[0],E=vS(16);let C;switch(b){case"newHeads":C=N({subId:E});break;case"logs":const m=y.params[1],x=await n.newLogFilter(m);C=p({subId:E,filter:x});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${b}"`)}r[E]=C,f.result=E;return;function N({subId:m}){const x={type:b,destroy:async()=>{t.removeListener("sync",x.update)},update:async({oldBlock:P,newBlock:W})=>{const Y=W,Z=mS(P);(await wS({provider:e,fromBlock:Z,toBlock:Y})).map(ES).forEach(q=>{c(m,q)})}};return t.on("sync",x.update),x}function p({subId:m,filter:x}){return x.on("update",W=>c(m,W)),{type:b,destroy:async()=>await n.uninstallFilter(x.idHex)}}}async function u(y,f){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const b=y.params[0],E=r[b];if(!E){f.result=!1;return}delete r[b],await E.destroy(),f.result=!0}function c(y,f){o.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:y,result:f}})}function l(){o.removeAllListeners();for(const y in r)r[y].destroy(),delete r[y];i=!0}}function ES(t){return{hash:t.hash,parentHash:t.parentHash,sha3Uncles:t.sha3Uncles,miner:t.miner,stateRoot:t.stateRoot,transactionsRoot:t.transactionsRoot,receiptsRoot:t.receiptsRoot,logsBloom:t.logsBloom,difficulty:t.difficulty,number:t.number,gasLimit:t.gasLimit,gasUsed:t.gasUsed,nonce:t.nonce,mixHash:t.mixHash,timestamp:t.timestamp,extraData:t.extraData}}Object.defineProperty(vi,"__esModule",{value:!0});vi.SubscriptionManager=void 0;const xS=u_,AS=_S,dc=()=>{};class CS{constructor(e){const r=new xS({provider:e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:n,middleware:i}=AS({blockTracker:r,provider:e});this.events=n,this.subscriptionMiddleware=i}async handleRequest(e){const r={};return await this.subscriptionMiddleware(e,r,dc,dc),r}destroy(){this.subscriptionMiddleware.destroy()}}vi.SubscriptionManager=CS;var La=ie&&ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fr,"__esModule",{value:!0});fr.CoinbaseWalletProvider=void 0;const IS=La(_r),kS=La(Zn.exports),Te=ni,Ms=Sr,pc=Er,yc=tt,re=J,Os=La(W1),RS=vr,pe=bf,MS=vi,bc="DefaultChainId",gc="DefaultJsonRpcUrl",OS=[1,10,137,61,56,250,42161,100,43114,3,4,5,42,69,80001,97,4002,421611,43113];class TS extends IS.default{constructor(e){var r,n;super(),this._filterPolyfill=new RS.FilterPolyfill(this),this._subscriptionManager=new MS.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this._send=this.send.bind(this),this._sendAsync=this.sendAsync.bind(this),this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=e.chainId,this._jsonRpcUrlFromOpts=e.jsonRpcUrl,this._overrideIsMetaMask=e.overrideIsMetaMask,this._relayProvider=e.relayProvider,this._storage=e.storage,this._relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this.isCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this.qrUrl=e.qrUrl,this.supportsAddressSwitching=e.supportsAddressSwitching,this.isLedger=e.isLedger;const i=this.getChainId(),o=(0,re.prepend0x)(i.toString(16));this.emit("connect",{chainIdStr:o});const s=this._storage.getItem(yc.LOCAL_STORAGE_ADDRESSES_KEY);if(s){const a=s.split(" ");a[0]!==""&&(this._addresses=a.map(u=>(0,re.ensureAddressString)(u)),this.emit("accountsChanged",a))}this._subscriptionManager.events.on("notification",a=>{this.emit("message",{type:a.method,data:a.params})}),this._addresses.length>0&&this.initializeRelay(),window.addEventListener("message",a=>{var u;if(a.data.type==="walletLinkMessage"){if(a.data.data.action==="defaultChainChanged"||a.data.data.action==="dappChainSwitched"){const c=a.data.data.chainId,l=(u=a.data.data.jsonRpcUrl)!==null&&u!==void 0?u:this.jsonRpcUrl;this.updateProviderInfo(l,Number(c))}a.data.data.action==="addressChanged"&&this._setAddresses([a.data.data.address])}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,re.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(gc))!==null&&e!==void 0?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(gc,e)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(e,r){this._chainIdFromOpts=r,this._jsonRpcUrlFromOpts=e,this.updateProviderInfo(e,r)}updateProviderInfo(e,r){this.jsonRpcUrl=e;const n=this.getChainId();this._storage.setItem(bc,r.toString(10)),((0,re.ensureIntNumber)(r)!==n||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,r,n,i,o,s){return!!(await(await this.initializeRelay()).watchAsset(e,r,n,i,o,s==null?void 0:s.toString()).promise).result}async addEthereumChain(e,r,n,i,o,s){var a,u;if((0,re.ensureIntNumber)(e)===this.getChainId())return!1;const c=await this.initializeRelay(),l=c.inlineAddEthereumChain(e.toString());!this._isAuthorized()&&!l&&await c.requestEthereumAccounts().promise;const y=await c.addEthereumChain(e.toString(),r,o,n,i,s).promise;return((a=y.result)===null||a===void 0?void 0:a.isApproved)===!0&&this.updateProviderInfo(r[0],e),((u=y.result)===null||u===void 0?void 0:u.isApproved)===!0}async switchEthereumChain(e){OS.includes(e)&&this.updateProviderInfo(this.jsonRpcUrl,e);const n=await(await this.initializeRelay()).switchEthereumChain(e.toString(10),this.selectedAddress||void 0).promise;if(n.errorCode)throw Te.ethErrors.provider.custom({code:n.errorCode});const i=n.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,e)}setAppInfo(e,r){this.initializeRelay().then(n=>n.setAppInfo(e,r))}async enable(){var e;return(e=this.diagnostic)===null||e===void 0||e.log(Ms.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?pc.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0?[...this._addresses]:await this._send(pe.JSONRPCMethod.eth_requestAccounts)}async close(){(await this.initializeRelay()).resetAndReload()}send(e,r){if(typeof e=="string"){const i=e,o=Array.isArray(r)?r:r!==void 0?[r]:[],s={jsonrpc:"2.0",id:0,method:i,params:o};return this._sendRequestAsync(s).then(a=>a.result)}if(typeof r=="function"){const i=e,o=r;return this._sendAsync(i,o)}if(Array.isArray(e))return e.map(o=>this._sendRequest(o));const n=e;return this._sendRequest(n)}async sendAsync(e,r){if(typeof r!="function")throw new Error("callback is required");if(Array.isArray(e)){const i=r;this._sendMultipleRequestsAsync(e).then(o=>i(null,o)).catch(o=>i(o,null));return}const n=r;return this._sendRequestAsync(e).then(i=>n(null,i)).catch(i=>n(i,null))}async request(e){if(!e||typeof e!="object"||Array.isArray(e))throw Te.ethErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:r,params:n}=e;if(typeof r!="string"||r.length===0)throw Te.ethErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw Te.ethErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const i=n===void 0?[]:n,o=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:r,params:i,jsonrpc:"2.0",id:o})).result}async scanQRCode(e){const n=await(await this.initializeRelay()).scanQRCode((0,re.ensureRegExpString)(e)).promise;if(typeof n.result!="string")throw new Error("result was not a string");return n.result}async genericRequest(e,r){const i=await(await this.initializeRelay()).genericRequest(e,r).promise;if(typeof i.result!="string")throw new Error("result was not a string");return i.result}async selectProvider(e){const n=await(await this.initializeRelay()).selectProvider(e).promise;if(typeof n.result!="string")throw new Error("result was not a string");return n.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){const r={jsonrpc:"2.0",id:e.id},{method:n}=e;if(r.result=this._handleSynchronousMethods(e),r.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${n} synchronously without a callback. Please provide a callback parameter to call ${n} asynchronously.`);return r}_setAddresses(e,r){if(!Array.isArray(e))throw new Error("addresses is not an array");const n=e.map(i=>(0,re.ensureAddressString)(i));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses.length>0&&this.supportsAddressSwitching===!1&&!r||(this._addresses=n,this.emit("accountsChanged",this._addresses),this._storage.setItem(yc.LOCAL_STORAGE_ADDRESSES_KEY,n.join(" "))))}_sendRequestAsync(e){return new Promise((r,n)=>{try{const i=this._handleSynchronousMethods(e);if(i!==void 0)return r({jsonrpc:"2.0",id:e.id,result:i});const o=this._handleAsynchronousFilterMethods(e);if(o!==void 0){o.then(a=>r(Object.assign(Object.assign({},a),{id:e.id}))).catch(a=>n(a));return}const s=this._handleSubscriptionMethods(e);if(s!==void 0){s.then(a=>r({jsonrpc:"2.0",id:e.id,result:a.result})).catch(a=>n(a));return}}catch(i){return n(i)}this._handleAsynchronousMethods(e).then(i=>i&&r(Object.assign(Object.assign({},i),{id:e.id}))).catch(i=>n(i))})}_sendMultipleRequestsAsync(e){return Promise.all(e.map(r=>this._sendRequestAsync(r)))}_handleSynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case pe.JSONRPCMethod.eth_accounts:return this._eth_accounts();case pe.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case pe.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(n);case pe.JSONRPCMethod.net_version:return this._net_version();case pe.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case pe.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case pe.JSONRPCMethod.eth_sign:return this._eth_sign(n);case pe.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(n);case pe.JSONRPCMethod.personal_sign:return this._personal_sign(n);case pe.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(n);case pe.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(n);case pe.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(n);case pe.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(n);case pe.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(n);case pe.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case pe.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(n);case pe.JSONRPCMethod.eth_signTypedData_v4:case pe.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(n);case pe.JSONRPCMethod.cbWallet_arbitrary:return this._cbwallet_arbitrary(n);case pe.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(n);case pe.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(n);case pe.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(n)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(e,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(e){const{method:r}=e,n=e.params||[];switch(r){case pe.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(n);case pe.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case pe.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case pe.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(n);case pe.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(n)}}_handleSubscriptionMethods(e){switch(e.method){case pe.JSONRPCMethod.eth_subscribe:case pe.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{const r=(0,re.ensureAddressString)(e);return this._addresses.map(i=>(0,re.ensureAddressString)(i)).includes(r)}catch{}return!1}_ensureKnownAddress(e){var r;if(!this._isKnownAddress(e))throw(r=this.diagnostic)===null||r===void 0||r.log(Ms.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const r=e.from?(0,re.ensureAddressString)(e.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=e.to?(0,re.ensureAddressString)(e.to):null,i=e.value!=null?(0,re.ensureBN)(e.value):new kS.default(0),o=e.data?(0,re.ensureBuffer)(e.data):ae.alloc(0),s=e.nonce!=null?(0,re.ensureIntNumber)(e.nonce):null,a=e.gasPrice!=null?(0,re.ensureBN)(e.gasPrice):null,u=e.maxFeePerGas!=null?(0,re.ensureBN)(e.maxFeePerGas):null,c=e.maxPriorityFeePerGas!=null?(0,re.ensureBN)(e.maxPriorityFeePerGas):null,l=e.gas!=null?(0,re.ensureBN)(e.gas):null,y=this.getChainId();return{fromAddress:r,toAddress:n,weiValue:i,data:o,nonce:s,gasPriceInWei:a,maxFeePerGas:u,maxPriorityFeePerGas:c,gasLimit:l,chainId:y}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw Te.ethErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw Te.ethErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,r,n,i){this._ensureKnownAddress(r);try{const s=await(await this.initializeRelay()).signEthereumMessage(e,r,n,i).promise;return{jsonrpc:"2.0",id:0,result:s.result}}catch(o){throw typeof o.message=="string"&&o.message.match(/(denied|rejected)/i)?Te.ethErrors.provider.userRejectedRequest("User denied message signature"):o}}async _ethereumAddressFromSignedMessage(e,r,n){const o=await(await this.initializeRelay()).ethereumAddressFromSignedMessage(e,r,n).promise;return{jsonrpc:"2.0",id:0,result:o.result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,re.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem(bc);if(!e)return(0,re.ensureIntNumber)(this._chainIdFromOpts);const r=parseInt(e,10);return(0,re.ensureIntNumber)(r)}async _eth_requestAccounts(){var e;if((e=this.diagnostic)===null||e===void 0||e.log(Ms.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?pc.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0)return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let r;try{r=await(await this.initializeRelay()).requestEthereumAccounts().promise}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?Te.ethErrors.provider.userRejectedRequest("User denied account authorization"):n}if(!r.result)throw new Error("accounts received is empty");return this._setAddresses(r.result),this.isLedger||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const r=(0,re.ensureAddressString)(e[0]),n=(0,re.ensureBuffer)(e[1]);return this._signEthereumMessage(n,r,!1)}_eth_ecRecover(e){const r=(0,re.ensureBuffer)(e[0]),n=(0,re.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!1)}_personal_sign(e){this._requireAuthorization();const r=(0,re.ensureBuffer)(e[0]),n=(0,re.ensureAddressString)(e[1]);return this._signEthereumMessage(r,n,!0)}_personal_ecRecover(e){const r=(0,re.ensureBuffer)(e[0]),n=(0,re.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!0)}async _eth_signTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{const i=await(await this.initializeRelay()).signEthereumTransaction(r).promise;return{jsonrpc:"2.0",id:0,result:i.result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?Te.ethErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_sendRawTransaction(e){const r=(0,re.ensureBuffer)(e[0]),i=await(await this.initializeRelay()).submitEthereumTransaction(r,this.getChainId()).promise;return{jsonrpc:"2.0",id:0,result:i.result}}async _eth_sendTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{const i=await(await this.initializeRelay()).signAndSubmitEthereumTransaction(r).promise;return{jsonrpc:"2.0",id:0,result:i.result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?Te.ethErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_signTypedData_v1(e){this._requireAuthorization();const r=(0,re.ensureParsedJSONObject)(e[0]),n=(0,re.ensureAddressString)(e[1]);this._ensureKnownAddress(n);const i=Os.default.hashForSignTypedDataLegacy({data:r}),o=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,o)}async _eth_signTypedData_v3(e){this._requireAuthorization();const r=(0,re.ensureAddressString)(e[0]),n=(0,re.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=Os.default.hashForSignTypedData_v3({data:n}),o=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,o)}async _eth_signTypedData_v4(e){this._requireAuthorization();const r=(0,re.ensureAddressString)(e[0]),n=(0,re.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=Os.default.hashForSignTypedData_v4({data:n}),o=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,o)}async _cbwallet_arbitrary(e){const r=e[0],n=e[1];if(typeof n!="string")throw new Error("parameter must be a string");if(typeof r!="object"||r===null)throw new Error("parameter must be an object");const i=await this.genericRequest(r,n);return{jsonrpc:"2.0",id:0,result:i}}async _wallet_addEthereumChain(e){var r,n,i,o;const s=e[0];if(((r=s.rpcUrls)===null||r===void 0?void 0:r.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!s.chainName||s.chainName.trim()==="")throw Te.ethErrors.provider.custom({code:0,message:"chainName is a required field"});if(!s.nativeCurrency)throw Te.ethErrors.provider.custom({code:0,message:"nativeCurrency is a required field"});const a=parseInt(s.chainId,16);return await this.addEthereumChain(a,(n=s.rpcUrls)!==null&&n!==void 0?n:[],(i=s.blockExplorerUrls)!==null&&i!==void 0?i:[],s.chainName,(o=s.iconUrls)!==null&&o!==void 0?o:[],s.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const r=e[0];return await this.switchEthereumChain(parseInt(r.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){const r=Array.isArray(e)?e[0]:e;if(!r.type)throw Te.ethErrors.rpc.invalidParams({message:"Type is required"});if((r==null?void 0:r.type)!=="ERC20")throw Te.ethErrors.rpc.invalidParams({message:`Asset of type '${r.type}' is not supported`});if(!(r!=null&&r.options))throw Te.ethErrors.rpc.invalidParams({message:"Options are required"});if(!(r!=null&&r.options.address))throw Te.ethErrors.rpc.invalidParams({message:"Address is required"});const n=this.getChainId(),{address:i,symbol:o,image:s,decimals:a}=r.options,u=await this.watchAsset(r.type,i,o,a,s,n);return{jsonrpc:"2.0",id:0,result:u}}_eth_uninstallFilter(e){const r=(0,re.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(r)}async _eth_newFilter(e){const r=e[0],n=await this._filterPolyfill.newFilter(r);return{jsonrpc:"2.0",id:0,result:n}}async _eth_newBlockFilter(){const e=await this._filterPolyfill.newBlockFilter();return{jsonrpc:"2.0",id:0,result:e}}async _eth_newPendingTransactionFilter(){const e=await this._filterPolyfill.newPendingTransactionFilter();return{jsonrpc:"2.0",id:0,result:e}}_eth_getFilterChanges(e){const r=(0,re.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(r)}_eth_getFilterLogs(e){const r=(0,re.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(r)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(e=>(e.setAccountsCallback((r,n)=>this._setAddresses(r,n)),e.setChainCallback((r,n)=>{this.updateProviderInfo(n,parseInt(r,10))}),e.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=e,e))}}fr.CoinbaseWalletProvider=TS;var Ri={},Mi={};const _n=rn(th);var Oi={};function Hf(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=Hf(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function vc(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=Hf(t))&&(n&&(n+=" "),n+=e);return n}const PS=Object.freeze(Object.defineProperty({__proto__:null,clsx:vc,default:vc},Symbol.toStringTag,{value:"Module"})),Vf=rn(PS),Ba=rn(rh);var Ti={};Object.defineProperty(Ti,"__esModule",{value:!0});Ti.LIB_VERSION=void 0;Ti.LIB_VERSION="3.5.2";var Fa={};Object.defineProperty(Fa,"__esModule",{value:!0});Fa.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTggMEMzLjU4IDAgMCAzLjU4IDAgOHMzLjU4IDggOCA4IDgtMy41OCA4LTgtMy41OC04LTgtOFptNS45MSA3aC0xLjk0Yy0uMS0xLjU3LS40Mi0zLS45MS00LjE1IDEuNDguODggMi41NSAyLjM4IDIuODUgNC4xNVpNOCAxNGMtLjQ1IDAtMS43Mi0xLjc3LTEuOTUtNWgzLjljLS4yMyAzLjIzLTEuNSA1LTEuOTUgNVpNNi4wNSA3QzYuMjggMy43NyA3LjU1IDIgOCAyYy40NSAwIDEuNzIgMS43NyAxLjk1IDVoLTMuOVpNNC45NCAyLjg1QzQuNDYgNCA0LjEzIDUuNDMgNC4wMyA3SDIuMDljLjMtMS43NyAxLjM3LTMuMjcgMi44NS00LjE1Wk0yLjA5IDloMS45NGMuMSAxLjU3LjQyIDMgLjkxIDQuMTVBNS45OTggNS45OTggMCAwIDEgMi4wOSA5Wm04Ljk3IDQuMTVjLjQ4LTEuMTUuODEtMi41OC45MS00LjE1aDEuOTRhNS45OTggNS45OTggMCAwIDEtMi44NSA0LjE1WiIgZmlsbD0iIzE2NTJGMCIvPjwvc3ZnPg==";var $a={};Object.defineProperty($a,"__esModule",{value:!0});$a.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTciIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE1LjYzNSAyLjExN2EzLjg4OSAzLjg4OSAwIDAgMC01LjUyMSAwTDYuODkgNS4zMzVBMy44OTQgMy44OTQgMCAwIDAgNS44IDguNzM5Yy4wODMuNTA2LjI2OCAxLjAxMS41NTMgMS40NjYuMTUxLjI1My4zMzYuNDcyLjUzNy42OTFsLjYyMS42MjQgMS4xNDEtMS4xNDYtLjYyLS42MjRhMi4xMDUgMi4xMDUgMCAwIDEtLjQ4Ny0uNzQxIDIuMzQgMi4zNCAwIDAgMSAuNTAzLTIuNTFsMy4yMDYtMy4yMmEyLjI5MyAyLjI5MyAwIDAgMSAzLjIzOSAwYy44OS44OTQuODkgMi4zNDMgMCAzLjI1M2wtMS41MjcgMS41MzNjLjIzNC42NC4zMzUgMS4zMzEuMzAyIDIuMDA1bDIuMzgzLTIuMzkyYzEuNTEtMS41MzQgMS40OTMtNC4wMjgtLjAxNy01LjU2MVoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBkPSJNMTEuMjcxIDcuNzQ1YTMuMTMgMy4xMyAwIDAgMC0uNTU0LS42OWwtLjYyLS42MjQtMS4xNDIgMS4xNDYuNjIxLjYyM2MuMjE4LjIyLjM4Ni40ODkuNDg3Ljc1OC4zMzUuODI2LjE2NyAxLjgyLS41MDQgMi40OTRsLTMuMjA1IDMuMjE5YTIuMjkzIDIuMjkzIDAgMCAxLTMuMjQgMCAyLjMxNiAyLjMxNiAwIDAgMSAwLTMuMjUybDEuNTI4LTEuNTM0YTQuODE1IDQuODE1IDAgMCAxLS4yODUtMi4wMDVsLTIuMzgzIDIuMzkzYTMuOTI3IDMuOTI3IDAgMCAwIDAgNS41NDQgMy45MDkgMy45MDkgMCAwIDAgNS41MzggMGwzLjIwNS0zLjIxOWEzLjk1OCAzLjk1OCAwIDAgMCAxLjA5MS0zLjQwNCA0LjIxMSA0LjIxMSAwIDAgMC0uNTM3LTEuNDQ5WiIgZmlsbD0iIzE2NTJGMCIvPjwvc3ZnPg==";var Wa={};Object.defineProperty(Wa,"__esModule",{value:!0});Wa.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEgN3Y5aDE0VjdIMVptNy41IDQuMzlWMTRoLTF2LTIuNjFjLS40NC0uMTktLjc1LS42My0uNzUtMS4xNGExLjI1IDEuMjUgMCAwIDEgMi41IDBjMCAuNTEtLjMxLjk1LS43NSAxLjE0Wk01LjY3IDZWNC4zM0M1LjY3IDMuMDUgNi43MSAyIDggMnMyLjMzIDEuMDUgMi4zMyAyLjMzVjZoMlY0LjMzQzEyLjMzIDEuOTQgMTAuMzkgMCA4IDBTMy42NyAxLjk0IDMuNjcgNC4zM1Y2aDJaIiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+";var Ua={};Object.defineProperty(Ua,"__esModule",{value:!0});Ua.default=`<svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="50" cy="50" r="50" fill="white"/>
<circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>
<circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>
</svg>

`;var Pi={};function zf(t){this.mode=$e.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,r=this.data.length;e<r;e++){var n=[],i=this.data.charCodeAt(e);i>65536?(n[0]=240|(i&1835008)>>>18,n[1]=128|(i&258048)>>>12,n[2]=128|(i&4032)>>>6,n[3]=128|i&63):i>2048?(n[0]=224|(i&61440)>>>12,n[1]=128|(i&4032)>>>6,n[2]=128|i&63):i>128?(n[0]=192|(i&1984)>>>6,n[1]=128|i&63):n[0]=i,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}zf.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,r=this.parsedData.length;e<r;e++)t.put(this.parsedData[e],8)}};function ut(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}ut.prototype={addData:function(t){var e=new zf(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=ut.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[t+r][e+n]=!0:this.modules[t+r][e+n]=!1)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=ge.getLostPoint(this);(r==0||t>n)&&(t=n,e=r)}return e},createMovieClip:function(t,e,r){var n=t.createEmptyMovieClip(e,r),i=1;this.make();for(var o=0;o<this.modules.length;o++)for(var s=o*i,a=0;a<this.modules[o].length;a++){var u=a*i,c=this.modules[o][a];c&&(n.beginFill(0,100),n.moveTo(u,s),n.lineTo(u+i,s),n.lineTo(u+i,s+i),n.lineTo(u,s+i),n.endFill())}return n},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=ge.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],i=t[r];if(this.modules[n][i]==null)for(var o=-2;o<=2;o++)for(var s=-2;s<=2;s++)o==-2||o==2||s==-2||s==2||o==0&&s==0?this.modules[n+o][i+s]=!0:this.modules[n+o][i+s]=!1}},setupTypeNumber:function(t){for(var e=ge.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(t,e){for(var r=this.errorCorrectLevel<<3|e,n=ge.getBCHTypeInfo(r),i=0;i<15;i++){var o=!t&&(n>>i&1)==1;i<6?this.modules[i][8]=o:i<8?this.modules[i+1][8]=o:this.modules[this.moduleCount-15+i][8]=o}for(var i=0;i<15;i++){var o=!t&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=o:i<9?this.modules[8][15-i-1+1]=o:this.modules[8][15-i-1]=o}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,n=this.moduleCount-1,i=7,o=0,s=this.moduleCount-1;s>0;s-=2)for(s==6&&s--;;){for(var a=0;a<2;a++)if(this.modules[n][s-a]==null){var u=!1;o<t.length&&(u=(t[o]>>>i&1)==1);var c=ge.getMask(e,n,s-a);c&&(u=!u),this.modules[n][s-a]=u,i--,i==-1&&(o++,i=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}}};ut.PAD0=236;ut.PAD1=17;ut.createData=function(t,e,r){for(var n=at.getRSBlocks(t,e),i=new qf,o=0;o<r.length;o++){var s=r[o];i.put(s.mode,4),i.put(s.getLength(),ge.getLengthInBits(s.mode,t)),s.write(i)}for(var a=0,o=0;o<n.length;o++)a+=n[o].dataCount;if(i.getLengthInBits()>a*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+a*8+")");for(i.getLengthInBits()+4<=a*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=a*8||(i.put(ut.PAD0,8),i.getLengthInBits()>=a*8));)i.put(ut.PAD1,8);return ut.createBytes(i,n)};ut.createBytes=function(t,e){for(var r=0,n=0,i=0,o=new Array(e.length),s=new Array(e.length),a=0;a<e.length;a++){var u=e[a].dataCount,c=e[a].totalCount-u;n=Math.max(n,u),i=Math.max(i,c),o[a]=new Array(u);for(var l=0;l<o[a].length;l++)o[a][l]=255&t.buffer[l+r];r+=u;var y=ge.getErrorCorrectPolynomial(c),f=new lr(o[a],y.getLength()-1),b=f.mod(y);s[a]=new Array(y.getLength()-1);for(var l=0;l<s[a].length;l++){var E=l+b.getLength()-s[a].length;s[a][l]=E>=0?b.get(E):0}}for(var C=0,l=0;l<e.length;l++)C+=e[l].totalCount;for(var N=new Array(C),p=0,l=0;l<n;l++)for(var a=0;a<e.length;a++)l<o[a].length&&(N[p++]=o[a][l]);for(var l=0;l<i;l++)for(var a=0;a<e.length;a++)l<s[a].length&&(N[p++]=s[a][l]);return N};var $e={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3},xt={L:1,M:0,Q:3,H:2},mt={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},ge={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G18:1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,G15_MASK:1<<14|1<<12|1<<10|1<<4|1<<1,getBCHTypeInfo:function(t){for(var e=t<<10;ge.getBCHDigit(e)-ge.getBCHDigit(ge.G15)>=0;)e^=ge.G15<<ge.getBCHDigit(e)-ge.getBCHDigit(ge.G15);return(t<<10|e)^ge.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;ge.getBCHDigit(e)-ge.getBCHDigit(ge.G18)>=0;)e^=ge.G18<<ge.getBCHDigit(e)-ge.getBCHDigit(ge.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return ge.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case mt.PATTERN000:return(e+r)%2==0;case mt.PATTERN001:return e%2==0;case mt.PATTERN010:return r%3==0;case mt.PATTERN011:return(e+r)%3==0;case mt.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case mt.PATTERN101:return e*r%2+e*r%3==0;case mt.PATTERN110:return(e*r%2+e*r%3)%2==0;case mt.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new lr([1],0),r=0;r<t;r++)e=e.multiply(new lr([1,Ae.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case $e.MODE_NUMBER:return 10;case $e.MODE_ALPHA_NUM:return 9;case $e.MODE_8BIT_BYTE:return 8;case $e.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case $e.MODE_NUMBER:return 12;case $e.MODE_ALPHA_NUM:return 11;case $e.MODE_8BIT_BYTE:return 16;case $e.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case $e.MODE_NUMBER:return 14;case $e.MODE_ALPHA_NUM:return 13;case $e.MODE_8BIT_BYTE:return 16;case $e.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n++)for(var i=0;i<e;i++){for(var o=0,s=t.isDark(n,i),a=-1;a<=1;a++)if(!(n+a<0||e<=n+a))for(var u=-1;u<=1;u++)i+u<0||e<=i+u||a==0&&u==0||s==t.isDark(n+a,i+u)&&o++;o>5&&(r+=3+o-5)}for(var n=0;n<e-1;n++)for(var i=0;i<e-1;i++){var c=0;t.isDark(n,i)&&c++,t.isDark(n+1,i)&&c++,t.isDark(n,i+1)&&c++,t.isDark(n+1,i+1)&&c++,(c==0||c==4)&&(r+=3)}for(var n=0;n<e;n++)for(var i=0;i<e-6;i++)t.isDark(n,i)&&!t.isDark(n,i+1)&&t.isDark(n,i+2)&&t.isDark(n,i+3)&&t.isDark(n,i+4)&&!t.isDark(n,i+5)&&t.isDark(n,i+6)&&(r+=40);for(var i=0;i<e;i++)for(var n=0;n<e-6;n++)t.isDark(n,i)&&!t.isDark(n+1,i)&&t.isDark(n+2,i)&&t.isDark(n+3,i)&&t.isDark(n+4,i)&&!t.isDark(n+5,i)&&t.isDark(n+6,i)&&(r+=40);for(var l=0,i=0;i<e;i++)for(var n=0;n<e;n++)t.isDark(n,i)&&l++;var y=Math.abs(100*l/e/e-50)/5;return r+=y*10,r}},Ae={glog:function(t){if(t<1)throw new Error("glog("+t+")");return Ae.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return Ae.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var Re=0;Re<8;Re++)Ae.EXP_TABLE[Re]=1<<Re;for(var Re=8;Re<256;Re++)Ae.EXP_TABLE[Re]=Ae.EXP_TABLE[Re-4]^Ae.EXP_TABLE[Re-5]^Ae.EXP_TABLE[Re-6]^Ae.EXP_TABLE[Re-8];for(var Re=0;Re<255;Re++)Ae.LOG_TABLE[Ae.EXP_TABLE[Re]]=Re;function lr(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&t[r]==0;)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}lr.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<t.getLength();n++)e[r+n]^=Ae.gexp(Ae.glog(this.get(r))+Ae.glog(t.get(n)));return new lr(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=Ae.glog(this.get(0))-Ae.glog(t.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<t.getLength();n++)r[n]^=Ae.gexp(Ae.glog(t.get(n))+e);return new lr(r,0).mod(t)}};function at(t,e){this.totalCount=t,this.dataCount=e}at.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];at.getRSBlocks=function(t,e){var r=at.getRsBlockTable(t,e);if(r==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,i=[],o=0;o<n;o++)for(var s=r[o*3+0],a=r[o*3+1],u=r[o*3+2],c=0;c<s;c++)i.push(new at(a,u));return i};at.getRsBlockTable=function(t,e){switch(e){case xt.L:return at.RS_BLOCK_TABLE[(t-1)*4+0];case xt.M:return at.RS_BLOCK_TABLE[(t-1)*4+1];case xt.Q:return at.RS_BLOCK_TABLE[(t-1)*4+2];case xt.H:return at.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};function qf(){this.buffer=[],this.length=0}qf.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Ts=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function Gf(t){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof t=="string"&&(t={content:t}),t)for(var e in t)this.options[e]=t[e];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function r(u){switch(u){case"L":return xt.L;case"M":return xt.M;case"Q":return xt.Q;case"H":return xt.H;default:throw new Error("Unknwon error correction level: "+u)}}function n(u,c){for(var l=i(u),y=1,f=0,b=0,E=Ts.length;b<=E;b++){var C=Ts[b];if(!C)throw new Error("Content too long: expected "+f+" but got "+l);switch(c){case"L":f=C[0];break;case"M":f=C[1];break;case"Q":f=C[2];break;case"H":f=C[3];break;default:throw new Error("Unknwon error correction level: "+c)}if(l<=f)break;y++}if(y>Ts.length)throw new Error("Content too long");return y}function i(u){var c=encodeURI(u).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return c.length+(c.length!=u?3:0)}var o=this.options.content,s=n(o,this.options.ecl),a=r(this.options.ecl);this.qrcode=new ut(s,a),this.qrcode.addData(o),this.qrcode.make()}Gf.prototype.svg=function(t){var e=this.options||{},r=this.qrcode.modules;typeof t>"u"&&(t={container:e.container||"svg"});for(var n=typeof e.pretty<"u"?!!e.pretty:!0,i=n?"  ":"",o=n?`\r
`:"",s=e.width,a=e.height,u=r.length,c=s/(u+2*e.padding),l=a/(u+2*e.padding),y=typeof e.join<"u"?!!e.join:!1,f=typeof e.swap<"u"?!!e.swap:!1,b=typeof e.xmlDeclaration<"u"?!!e.xmlDeclaration:!0,E=typeof e.predefined<"u"?!!e.predefined:!1,C=E?i+'<defs><path id="qrmodule" d="M0 0 h'+l+" v"+c+' H0 z" style="fill:'+e.color+';shape-rendering:crispEdges;" /></defs>'+o:"",N=i+'<rect x="0" y="0" width="'+s+'" height="'+a+'" style="fill:'+e.background+';shape-rendering:crispEdges;"/>'+o,p="",m="",x=0;x<u;x++)for(var P=0;P<u;P++){var W=r[P][x];if(W){var Y=P*c+e.padding*c,Z=x*l+e.padding*l;if(f){var Q=Y;Y=Z,Z=Q}if(y){var L=c+Y,q=l+Z;Y=Number.isInteger(Y)?Number(Y):Y.toFixed(2),Z=Number.isInteger(Z)?Number(Z):Z.toFixed(2),L=Number.isInteger(L)?Number(L):L.toFixed(2),q=Number.isInteger(q)?Number(q):q.toFixed(2),m+="M"+Y+","+Z+" V"+q+" H"+L+" V"+Z+" H"+Y+" Z "}else E?p+=i+'<use x="'+Y.toString()+'" y="'+Z.toString()+'" href="#qrmodule" />'+o:p+=i+'<rect x="'+Y.toString()+'" y="'+Z.toString()+'" width="'+c+'" height="'+l+'" style="fill:'+e.color+';shape-rendering:crispEdges;"/>'+o}}y&&(p=i+'<path x="0" y="0" style="fill:'+e.color+';shape-rendering:crispEdges;" d="'+m+'" />');let F="";if(this.options.image!==void 0&&this.options.image.svg){const S=s*this.options.image.width/100,A=a*this.options.image.height/100,k=s/2-S/2,B=a/2-A/2;F+=`<svg x="${k}" y="${B}" width="${S}" height="${A}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,F+=this.options.image.svg+o,F+="</svg>"}var g="";switch(t.container){case"svg":b&&(g+='<?xml version="1.0" standalone="yes"?>'+o),g+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+s+'" height="'+a+'">'+o,g+=C+N+p,g+=F,g+="</svg>";break;case"svg-viewbox":b&&(g+='<?xml version="1.0" standalone="yes"?>'+o),g+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+s+" "+a+'">'+o,g+=C+N+p,g+=F,g+="</svg>";break;case"g":g+='<g width="'+s+'" height="'+a+'">'+o,g+=C+N+p,g+=F,g+="</g>";break;default:g+=(C+N+p+F).replace(/^\s+/,"");break}return g};var NS=Gf,jS=ie&&ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pi,"__esModule",{value:!0});Pi.QRCode=void 0;const DS=_n,mc=Ba,LS=jS(NS),BS=t=>{const[e,r]=(0,mc.useState)("");return(0,mc.useEffect)(()=>{var n,i;const o=new LS.default({content:t.content,background:t.bgColor||"#ffffff",color:t.fgColor||"#000000",container:"svg",ecl:"M",width:(n=t.width)!==null&&n!==void 0?n:256,height:(i=t.height)!==null&&i!==void 0?i:256,padding:0,image:t.image}),s=ae.from(o.svg(),"utf8").toString("base64");r(`data:image/svg+xml;base64,${s}`)}),e?(0,DS.h)("img",{src:e,alt:"QR Code"}):null};Pi.QRCode=BS;var Ni={},Ha={};Object.defineProperty(Ha,"__esModule",{value:!0});Ha.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var FS=ie&&ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ni,"__esModule",{value:!0});Ni.Spinner=void 0;const Mn=_n,$S=FS(Ha),WS=t=>{var e;const r=(e=t.size)!==null&&e!==void 0?e:64,n=t.color||"#000";return(0,Mn.h)("div",{class:"-cbwsdk-spinner"},(0,Mn.h)("style",null,$S.default),(0,Mn.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r}},(0,Mn.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))};Ni.Spinner=WS;var Va={};Object.defineProperty(Va,"__esModule",{value:!0});Va.default='.-cbwsdk-css-reset .-cbwsdk-extension-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box{display:flex;position:relative;max-width:500px;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top{display:flex;flex-direction:row;border-radius:8px;overflow:hidden;min-height:300px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top.dark{color:#fff;background-color:#000;box-shadow:0 4px 16px rgba(255,255,255,.05)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top.light{background-color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-subtext{margin-top:15px;font-size:12px;line-height:1.5}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-install-region{display:flex;flex-basis:50%;flex-direction:column;justify-content:center;padding:32px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-install-region button{display:block;border-radius:8px;background-color:#1652f0;color:#fff;width:90%;min-width:fit-content;height:44px;margin-top:16px;font-size:16px;padding-left:16px;padding-right:16px;cursor:pointer;font-weight:500;text-align:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-install-region button.dark{background-color:#3773f5}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-info-region{display:flex;flex-basis:50%;flex-direction:column;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-info-region.light{background-color:#fafbfc}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-info-region.dark{background-color:#141519}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description{display:flex;flex-direction:row;align-items:center;padding-top:14px;padding-bottom:14px;padding-left:24px;padding-right:32px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-icon-wrapper{display:block;position:relative;width:40px;height:40px;flex-shrink:0;flex-grow:0;border-radius:20px;background-color:#fff;box-shadow:0px 0px 8px rgba(0,0,0,.04),0px 16px 24px rgba(0,0,0,.06)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-icon-wrapper img{position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-text{margin-left:16px;flex-grow:1;font-size:13px;line-height:19px;align-self:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-text.light{color:#000}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-text.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom{display:flex;flex-direction:row;overflow:hidden;border-radius:8px;margin-top:8px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom.light{background-color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom.dark{background-color:#000;box-shadow:0 4px 16px rgba(255,255,255,.05)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description-region{display:flex;flex-direction:column;justify-content:center;padding:32px;flex-grow:1}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description{font-size:13px;line-height:19px;margin-top:12px;color:#aaa}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description.dark a{color:#3773f5}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description a{font-size:inherit;line-height:inherit;color:#1652f0;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-region{position:relative;flex-shrink:0;display:flex;flex-direction:column;justify-content:center;padding-left:24px;padding-right:24px;padding-top:16px;padding-bottom:16px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-wrapper{position:relative;display:block;padding:8px;border-radius:8px;box-shadow:0px 4px 12px rgba(0,0,0,.1);background-color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-wrapper img{display:block}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting.light>p{color:#000}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting.dark{background-color:rgba(20,21,25,.9)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel{position:absolute;-webkit-appearance:none;display:flex;align-items:center;justify-content:center;top:16px;right:16px;width:24px;height:24px;border-radius:12px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel.light{background-color:#fafbfc}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel.dark{background-color:#141519}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x.light::before,.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x.light::after{background-color:#000}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x.dark::before,.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x.dark::after{background-color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::before,.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::after{content:"";position:absolute;display:block;top:-1px;left:-7px;width:14px;height:1px;transition:background-color .2s}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::before{transform:rotate(45deg)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::after{transform:rotate(135deg)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel:hover .-cbwsdk-link-dialog-box-cancel-x-a,.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel:hover .-cbwsdk-link-dialog-box-cancel-x-b{background-color:#000}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-container-hidden{display:none}.-cbwsdk-css-reset .-cbwsdk-extension-dialog h2{display:block;text-align:left;font-size:22px;font-weight:600;line-height:28px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog h2.light{color:#000}.-cbwsdk-css-reset .-cbwsdk-extension-dialog h2.dark{color:#fff}';var Or=ie&&ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Oi,"__esModule",{value:!0});Oi.TryExtensionLinkDialog=void 0;const rt=Or(Vf),ce=_n,qr=Ba,US=J,HS=Ti,VS=Or(Fa),zS=Or($a),qS=Or(Wa),GS=Or(Ua),QS=Pi,YS=Ni,KS=Or(Va),JS=t=>{const{isOpen:e,darkMode:r}=t,[n,i]=(0,qr.useState)(!e),[o,s]=(0,qr.useState)(!e);(0,qr.useEffect)(()=>{const u=[window.setTimeout(()=>{s(!e)},10)];return e?i(!1):u.push(window.setTimeout(()=>{i(!0)},360)),()=>{u.forEach(window.clearTimeout)}},[t.isOpen]);const a=r?"dark":"light";return(0,ce.h)("div",{class:(0,rt.default)("-cbwsdk-extension-dialog-container",n&&"-cbwsdk-extension-dialog-container-hidden")},(0,ce.h)("style",null,KS.default),(0,ce.h)("div",{class:(0,rt.default)("-cbwsdk-extension-dialog-backdrop",a,o&&"-cbwsdk-extension-dialog-backdrop-hidden")}),(0,ce.h)("div",{class:"-cbwsdk-extension-dialog"},(0,ce.h)("div",{class:(0,rt.default)("-cbwsdk-extension-dialog-box",o&&"-cbwsdk-extension-dialog-box-hidden")},(0,ce.h)(ZS,{darkMode:r,onInstallClick:()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")}}),t.connectDisabled?null:(0,ce.h)(XS,{darkMode:r,version:t.version,sessionId:t.sessionId,sessionSecret:t.sessionSecret,linkAPIUrl:t.linkAPIUrl,isConnected:t.isConnected,isParentConnection:t.isParentConnection,chainId:t.chainId}),t.onCancel&&(0,ce.h)(e2,{darkMode:r,onClick:t.onCancel}))))};Oi.TryExtensionLinkDialog=JS;const ZS=({darkMode:t,onInstallClick:e})=>{const[r,n]=(0,qr.useState)(!1),i=(0,qr.useCallback)(()=>{r?window.location.reload():(e(),n(!0))},[e,r]),o=t?"dark":"light";return(0,ce.h)("div",{class:(0,rt.default)("-cbwsdk-extension-dialog-box-top",o)},(0,ce.h)("div",{class:"-cbwsdk-extension-dialog-box-top-install-region"},(0,ce.h)("h2",{class:o},"Try the Coinbase Wallet extension"),r&&(0,ce.h)("div",{class:"-cbwsdk-extension-dialog-box-top-subtext"},"After installing Coinbase Wallet, refresh the page and connect again."),(0,ce.h)("button",{type:"button",onClick:i},r?"Refresh":"Install")),(0,ce.h)("div",{class:(0,rt.default)("-cbwsdk-extension-dialog-box-top-info-region",o)},(0,ce.h)(Ps,{darkMode:t,icon:zS.default,text:"Connect to crypto apps with one click"}),(0,ce.h)(Ps,{darkMode:t,icon:qS.default,text:"Your private key is stored securely"}),(0,ce.h)(Ps,{darkMode:t,icon:VS.default,text:"Works with Ethereum, Polygon, and more"})))},XS=t=>{const e=(0,US.createQrUrl)(t.sessionId,t.sessionSecret,t.linkAPIUrl,t.isParentConnection,t.version,t.chainId),r=t.darkMode?"dark":"light";return(0,ce.h)("div",{"data-testid":"scan-qr-box",class:(0,rt.default)("-cbwsdk-extension-dialog-box-bottom",r)},(0,ce.h)("div",{class:"-cbwsdk-extension-dialog-box-bottom-description-region"},(0,ce.h)("h2",{class:r},"Or scan to connect"),(0,ce.h)("body",{class:(0,rt.default)("-cbwsdk-extension-dialog-box-bottom-description",r)},"Open"," ",(0,ce.h)("a",{href:"https://wallet.coinbase.com/",target:"_blank",rel:"noopener noreferrer"},"Coinbase Wallet")," ","on your mobile phone and scan")),(0,ce.h)("div",{class:"-cbwsdk-extension-dialog-box-bottom-qr-region"},(0,ce.h)("div",{class:"-cbwsdk-extension-dialog-box-bottom-qr-wrapper"},(0,ce.h)(QS.QRCode,{content:e,width:150,height:150,fgColor:"#000",bgColor:"transparent",image:{svg:GS.default,width:34,height:34}})),(0,ce.h)("input",{type:"hidden",name:"cbwsdk-version",value:HS.LIB_VERSION}),(0,ce.h)("input",{type:"hidden",value:e}),!t.isConnected&&(0,ce.h)("div",{"data-testid":"connecting-spinner",class:(0,rt.default)("-cbwsdk-extension-dialog-box-bottom-qr-connecting",r)},(0,ce.h)(YS.Spinner,{size:36,color:t.darkMode?"#FFF":"#000"}),(0,ce.h)("p",null,"Connecting..."))))},Ps=t=>{const e=t.darkMode?"dark":"light";return(0,ce.h)("div",{class:"-cbwsdk-extension-dialog-box-top-description"},(0,ce.h)("div",{class:"-cbwsdk-extension-dialog-box-top-description-icon-wrapper"},(0,ce.h)("img",{src:t.icon})),(0,ce.h)("body",{class:(0,rt.default)("-cbwsdk-extension-dialog-box-top-description-text",e)},t.text))},e2=t=>{const e=t.darkMode?"dark":"light";return(0,ce.h)("button",{type:"button",class:(0,rt.default)("-cbwsdk-extension-dialog-box-cancel",e),onClick:t.onClick},(0,ce.h)("div",{class:(0,rt.default)("-cbwsdk-extension-dialog-box-cancel-x",e)}))};Object.defineProperty(Mi,"__esModule",{value:!0});Mi.LinkFlow=void 0;const Ns=_n,wc=Ir,t2=Oi;class r2{constructor(e){this.extensionUI$=new wc.BehaviorSubject({}),this.subscriptions=new wc.Subscription,this.isConnected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=e.darkMode,this.version=e.version,this.sessionId=e.sessionId,this.sessionSecret=e.sessionSecret,this.linkAPIUrl=e.linkAPIUrl,this.isParentConnection=e.isParentConnection,this.connected$=e.connected$,this.chainId$=e.chainId$}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",e.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe(r=>{this.isConnected!==r&&(this.isConnected=r,this.render())})),this.subscriptions.add(this.chainId$.subscribe(r=>{this.chainId!==r&&(this.chainId=r,this.render())}))}detach(){var e;!this.root||(this.subscriptions.unsubscribe(),(0,Ns.render)(null,this.root),(e=this.root.parentElement)===null||e===void 0||e.removeChild(this.root))}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const e=this.extensionUI$.subscribe(()=>{!this.root||(0,Ns.render)((0,Ns.h)(t2.TryExtensionLinkDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)});this.subscriptions.add(e)}}Mi.LinkFlow=r2;var Qf={},za={};Object.defineProperty(za,"__esModule",{value:!0});za.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(t){var e=ie&&ie.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarInstance=t.SnackbarContainer=t.Snackbar=void 0;const r=e(Vf),n=_n,i=Ba,o=e(za),s="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",a="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class u{constructor(f){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=f.darkMode}attach(f){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",f.appendChild(this.root),this.render()}presentItem(f){const b=this.nextItemKey++;return this.items.set(b,f),this.render(),()=>{this.items.delete(b),this.render()}}clear(){this.items.clear(),this.render()}render(){!this.root||(0,n.render)((0,n.h)("div",null,(0,n.h)(t.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([f,b])=>(0,n.h)(t.SnackbarInstance,Object.assign({},b,{key:f}))))),this.root)}}t.Snackbar=u;const c=y=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-container")},(0,n.h)("style",null,o.default),(0,n.h)("div",{class:"-cbwsdk-snackbar"},y.children));t.SnackbarContainer=c;const l=({autoExpand:y,message:f,menuItems:b})=>{const[E,C]=(0,i.useState)(!0),[N,p]=(0,i.useState)(y!=null?y:!1);(0,i.useEffect)(()=>{const x=[window.setTimeout(()=>{C(!1)},1),window.setTimeout(()=>{p(!0)},1e4)];return()=>{x.forEach(window.clearTimeout)}});const m=()=>{p(!N)};return(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance",E&&"-cbwsdk-snackbar-instance-hidden",N&&"-cbwsdk-snackbar-instance-expanded")},(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:m},(0,n.h)("img",{src:s,class:"-cbwsdk-snackbar-instance-header-cblogo"}),(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},f),(0,n.h)("div",{class:"-gear-container"},!N&&(0,n.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,n.h)("img",{src:a,class:"-gear-icon",title:"Expand"}))),b&&b.length>0&&(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},b.map((x,P)=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item",x.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:x.onClick,key:P},(0,n.h)("svg",{width:x.svgWidth,height:x.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{"fill-rule":x.defaultFillRule,"clip-rule":x.defaultClipRule,d:x.path,fill:"#AAAAAA"})),(0,n.h)("span",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item-info",x.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},x.info)))))};t.SnackbarInstance=l})(Qf);var ji={},qa={};Object.defineProperty(qa,"__esModule",{value:!0});qa.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;bottom:auto;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;content:normal;counter-increment:none;counter-reset:none;cursor:auto;direction:ltr;display:block;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;left:auto;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";right:auto;tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;top:auto;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;width:auto;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset *{box-sizing:border-box;display:initial;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var n2=ie&&ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ji,"__esModule",{value:!0});ji.injectCssReset=void 0;const i2=n2(qa);function o2(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(i2.default)),document.documentElement.appendChild(t)}ji.injectCssReset=o2;Object.defineProperty(Ri,"__esModule",{value:!0});Ri.WalletSDKUI=void 0;const s2=Mi,a2=Qf,u2=ji;class c2{constructor(e){this.standalone=null,this.attached=!1,this.snackbar=new a2.Snackbar({darkMode:e.darkMode}),this.linkFlow=new s2.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:e.session.id,sessionSecret:e.session.secret,linkAPIUrl:e.linkAPIUrl,connected$:e.connected$,chainId$:e.chainId$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",e.appendChild(r),this.linkFlow.attach(r),this.snackbar.attach(r),this.attached=!0,(0,u2.injectCssReset)()}setConnectDisabled(e){this.linkFlow.setConnectDisabled(e)}addEthereumChain(e){}watchAsset(e){}switchEthereumChain(e){}requestEthereumAccounts(e){this.linkFlow.open({onCancel:e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(e){}signEthereumTransaction(e){}submitEthereumTransaction(e){}ethereumAddressFromSignedMessage(e){}showConnecting(e){let r;return e.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:r={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(r)}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(e){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(e){this.standalone=e}isStandalone(){var e;return(e=this.standalone)!==null&&e!==void 0?e:!1}}Ri.WalletSDKUI=c2;var Di={},Li={};Object.defineProperty(Li,"__esModule",{value:!0});var or;(function(t){t.typeOfFunction="function",t.boolTrue=!0})(or||(or={}));function Yf(t,e,r){if(!r||typeof r.value!==or.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+e+"> is not a method!");return{configurable:or.boolTrue,get:function(){var n=r.value.bind(this);return Object.defineProperty(this,e,{value:n,configurable:or.boolTrue,writable:or.boolTrue}),n}}}Li.bind=Yf;Li.default=Yf;var Bi={},qe={};Object.defineProperty(qe,"__esModule",{value:!0});qe.ClientMessagePublishEvent=qe.ClientMessageSetSessionConfig=qe.ClientMessageGetSessionConfig=qe.ClientMessageIsLinked=qe.ClientMessageHostSession=void 0;function l2(t){return Object.assign({type:"HostSession"},t)}qe.ClientMessageHostSession=l2;function f2(t){return Object.assign({type:"IsLinked"},t)}qe.ClientMessageIsLinked=f2;function h2(t){return Object.assign({type:"GetSessionConfig"},t)}qe.ClientMessageGetSessionConfig=h2;function d2(t){return Object.assign({type:"SetSessionConfig"},t)}qe.ClientMessageSetSessionConfig=d2;function p2(t){return Object.assign({type:"PublishEvent"},t)}qe.ClientMessagePublishEvent=p2;var Kf={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RxWebSocket=t.ConnectionState=void 0;const e=Ir,r=ui;var n;(function(o){o[o.DISCONNECTED=0]="DISCONNECTED",o[o.CONNECTING=1]="CONNECTING",o[o.CONNECTED=2]="CONNECTED"})(n=t.ConnectionState||(t.ConnectionState={}));class i{constructor(s,a=WebSocket){this.WebSocketClass=a,this.webSocket=null,this.connectionStateSubject=new e.BehaviorSubject(n.DISCONNECTED),this.incomingDataSubject=new e.Subject,this.url=s.replace(/^http/,"ws")}connect(){return this.webSocket?(0,e.throwError)(new Error("webSocket object is not null")):new e.Observable(s=>{let a;try{this.webSocket=a=new this.WebSocketClass(this.url)}catch(u){s.error(u);return}this.connectionStateSubject.next(n.CONNECTING),a.onclose=u=>{this.clearWebSocket(),s.error(new Error(`websocket error ${u.code}: ${u.reason}`)),this.connectionStateSubject.next(n.DISCONNECTED)},a.onopen=u=>{s.next(),s.complete(),this.connectionStateSubject.next(n.CONNECTED)},a.onmessage=u=>{this.incomingDataSubject.next(u.data)}}).pipe((0,r.take)(1))}disconnect(){const{webSocket:s}=this;if(!!s){this.clearWebSocket(),this.connectionStateSubject.next(n.DISCONNECTED);try{s.close()}catch{}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,r.flatMap)(s=>{let a;try{a=JSON.parse(s)}catch{return(0,e.empty)()}return(0,e.of)(a)}))}sendData(s){const{webSocket:a}=this;if(!a)throw new Error("websocket is not connected");a.send(s)}clearWebSocket(){const{webSocket:s}=this;!s||(this.webSocket=null,s.onclose=null,s.onerror=null,s.onmessage=null,s.onopen=null)}}t.RxWebSocket=i})(Kf);var Fi={};Object.defineProperty(Fi,"__esModule",{value:!0});Fi.isServerMessageFail=void 0;function y2(t){return t&&t.type==="Fail"&&typeof t.id=="number"&&typeof t.sessionId=="string"&&typeof t.error=="string"}Fi.isServerMessageFail=y2;Object.defineProperty(Bi,"__esModule",{value:!0});Bi.WalletSDKConnection=void 0;const Ze=Ir,le=ui,Lr=Er,er=pn,Br=qe,Fr=Sr,On=Kf,js=Fi,_c=1e4,b2=6e4;class g2{constructor(e,r,n,i,o=WebSocket){this.sessionId=e,this.sessionKey=r,this.diagnostic=i,this.subscriptions=new Ze.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,er.IntNumber)(1),this.connectedSubject=new Ze.BehaviorSubject(!1),this.linkedSubject=new Ze.BehaviorSubject(!1),this.sessionConfigSubject=new Ze.ReplaySubject(1);const s=new On.RxWebSocket(n+"/rpc",o);this.ws=s,this.subscriptions.add(s.connectionState$.pipe((0,le.tap)(a=>{var u;return(u=this.diagnostic)===null||u===void 0?void 0:u.log(Fr.EVENTS.CONNECTED_STATE_CHANGE,{state:a,sessionIdHash:Lr.Session.hash(e)})}),(0,le.skip)(1),(0,le.filter)(a=>a===On.ConnectionState.DISCONNECTED&&!this.destroyed),(0,le.delay)(5e3),(0,le.filter)(a=>!this.destroyed),(0,le.flatMap)(a=>s.connect()),(0,le.retry)()).subscribe()),this.subscriptions.add(s.connectionState$.pipe((0,le.skip)(2),(0,le.switchMap)(a=>(0,Ze.iif)(()=>a===On.ConnectionState.CONNECTED,this.authenticate().pipe((0,le.tap)(u=>this.sendIsLinked()),(0,le.tap)(u=>this.sendGetSessionConfig()),(0,le.map)(u=>!0)),(0,Ze.of)(!1))),(0,le.distinctUntilChanged)(),(0,le.catchError)(a=>(0,Ze.of)(!1))).subscribe(a=>this.connectedSubject.next(a))),this.subscriptions.add(s.connectionState$.pipe((0,le.skip)(1),(0,le.switchMap)(a=>(0,Ze.iif)(()=>a===On.ConnectionState.CONNECTED,(0,Ze.timer)(0,_c)))).subscribe(a=>a===0?this.updateLastHeartbeat():this.heartbeat())),this.subscriptions.add(s.incomingData$.pipe((0,le.filter)(a=>a==="h")).subscribe(a=>this.updateLastHeartbeat())),this.subscriptions.add(s.incomingJSONData$.pipe((0,le.filter)(a=>["IsLinkedOK","Linked"].includes(a.type))).subscribe(a=>{var u;const c=a;(u=this.diagnostic)===null||u===void 0||u.log(Fr.EVENTS.LINKED,{sessionIdHash:Lr.Session.hash(e),linked:c.linked,type:a.type,onlineGuests:c.onlineGuests}),this.linkedSubject.next(c.linked||c.onlineGuests>0)})),this.subscriptions.add(s.incomingJSONData$.pipe((0,le.filter)(a=>["GetSessionConfigOK","SessionConfigUpdated"].includes(a.type))).subscribe(a=>{var u;const c=a;(u=this.diagnostic)===null||u===void 0||u.log(Fr.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:Lr.Session.hash(e),metadata_keys:c&&c.metadata?Object.keys(c.metadata):void 0}),this.sessionConfigSubject.next({webhookId:c.webhookId,webhookUrl:c.webhookUrl,metadata:c.metadata})}))}connect(){var e;if(this.destroyed)throw new Error("instance is destroyed");(e=this.diagnostic)===null||e===void 0||e.log(Fr.EVENTS.STARTED_CONNECTING,{sessionIdHash:Lr.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){var e;this.subscriptions.unsubscribe(),this.ws.disconnect(),(e=this.diagnostic)===null||e===void 0||e.log(Fr.EVENTS.DISCONNECTED,{sessionIdHash:Lr.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,le.filter)(e=>e),(0,le.take)(1),(0,le.map)(()=>{}))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,le.filter)(e=>e),(0,le.take)(1),(0,le.map)(()=>{}))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,le.filter)(e=>{if(e.type!=="Event")return!1;const r=e;return typeof r.sessionId=="string"&&typeof r.eventId=="string"&&typeof r.event=="string"&&typeof r.data=="string"}),(0,le.map)(e=>e))}setSessionMetadata(e,r){const n=(0,Br.ClientMessageSetSessionConfig)({id:(0,er.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[e]:r}});return this.onceConnected$.pipe((0,le.flatMap)(i=>this.makeRequest(n)),(0,le.map)(i=>{if((0,js.isServerMessageFail)(i))throw new Error(i.error||"failed to set session metadata")}))}publishEvent(e,r,n=!1){const i=(0,Br.ClientMessagePublishEvent)({id:(0,er.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:e,data:r,callWebhook:n});return this.onceLinked$.pipe((0,le.flatMap)(o=>this.makeRequest(i)),(0,le.map)(o=>{if((0,js.isServerMessageFail)(o))throw new Error(o.error||"failed to publish event");return o.eventId}))}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>_c*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}makeRequest(e,r=b2){const n=e.id;try{this.sendData(e)}catch(i){return(0,Ze.throwError)(i)}return this.ws.incomingJSONData$.pipe((0,le.timeoutWith)(r,(0,Ze.throwError)(new Error(`request ${n} timed out`))),(0,le.filter)(i=>i.id===n),(0,le.take)(1))}authenticate(){const e=(0,Br.ClientMessageHostSession)({id:(0,er.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(e).pipe((0,le.map)(r=>{if((0,js.isServerMessageFail)(r))throw new Error(r.error||"failed to authentcate")}))}sendIsLinked(){const e=(0,Br.ClientMessageIsLinked)({id:(0,er.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}sendGetSessionConfig(){const e=(0,Br.ClientMessageGetSessionConfig)({id:(0,er.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}}Bi.WalletSDKConnection=g2;var $i={};Object.defineProperty($i,"__esModule",{value:!0});$i.WalletUIError=void 0;class tn extends Error{constructor(e,r){super(e),this.message=e,this.errorCode=r}}$i.WalletUIError=tn;tn.UserRejectedRequest=new tn("User rejected request");tn.SwitchEthereumChainUnsupportedChainId=new tn("Unsupported chainId",4902);var mr={};Object.defineProperty(mr,"__esModule",{value:!0});mr.decrypt=mr.encrypt=void 0;const v2=Ir,Jn=J;async function m2(t,e){if(e.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.importKey("raw",(0,Jn.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,o=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},n,i.encode(t)),s=16,a=o.slice(o.byteLength-s),u=o.slice(0,o.byteLength-s),c=new Uint8Array(a),l=new Uint8Array(u),y=new Uint8Array([...r,...c,...l]);return(0,Jn.uint8ArrayToHex)(y)}mr.encrypt=m2;function w2(t,e){if(e.length!==64)throw Error("secret must be 256 bits");return new v2.Observable(r=>{(async function(){const n=await crypto.subtle.importKey("raw",(0,Jn.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=(0,Jn.hexStringToUint8Array)(t),o=i.slice(0,12),s=i.slice(12,28),a=i.slice(28),u=new Uint8Array([...a,...s]),c={name:"AES-GCM",iv:new Uint8Array(o)};try{const l=await window.crypto.subtle.decrypt(c,n,u),y=new TextDecoder;r.next(y.decode(l)),r.complete()}catch(l){r.error(l)}})()})}mr.decrypt=w2;var Ga={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Web3Method=void 0,function(e){e.requestEthereumAccounts="requestEthereumAccounts",e.signEthereumMessage="signEthereumMessage",e.signEthereumTransaction="signEthereumTransaction",e.submitEthereumTransaction="submitEthereumTransaction",e.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",e.scanQRCode="scanQRCode",e.generic="generic",e.childRequestEthereumAccounts="childRequestEthereumAccounts",e.addEthereumChain="addEthereumChain",e.switchEthereumChain="switchEthereumChain",e.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",e.watchAsset="watchAsset",e.selectProvider="selectProvider"}(t.Web3Method||(t.Web3Method={}))})(Ga);var Wi={},Ui={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RelayMessageType=void 0,function(e){e.SESSION_ID_REQUEST="SESSION_ID_REQUEST",e.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",e.LINKED="LINKED",e.UNLINKED="UNLINKED",e.WEB3_REQUEST="WEB3_REQUEST",e.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",e.WEB3_RESPONSE="WEB3_RESPONSE"}(t.RelayMessageType||(t.RelayMessageType={}))})(Ui);Object.defineProperty(Wi,"__esModule",{value:!0});Wi.Web3RequestCanceledMessage=void 0;const _2=Ui;function S2(t){return{type:_2.RelayMessageType.WEB3_REQUEST_CANCELED,id:t}}Wi.Web3RequestCanceledMessage=S2;var Hi={};Object.defineProperty(Hi,"__esModule",{value:!0});Hi.Web3RequestMessage=void 0;const E2=Ui;function x2(t){return Object.assign({type:E2.RelayMessageType.WEB3_REQUEST},t)}Hi.Web3RequestMessage=x2;var be={};Object.defineProperty(be,"__esModule",{value:!0});be.EthereumAddressFromSignedMessageResponse=be.SubmitEthereumTransactionResponse=be.SignEthereumTransactionResponse=be.SignEthereumMessageResponse=be.isRequestEthereumAccountsResponse=be.SelectProviderResponse=be.WatchAssetReponse=be.RequestEthereumAccountsResponse=be.SwitchEthereumChainResponse=be.AddEthereumChainResponse=be.ErrorResponse=void 0;const lt=Ga;function A2(t,e,r){return{method:t,errorMessage:e,errorCode:r}}be.ErrorResponse=A2;function C2(t){return{method:lt.Web3Method.addEthereumChain,result:t}}be.AddEthereumChainResponse=C2;function I2(t){return{method:lt.Web3Method.switchEthereumChain,result:t}}be.SwitchEthereumChainResponse=I2;function k2(t){return{method:lt.Web3Method.requestEthereumAccounts,result:t}}be.RequestEthereumAccountsResponse=k2;function R2(t){return{method:lt.Web3Method.watchAsset,result:t}}be.WatchAssetReponse=R2;function M2(t){return{method:lt.Web3Method.selectProvider,result:t}}be.SelectProviderResponse=M2;function O2(t){return t&&t.method===lt.Web3Method.requestEthereumAccounts}be.isRequestEthereumAccountsResponse=O2;function T2(t){return{method:lt.Web3Method.signEthereumMessage,result:t}}be.SignEthereumMessageResponse=T2;function P2(t){return{method:lt.Web3Method.signEthereumTransaction,result:t}}be.SignEthereumTransactionResponse=P2;function N2(t){return{method:lt.Web3Method.submitEthereumTransaction,result:t}}be.SubmitEthereumTransactionResponse=N2;function j2(t){return{method:lt.Web3Method.ethereumAddressFromSignedMessage,result:t}}be.EthereumAddressFromSignedMessageResponse=j2;var wr={};Object.defineProperty(wr,"__esModule",{value:!0});wr.isWeb3ResponseMessage=wr.Web3ResponseMessage=void 0;const Jf=Ui;function D2(t){return Object.assign({type:Jf.RelayMessageType.WEB3_RESPONSE},t)}wr.Web3ResponseMessage=D2;function L2(t){return t&&t.type===Jf.RelayMessageType.WEB3_RESPONSE}wr.isWeb3ResponseMessage=L2;var B2=ie&&ie.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),F2=ie&&ie.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Zf=ie&&ie.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},$2=ie&&ie.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&B2(e,t,r);return F2(e,t),e},W2=ie&&ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Di,"__esModule",{value:!0});Di.WalletSDKRelay=void 0;const Xf=W2(Li),Sc=ni,$r=Ir,Ie=ui,Ne=Sr,U2=Bi,Ds=$i,H2=pn,ye=J,Nt=$2(mr),wt=Er,Tn=tt,Ee=Ga,V2=Wi,z2=Hi,Fe=be,je=wr;class et extends Tn.WalletSDKRelayAbstract{constructor(e){var r;super(),this.accountsCallback=null,this.chainCallback=null,this.dappDefaultChainSubject=new $r.BehaviorSubject(1),this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.subscriptions=new $r.Subscription,this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.options=e;const{session:n,ui:i,connection:o}=this.subscribe();if(this._session=n,this.connection=o,this.relayEventManager=e.relayEventManager,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this.diagnostic={log:e.eventListener.onEvent}:this.diagnostic=e.diagnosticLogger,this._reloadOnDisconnect=(r=e.reloadOnDisconnect)!==null&&r!==void 0?r:!0,this.ui=i}subscribe(){this.subscriptions.add(this.dappDefaultChainSubject.subscribe(i=>{this.dappDefaultChain!==i&&(this.dappDefaultChain=i)}));const e=wt.Session.load(this.storage)||new wt.Session(this.storage).save(),r=new U2.WalletSDKConnection(e.id,e.key,this.linkAPIUrl,this.diagnostic);this.subscriptions.add(r.sessionConfig$.subscribe({next:i=>{this.onSessionConfigChanged(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Ne.EVENTS.GENERAL_ERROR,{message:"error while invoking session config callback"})}})),this.subscriptions.add(r.incomingEvent$.pipe((0,Ie.filter)(i=>i.event==="Web3Response")).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(r.linked$.pipe((0,Ie.skip)(1),(0,Ie.tap)(i=>{var o;this.isLinked=i;const s=this.storage.getItem(Tn.LOCAL_STORAGE_ADDRESSES_KEY);if(i&&(this.session.linked=i),this.isUnlinkedErrorState=!1,s){const a=s.split(" "),u=this.storage.getItem("IsStandaloneSigning")==="true";if(a[0]!==""&&!i&&this.session.linked&&!u){this.isUnlinkedErrorState=!0;const c=this.getSessionIdHash();(o=this.diagnostic)===null||o===void 0||o.log(Ne.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:c})}}})).subscribe()),this.subscriptions.add(r.sessionConfig$.pipe((0,Ie.filter)(i=>!!i.metadata&&i.metadata.__destroyed==="1")).subscribe(()=>{var i;const o=r.isDestroyed;return(i=this.diagnostic)===null||i===void 0||i.log(Ne.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:o,sessionIdHash:this.getSessionIdHash()}),this.resetAndReload()})),this.subscriptions.add(r.sessionConfig$.pipe((0,Ie.filter)(i=>i.metadata&&i.metadata.WalletUsername!==void 0)).pipe((0,Ie.mergeMap)(i=>Nt.decrypt(i.metadata.WalletUsername,e.secret))).subscribe({next:i=>{this.storage.setItem(Tn.WALLET_USER_NAME_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Ne.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,Ie.filter)(i=>i.metadata&&i.metadata.AppVersion!==void 0)).pipe((0,Ie.mergeMap)(i=>Nt.decrypt(i.metadata.AppVersion,e.secret))).subscribe({next:i=>{this.storage.setItem(Tn.APP_VERSION_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Ne.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,Ie.filter)(i=>i.metadata&&i.metadata.ChainId!==void 0&&i.metadata.JsonRpcUrl!==void 0)).pipe((0,Ie.mergeMap)(i=>(0,$r.zip)(Nt.decrypt(i.metadata.ChainId,e.secret),Nt.decrypt(i.metadata.JsonRpcUrl,e.secret)))).pipe((0,Ie.distinctUntilChanged)()).subscribe({next:([i,o])=>{this.chainCallback&&this.chainCallback(i,o)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Ne.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,Ie.filter)(i=>i.metadata&&i.metadata.EthereumAddress!==void 0)).pipe((0,Ie.mergeMap)(i=>Nt.decrypt(i.metadata.EthereumAddress,e.secret))).subscribe({next:i=>{this.accountsCallback&&this.accountsCallback([i]),et.accountRequestCallbackIds.size>0&&(Array.from(et.accountRequestCallbackIds.values()).forEach(o=>{const s=(0,je.Web3ResponseMessage)({id:o,response:(0,Fe.RequestEthereumAccountsResponse)([i])});this.invokeCallback(Object.assign(Object.assign({},s),{id:o}))}),et.accountRequestCallbackIds.clear())},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Ne.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}}));const n=this.options.uiConstructor({linkAPIUrl:this.options.linkAPIUrl,version:this.options.version,darkMode:this.options.darkMode,session:e,connected$:r.connected$,chainId$:this.dappDefaultChainSubject});return r.connect(),{session:e,ui:n,connection:r}}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,Ie.timeout)(1e3),(0,Ie.catchError)(e=>(0,$r.of)(null))).subscribe(e=>{var r,n,i;const o=this.ui.isStandalone();try{this.subscriptions.unsubscribe()}catch{(r=this.diagnostic)===null||r===void 0||r.log(Ne.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}(n=this.diagnostic)===null||n===void 0||n.log(Ne.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const s=wt.Session.load(this.storage);if((s==null?void 0:s.id)===this._session.id?this.storage.clear():s&&((i=this.diagnostic)===null||i===void 0||i.log(Ne.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:wt.Session.hash(s.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0);const{session:a,ui:u,connection:c}=this.subscribe();this._session=a,this.connection=c,this.ui=u,o&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.attachUI()},e=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(Ne.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${e}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(e,r){this.appName=e,this.appLogoUrl=r}getStorageItem(e){return this.storage.getItem(e)}get session(){return this._session}setStorageItem(e,r){this.storage.setItem(e,r)}signEthereumMessage(e,r,n,i){return this.sendRequest({method:Ee.Web3Method.signEthereumMessage,params:{message:(0,ye.hexStringFromBuffer)(e,!0),address:r,addPrefix:n,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(e,r,n){return this.sendRequest({method:Ee.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,ye.hexStringFromBuffer)(e,!0),signature:(0,ye.hexStringFromBuffer)(r,!0),addPrefix:n}})}signEthereumTransaction(e){return this.sendRequest({method:Ee.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,ye.bigIntStringFromBN)(e.weiValue),data:(0,ye.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,ye.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,ye.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,ye.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,ye.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:Ee.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,ye.bigIntStringFromBN)(e.weiValue),data:(0,ye.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,ye.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,ye.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,ye.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,ye.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,r){return this.sendRequest({method:Ee.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,ye.hexStringFromBuffer)(e,!0),chainId:r}})}scanQRCode(e){return this.sendRequest({method:Ee.Web3Method.scanQRCode,params:{regExp:e}})}getQRCodeUrl(){return(0,ye.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(e,r){return this.sendRequest({method:Ee.Web3Method.generic,params:{action:r,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let r=null;const n=(0,ye.randomBytesHex)(8),i=s=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,s),r==null||r()};return{promise:new Promise((s,a)=>{this.ui.isStandalone()||(r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(n,u=>{if(r==null||r(),u.errorMessage)return a(new Error(u.errorMessage));s(u)}),this.ui.isStandalone()?this.sendRequestStandalone(n,e):this.publishWeb3RequestEvent(n,e)}),cancel:i}}setConnectDisabled(e){this.ui.setConnectDisabled(e)}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}setDappDefaultChainCallback(e){this.dappDefaultChainSubject.next(e)}publishWeb3RequestEvent(e,r){var n;const i=(0,z2.Web3RequestMessage)({id:e,request:r}),o=wt.Session.load(this.storage);(n=this.diagnostic)===null||n===void 0||n.log(Ne.EVENTS.WEB3_REQUEST,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:o?wt.Session.hash(o.id):"",isSessionMismatched:((o==null?void 0:o.id)!==this._session.id).toString()}),this.subscriptions.add(this.publishEvent("Web3Request",i,!0).subscribe({next:s=>{var a;(a=this.diagnostic)===null||a===void 0||a.log(Ne.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:o?wt.Session.hash(o.id):"",isSessionMismatched:((o==null?void 0:o.id)!==this._session.id).toString()})},error:s=>{this.handleWeb3ResponseMessage((0,je.Web3ResponseMessage)({id:i.id,response:{method:i.request.method,errorMessage:s.message}}))}}))}publishWeb3RequestCanceledEvent(e){const r=(0,V2.Web3RequestCanceledMessage)(e);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",r,!1).subscribe())}publishEvent(e,r,n){const i=this.session.secret;return new $r.Observable(o=>{Nt.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin})),i).then(s=>{o.next(s),o.complete()})}).pipe((0,Ie.mergeMap)(o=>this.connection.publishEvent(e,o,n)))}handleIncomingEvent(e){try{this.subscriptions.add(Nt.decrypt(e.data,this.session.secret).pipe((0,Ie.map)(r=>JSON.parse(r))).subscribe({next:r=>{const n=(0,je.isWeb3ResponseMessage)(r)?r:null;!n||this.handleWeb3ResponseMessage(n)},error:()=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(Ne.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch{return}}handleWeb3ResponseMessage(e){var r;const{response:n}=e;if((r=this.diagnostic)===null||r===void 0||r.log(Ne.EVENTS.WEB3_RESPONSE,{eventId:e.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash()}),(0,Fe.isRequestEthereumAccountsResponse)(n)){et.accountRequestCallbackIds.forEach(i=>this.invokeCallback(Object.assign(Object.assign({},e),{id:i}))),et.accountRequestCallbackIds.clear();return}this.invokeCallback(e)}handleErrorResponse(e,r,n,i){this.handleWeb3ResponseMessage((0,je.Web3ResponseMessage)({id:e,response:(0,Fe.ErrorResponse)(r,(n!=null?n:Ds.WalletUIError.UserRejectedRequest).message,i)}))}invokeCallback(e){const r=this.relayEventManager.callbacks.get(e.id);r&&(r(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){const e={method:Ee.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},r=(0,ye.randomBytesHex)(8),n=o=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,o)};return{promise:new Promise((o,s)=>{var a;this.relayEventManager.callbacks.set(r,c=>{if(this.ui.hideRequestEthereumAccounts(),c.errorMessage)return s(new Error(c.errorMessage));o(c)});const u=((a=window==null?void 0:window.navigator)===null||a===void 0?void 0:a.userAgent)||null;if(u&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(u)){let c;try{(0,ye.isInIFrame)()&&window.top?c=window.top.location:c=window.location}catch{c=window.location}c.href=`https://go.cb-w.com/xoXnYwQimhb?cb_url=${encodeURIComponent(c.href)}`;return}if(this.ui.inlineAccountsResponse()){const c=l=>{this.handleWeb3ResponseMessage((0,je.Web3ResponseMessage)({id:r,response:(0,Fe.RequestEthereumAccountsResponse)(l)}))};this.ui.requestEthereumAccounts({onCancel:n,onAccounts:c})}else{const c=Sc.ethErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>n(c)})}et.accountRequestCallbackIds.add(r),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(r,e)}),cancel:n}}selectProvider(e){const r={method:Ee.Web3Method.selectProvider,params:{providerOptions:e}},n=(0,ye.randomBytesHex)(8),i=s=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,r.method,s)},o=new Promise((s,a)=>{this.relayEventManager.callbacks.set(n,l=>{if(l.errorMessage)return a(new Error(l.errorMessage));s(l)});const u=l=>{this.handleWeb3ResponseMessage((0,je.Web3ResponseMessage)({id:n,response:(0,Fe.SelectProviderResponse)(H2.ProviderType.Unselected)}))},c=l=>{this.handleWeb3ResponseMessage((0,je.Web3ResponseMessage)({id:n,response:(0,Fe.SelectProviderResponse)(l)}))};this.ui.selectProvider&&this.ui.selectProvider({onApprove:c,onCancel:u,providerOptions:e})});return{cancel:i,promise:o}}watchAsset(e,r,n,i,o,s){const a={method:Ee.Web3Method.watchAsset,params:{type:e,options:{address:r,symbol:n,decimals:i,image:o},chainId:s}};let u=null;const c=(0,ye.randomBytesHex)(8),l=f=>{this.publishWeb3RequestCanceledEvent(c),this.handleErrorResponse(c,a.method,f),u==null||u()};this.ui.inlineWatchAsset()||(u=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:l,onResetConnection:this.resetAndReload}));const y=new Promise((f,b)=>{this.relayEventManager.callbacks.set(c,N=>{if(u==null||u(),N.errorMessage)return b(new Error(N.errorMessage));f(N)});const E=N=>{this.handleWeb3ResponseMessage((0,je.Web3ResponseMessage)({id:c,response:(0,Fe.WatchAssetReponse)(!1)}))},C=()=>{this.handleWeb3ResponseMessage((0,je.Web3ResponseMessage)({id:c,response:(0,Fe.WatchAssetReponse)(!0)}))};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:C,onCancel:E,type:e,address:r,symbol:n,decimals:i,image:o,chainId:s}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(c,a)});return{cancel:l,promise:y}}addEthereumChain(e,r,n,i,o,s){const a={method:Ee.Web3Method.addEthereumChain,params:{chainId:e,rpcUrls:r,blockExplorerUrls:i,chainName:o,iconUrls:n,nativeCurrency:s}};let u=null;const c=(0,ye.randomBytesHex)(8),l=f=>{this.publishWeb3RequestCanceledEvent(c),this.handleErrorResponse(c,a.method,f),u==null||u()};return this.ui.inlineAddEthereumChain(e)||(u=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:l,onResetConnection:this.resetAndReload})),{promise:new Promise((f,b)=>{this.relayEventManager.callbacks.set(c,N=>{if(u==null||u(),N.errorMessage)return b(new Error(N.errorMessage));f(N)});const E=N=>{this.handleWeb3ResponseMessage((0,je.Web3ResponseMessage)({id:c,response:(0,Fe.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},C=N=>{this.handleWeb3ResponseMessage((0,je.Web3ResponseMessage)({id:c,response:(0,Fe.AddEthereumChainResponse)({isApproved:!0,rpcUrl:N})}))};this.ui.inlineAddEthereumChain(e)&&this.ui.addEthereumChain({onCancel:E,onApprove:C,chainId:a.params.chainId,rpcUrls:a.params.rpcUrls,blockExplorerUrls:a.params.blockExplorerUrls,chainName:a.params.chainName,iconUrls:a.params.iconUrls,nativeCurrency:a.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(e)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(c,a)}),cancel:l}}switchEthereumChain(e,r){const n={method:Ee.Web3Method.switchEthereumChain,params:Object.assign({chainId:e},{address:r})},i=(0,ye.randomBytesHex)(8),o=a=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,n.method,a)};return{promise:new Promise((a,u)=>{this.relayEventManager.callbacks.set(i,y=>{if(y.errorMessage&&y.errorCode)return u(Sc.ethErrors.provider.custom({code:y.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(y.errorMessage)return u(new Error(y.errorMessage));a(y)});const c=y=>{if(typeof y=="number"){const f=y;this.handleWeb3ResponseMessage((0,je.Web3ResponseMessage)({id:i,response:(0,Fe.ErrorResponse)(Ee.Web3Method.switchEthereumChain,Ds.WalletUIError.SwitchEthereumChainUnsupportedChainId.message,f)}))}else y instanceof Ds.WalletUIError?this.handleErrorResponse(i,Ee.Web3Method.switchEthereumChain,y,y.errorCode):this.handleWeb3ResponseMessage((0,je.Web3ResponseMessage)({id:i,response:(0,Fe.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},l=y=>{this.handleWeb3ResponseMessage((0,je.Web3ResponseMessage)({id:i,response:(0,Fe.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:y})}))};this.ui.switchEthereumChain({onCancel:c,onApprove:l,chainId:n.params.chainId,address:n.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(i,n)}),cancel:o}}inlineAddEthereumChain(e){return this.ui.inlineAddEthereumChain(e)}getSessionIdHash(){return wt.Session.hash(this._session.id)}sendRequestStandalone(e,r){const n=o=>{this.handleErrorResponse(e,r.method,o)},i=o=>{this.handleWeb3ResponseMessage((0,je.Web3ResponseMessage)({id:e,response:o}))};switch(r.method){case Ee.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:r,onSuccess:i,onCancel:n});break;case Ee.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case Ee.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case Ee.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:r,onSuccess:i});break;default:n();break}}onSessionConfigChanged(e){}}et.accountRequestCallbackIds=new Set;Zf([Xf.default],et.prototype,"resetAndReload",null);Zf([Xf.default],et.prototype,"handleIncomingEvent",null);Di.WalletSDKRelay=et;var Vi={};Object.defineProperty(Vi,"__esModule",{value:!0});Vi.WalletSDKRelayEventManager=void 0;const q2=J;class G2{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,r=(0,q2.prepend0x)(e.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),e}}Vi.WalletSDKRelayEventManager=G2;const Q2="@coinbase/wallet-sdk",Y2="3.5.2",K2="Coinbase Wallet JavaScript SDK",J2=["cipher","cipherbrowser","coinbase","coinbasewallet","eth","ether","ethereum","etherium","injection","toshi","wallet","walletlink","web3"],Z2="dist/index.js",X2="dist/index.d.ts",eE="https://github.com/coinbase/coinbase-wallet-sdk.git",tE="Coinbase, Inc.",rE="Apache-2.0",nE={"pretest:unit":"node compile-assets.js","test:unit":"jest","test:unit:coverage":"yarn test:unit && open coverage/lcov-report/index.html","test:karma":"yarn build-npm && karma start",prebuild:`node -p "'export const LIB_VERSION = ' + JSON.stringify(require('./package.json').version) + ';'" > src/version.ts`,build:"node compile-assets.js && webpack --config webpack.config.js","build-npm":"tsc -p ./tsconfig.build.json","build:dev":"export LINK_API_URL='http://localhost:3000'; yarn build","build:dev:watch":"nodemon -e 'ts,tsx,js,json,css,scss,svg' --ignore 'src/**/*-css.ts' --ignore 'src/**/*-svg.ts' --watch src/ --exec 'yarn build:dev'","build:prod":`yarn prebuild && yarn build && yarn build-npm && cp ./package.json ../../README.md ./LICENSE build/npm && cp -a src/vendor-js build/npm/dist && sed -i.bak 's|  "private": true,||g' build/npm/package.json && rm -f build/npm/package.json.bak`,"lint:types":"tsc --noEmit","lint:prettier":'prettier --check "{src,__tests__}/**/*.(js|ts|tsx)"',"lint:eslint":"eslint ./src --ext .ts,.tsx","fix:eslint":"yarn lint:eslint --fix","fix:prettier":"prettier . --write",release:"./scripts/release.sh"},iE={"@metamask/safe-event-emitter":"2.0.0","@solana/web3.js":"1.52.0","bind-decorator":"^1.0.11","bn.js":"^5.1.1",buffer:"^6.0.3",clsx:"^1.1.0","eth-block-tracker":"4.4.3","eth-json-rpc-filters":"4.2.2","eth-rpc-errors":"4.0.2","json-rpc-engine":"6.1.0",keccak:"^3.0.1",preact:"^10.5.9",qs:"^6.10.3",rxjs:"^6.6.3","sha.js":"^2.4.11","stream-browserify":"^3.0.0",util:"^0.12.4"},oE={"@babel/core":"^7.17.9","@babel/plugin-proposal-decorators":"^7.17.9","@babel/plugin-transform-react-jsx":"^7.17.3","@babel/preset-env":"^7.16.11","@babel/preset-typescript":"^7.16.7","@peculiar/webcrypto":"^1.3.3","@testing-library/jest-dom":"^5.16.4","@testing-library/preact":"^2.0.1","@types/bn.js":"^4.11.6","@types/jest":"^27.4.1","@types/node":"^14.14.20","@types/qs":"^6.9.7","@types/sha.js":"^2.4.0","@typescript-eslint/eslint-plugin":"^5.7.0","@typescript-eslint/eslint-plugin-tslint":"^5.7.0","@typescript-eslint/parser":"^5.7.0","babel-jest":"^27.5.1",browserify:"17.0.0","copy-webpack-plugin":"^6.4.1","core-js":"^3.8.2",eslint:"^8.4.1","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.25.3","eslint-plugin-preact":"^0.1.0","eslint-plugin-prettier":"^4.0.0","eslint-plugin-simple-import-sort":"^7.0.0",jasmine:"3.8.0",jest:"^27.5.1","jest-chrome":"^0.7.2","jest-websocket-mock":"^2.3.0",karma:"^6.3.15","karma-browserify":"8.1.0","karma-chrome-launcher":"^3.1.0","karma-jasmine":"^4.0.1",nodemon:"^2.0.6",prettier:"^2.5.1","raw-loader":"^4.0.2","regenerator-runtime":"^0.13.7",sass:"^1.50.0",svgo:"^2.8.0","ts-jest":"^27.1.4","ts-loader":"^8.0.13","ts-node":"^10.7.0",tslib:"^2.0.3",typescript:"^4.1.3",watchify:"4.0.0",webpack:"^5.72.0","webpack-cli":"^4.9.2","whatwg-fetch":"^3.5.0"},sE={node:">= 10.0.0"},aE={name:Q2,version:Y2,description:K2,keywords:J2,main:Z2,types:X2,repository:eE,author:tE,license:rE,scripts:nE,dependencies:iE,devDependencies:oE,engines:sE};Object.defineProperty(Gr,"__esModule",{value:!0});Gr.CoinbaseWalletSDK=void 0;const uE=ti,cE=ri,lE=fr,fE=Ri,hE=Di,dE=Vi,pE=J,yE=ne.env.LINK_API_URL||"https://www.walletlink.org",eh=ne.env.SDK_VERSION||aE.version||"unknown";class zi{constructor(e){var r,n,i;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const o=e.linkAPIUrl||yE;let s;if(e.uiConstructor?s=e.uiConstructor:s=c=>new fE.WalletSDKUI(c),typeof e.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this._overrideIsCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this._diagnosticLogger={log:e.eventListener.onEvent}:this._diagnosticLogger=e.diagnosticLogger,this._reloadOnDisconnect=(i=e.reloadOnDisconnect)!==null&&i!==void 0?i:!0;const a=new URL(o),u=`${a.protocol}//${a.host}`;this._storage=new cE.ScopedLocalStorage(`-walletlink:${u}`),this._storage.setItem("version",zi.VERSION),!(this.walletExtension||this.coinbaseBrowser)&&(this._relayEventManager=new dE.WalletSDKRelayEventManager,this._relay=new hE.WalletSDKRelay({linkAPIUrl:o,version:eh,darkMode:!!e.darkMode,uiConstructor:s,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger}),this.setAppInfo(e.appName,e.appLogoUrl),!e.headlessMode&&this._relay.attachUI())}makeWeb3Provider(e="",r=1){const n=this.walletExtension;if(n)return this.isCipherProvider(n)||n.setProviderInfo(e,r),this._reloadOnDisconnect===!1&&typeof n.disableReloadOnDisconnect=="function"&&n.disableReloadOnDisconnect(),n;const i=this.coinbaseBrowser;if(i)return i;const o=this._relay;if(!o||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return e||o.setConnectDisabled(!0),new lE.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(o),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:r,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(e,r){var n;this._appName=e||"DApp",this._appLogoUrl=r||(0,pE.getFavicon)();const i=this.walletExtension;i?this.isCipherProvider(i)||i.setAppInfo(this._appName,this._appLogoUrl):(n=this._relay)===null||n===void 0||n.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;const r=this.walletExtension;r?r.close():(e=this._relay)===null||e===void 0||e.resetAndReload()}getQrUrl(){var e,r;return(r=(e=this._relay)===null||e===void 0?void 0:e.getQRCodeUrl())!==null&&r!==void 0?r:null}getCoinbaseWalletLogo(e,r=240){return(0,uE.walletLogo)(e,r)}get walletExtension(){var e;return(e=window.coinbaseWalletExtension)!==null&&e!==void 0?e:window.walletLinkExtension}get coinbaseBrowser(){var e,r;try{const n=(e=window.ethereum)!==null&&e!==void 0?e:(r=window.top)===null||r===void 0?void 0:r.ethereum;return n&&"isCoinbaseBrowser"in n&&n.isCoinbaseBrowser?n:void 0}catch{return}}isCipherProvider(e){return typeof e.isCipher=="boolean"&&e.isCipher}}Gr.CoinbaseWalletSDK=zi;zi.VERSION=eh;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletProvider=t.CoinbaseWalletSDK=void 0;const e=Gr,r=fr;var n=Gr;Object.defineProperty(t,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return n.CoinbaseWalletSDK}});var i=fr;Object.defineProperty(t,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return i.CoinbaseWalletProvider}}),t.default=e.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=e.CoinbaseWalletSDK,window.CoinbaseWalletProvider=r.CoinbaseWalletProvider,window.WalletLink=e.CoinbaseWalletSDK,window.WalletLinkProvider=r.CoinbaseWalletProvider)})(ia);const bE=nh(ia),wE=ih({__proto__:null,default:bE},[ia]);export{wE as i};
