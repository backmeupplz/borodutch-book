import{g as hn,i as Qe,r as Sa,c as ie,a as di,d as ed}from"./index.a5d66375.js";import{e as pi,b as yi}from"./index.c3da354d.js";function td(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var Ea={},rn={},bi={};Object.defineProperty(bi,"__esModule",{value:!0});bi.walletLogo=void 0;const rd=(t,e)=>{let r;switch(t){case"standard":return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return r=e,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${r}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};bi.walletLogo=rd;var gi={};Object.defineProperty(gi,"__esModule",{value:!0});gi.ScopedLocalStorage=void 0;class nd{constructor(e){this.scope=e}setItem(e,r){localStorage.setItem(this.scopedKey(e),r)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);typeof i=="string"&&i.startsWith(e)&&r.push(i)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(e){return`${this.scope}:${e}`}}gi.ScopedLocalStorage=nd;var pr={},Cr={};Object.defineProperty(Cr,"__esModule",{value:!0});const id=pi.exports;function bu(t,e,r){try{Reflect.apply(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function od(t){const e=t.length,r=new Array(e);for(let n=0;n<e;n+=1)r[n]=t[n];return r}class sd extends id.EventEmitter{emit(e,...r){let n=e==="error";const i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let s;if(r.length>0&&([s]=r),s instanceof Error)throw s;const a=new Error(`Unhandled error.${s?` (${s.message})`:""}`);throw a.context=s,a}const o=i[e];if(o===void 0)return!1;if(typeof o=="function")bu(o,this,r);else{const s=o.length,a=od(o);for(let u=0;u<s;u+=1)bu(a[u],this,r)}return!0}}Cr.default=sd;var vi={},kt={},rl=nn;nn.default=nn;nn.stable=ol;nn.stableStringify=ol;var Jn="[...]",nl="[Circular]",Vt=[],Wt=[];function il(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function nn(t,e,r,n){typeof n>"u"&&(n=il()),Xs(t,"",0,[],void 0,0,n);var i;try{Wt.length===0?i=JSON.stringify(t,e,r):i=JSON.stringify(t,sl(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Vt.length!==0;){var o=Vt.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return i}function cr(t,e,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:t}),Vt.push([n,r,e,i])):Wt.push([e,r,t]):(n[r]=t,Vt.push([n,r,e]))}function Xs(t,e,r,n,i,o,s){o+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){cr(nl,t,e,i);return}if(typeof s.depthLimit<"u"&&o>s.depthLimit){cr(Jn,t,e,i);return}if(typeof s.edgesLimit<"u"&&r+1>s.edgesLimit){cr(Jn,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)Xs(t[a],a,a,n,t,o,s);else{var u=Object.keys(t);for(a=0;a<u.length;a++){var c=u[a];Xs(t[c],c,a,n,t,o,s)}}n.pop()}}function ad(t,e){return t<e?-1:t>e?1:0}function ol(t,e,r,n){typeof n>"u"&&(n=il());var i=ea(t,"",0,[],void 0,0,n)||t,o;try{Wt.length===0?o=JSON.stringify(i,e,r):o=JSON.stringify(i,sl(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Vt.length!==0;){var s=Vt.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return o}function ea(t,e,r,n,i,o,s){o+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){cr(nl,t,e,i);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof s.depthLimit<"u"&&o>s.depthLimit){cr(Jn,t,e,i);return}if(typeof s.edgesLimit<"u"&&r+1>s.edgesLimit){cr(Jn,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)ea(t[a],a,a,n,t,o,s);else{var u={},c=Object.keys(t).sort(ad);for(a=0;a<c.length;a++){var l=c[a];ea(t[l],l,a,n,t,o,s),u[l]=t[l]}if(typeof i<"u")Vt.push([i,e,t]),i[e]=u;else return u}n.pop()}}function sl(t){return t=typeof t<"u"?t:function(e,r){return r},function(e,r){if(Wt.length>0)for(var n=0;n<Wt.length;n++){var i=Wt[n];if(i[1]===e&&i[0]===r){r=i[2],Wt.splice(n,1);break}}return t.call(this,e,r)}}Object.defineProperty(kt,"__esModule",{value:!0});kt.EthereumProviderError=kt.EthereumRpcError=void 0;const ud=rl;class al extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return ud.default(this.serialize(),fd,2)}}kt.EthereumRpcError=al;class cd extends al{constructor(e,r,n){if(!ld(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}kt.EthereumProviderError=cd;function ld(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function fd(t,e){if(e!=="[Circular]")return e}var xa={},It={};Object.defineProperty(It,"__esModule",{value:!0});It.errorValues=It.errorCodes=void 0;It.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};It.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=It,r=kt,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",o={code:n,message:s(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function s(f,p=i){if(Number.isInteger(f)){const g=f.toString();if(b(e.errorValues,g))return e.errorValues[g].message;if(c(f))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return p}t.getMessageFromCode=s;function a(f){if(!Number.isInteger(f))return!1;const p=f.toString();return!!(e.errorValues[p]||c(f))}t.isValidCode=a;function u(f,{fallbackError:p=o,shouldIncludeStack:g=!1}={}){var C,I;if(!p||!Number.isInteger(p.code)||typeof p.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(f instanceof r.EthereumRpcError)return f.serialize();const y={};if(f&&typeof f=="object"&&!Array.isArray(f)&&b(f,"code")&&a(f.code)){const x=f;y.code=x.code,x.message&&typeof x.message=="string"?(y.message=x.message,b(x,"data")&&(y.data=x.data)):(y.message=s(y.code),y.data={originalError:l(f)})}else{y.code=p.code;const x=(C=f)===null||C===void 0?void 0:C.message;y.message=x&&typeof x=="string"?x:p.message,y.data={originalError:l(f)}}const v=(I=f)===null||I===void 0?void 0:I.stack;return g&&f&&v&&typeof v=="string"&&(y.stack=v),y}t.serializeError=u;function c(f){return f>=-32099&&f<=-32e3}function l(f){return f&&typeof f=="object"&&!Array.isArray(f)?Object.assign({},f):f}function b(f,p){return Object.prototype.hasOwnProperty.call(f,p)}})(xa);var mi={};Object.defineProperty(mi,"__esModule",{value:!0});mi.ethErrors=void 0;const Aa=kt,ul=xa,Me=It;mi.ethErrors={rpc:{parse:t=>Ue(Me.errorCodes.rpc.parse,t),invalidRequest:t=>Ue(Me.errorCodes.rpc.invalidRequest,t),invalidParams:t=>Ue(Me.errorCodes.rpc.invalidParams,t),methodNotFound:t=>Ue(Me.errorCodes.rpc.methodNotFound,t),internal:t=>Ue(Me.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Ue(e,t)},invalidInput:t=>Ue(Me.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>Ue(Me.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>Ue(Me.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>Ue(Me.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>Ue(Me.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>Ue(Me.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>$r(Me.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>$r(Me.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>$r(Me.errorCodes.provider.unsupportedMethod,t),disconnected:t=>$r(Me.errorCodes.provider.disconnected,t),chainDisconnected:t=>$r(Me.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new Aa.EthereumProviderError(e,r,n)}}};function Ue(t,e){const[r,n]=cl(e);return new Aa.EthereumRpcError(t,r||ul.getMessageFromCode(t),n)}function $r(t,e){const[r,n]=cl(e);return new Aa.EthereumProviderError(t,r||ul.getMessageFromCode(t),n)}function cl(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=kt;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=xa;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=mi;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=It;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(vi);var kr={};Object.defineProperty(kr,"__esModule",{value:!0});kr.EVENTS=void 0;kr.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var Ir={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ta=function(t,e){return ta=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},ta(t,e)};function D(t,e){ta(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function yr(t){return typeof t=="function"}var gu=!1,ze={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;""+e.stack}gu=t},get useDeprecatedSynchronousErrorHandling(){return gu}};function sr(t){setTimeout(function(){throw t},0)}var Zn={closed:!0,next:function(t){},error:function(t){if(ze.useDeprecatedSynchronousErrorHandling)throw t;sr(t)},complete:function(){}},Le=function(){return Array.isArray||function(t){return t&&typeof t.length=="number"}}();function Ca(t){return t!==null&&typeof t=="object"}var hd=function(){function t(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(r,n){return n+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t}(),Gr=hd,ve=function(){function t(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,n=r._parentOrParents,i=r._ctorUnsubscribe,o=r._unsubscribe,s=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(n!==null)for(var a=0;a<n.length;++a){var u=n[a];u.remove(this)}if(yr(o)){i&&(this._unsubscribe=void 0);try{o.call(this)}catch(b){e=b instanceof Gr?vu(b.errors):[b]}}if(Le(s))for(var a=-1,c=s.length;++a<c;){var l=s[a];if(Ca(l))try{l.unsubscribe()}catch(f){e=e||[],f instanceof Gr?e=e.concat(vu(f.errors)):e.push(f)}}if(e)throw new Gr(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||typeof r.unsubscribe!="function")return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;r=new t,r._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=r._parentOrParents;if(i===null)r._parentOrParents=this;else if(i instanceof t){if(i===this)return r;r._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return r;var o=this._subscriptions;return o===null?this._subscriptions=[r]:o.push(r),r},t.prototype.remove=function(e){var r=this._subscriptions;if(r){var n=r.indexOf(e);n!==-1&&r.splice(n,1)}},t.EMPTY=function(e){return e.closed=!0,e}(new t),t}();function vu(t){return t.reduce(function(e,r){return e.concat(r instanceof Gr?r.errors:r)},[])}var Xn=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),X=function(t){D(e,t);function e(r,n,i){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=Zn;break;case 1:if(!r){o.destination=Zn;break}if(typeof r=="object"){r instanceof e?(o.syncErrorThrowable=r.syncErrorThrowable,o.destination=r,r.add(o)):(o.syncErrorThrowable=!0,o.destination=new mu(o,r));break}default:o.syncErrorThrowable=!0,o.destination=new mu(o,r,n,i);break}return o}return e.prototype[Xn]=function(){return this},e.create=function(r,n,i){var o=new e(r,n,i);return o.syncErrorThrowable=!1,o},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var r=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this},e}(ve),mu=function(t){D(e,t);function e(r,n,i,o){var s=t.call(this)||this;s._parentSubscriber=r;var a,u=s;return yr(n)?a=n:n&&(a=n.next,i=n.error,o=n.complete,n!==Zn&&(u=Object.create(n),yr(u.unsubscribe)&&s.add(u.unsubscribe.bind(u)),u.unsubscribe=s.unsubscribe.bind(s))),s._context=u,s._next=a,s._error=i,s._complete=o,s}return e.prototype.next=function(r){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!ze.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,r):this.__tryOrSetError(n,this._next,r)&&this.unsubscribe()}},e.prototype.error=function(r){if(!this.isStopped){var n=this._parentSubscriber,i=ze.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,r),this.unsubscribe()):(this.__tryOrSetError(n,this._error,r),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=r,n.syncErrorThrown=!0):sr(r),this.unsubscribe();else{if(this.unsubscribe(),i)throw r;sr(r)}}},e.prototype.complete=function(){var r=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var i=function(){return r._complete.call(r._context)};!ze.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(n,i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(r,n){try{r.call(this._context,n)}catch(i){if(this.unsubscribe(),ze.useDeprecatedSynchronousErrorHandling)throw i;sr(i)}},e.prototype.__tryOrSetError=function(r,n,i){if(!ze.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(o){return ze.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=o,r.syncErrorThrown=!0,!0):(sr(o),!0)}return!1},e.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},e}(X);function ka(t){for(;t;){var e=t,r=e.closed,n=e.destination,i=e.isStopped;if(r||i)return!1;n&&n instanceof X?t=n:t=null}return!0}function dd(t,e,r){if(t){if(t instanceof X)return t;if(t[Xn])return t[Xn]()}return!t&&!e&&!r?new X(Zn):new X(t,e,r)}var Rr=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Rt(t){return t}function ra(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ll(t)}function ll(t){return t.length===0?Rt:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var oe=function(){function t(e){this._isScalar=!1,e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this.operator,o=dd(e,r,n);if(i?o.add(i.call(o,this.source)):o.add(this.source||ze.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),ze.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){ze.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=r),ka(e)?e.error(r):console.warn(r)}},t.prototype.forEach=function(e,r){var n=this;return r=_u(r),new r(function(i,o){var s;s=n.subscribe(function(a){try{e(a)}catch(u){o(u),s&&s.unsubscribe()}},o,i)})},t.prototype._subscribe=function(e){var r=this.source;return r&&r.subscribe(e)},t.prototype[Rr]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length===0?this:ll(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=_u(e),new e(function(n,i){var o;r.subscribe(function(s){return o=s},function(s){return i(s)},function(){return n(o)})})},t.create=function(e){return new t(e)},t}();function _u(t){if(t||(t=ze.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var pd=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),xt=pd,fl=function(t){D(e,t);function e(r,n){var i=t.call(this)||this;return i.subject=r,i.subscriber=n,i.closed=!1,i}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var r=this.subject,n=r.observers;if(this.subject=null,!(!n||n.length===0||r.isStopped||r.closed)){var i=n.indexOf(this.subscriber);i!==-1&&n.splice(i,1)}}},e}(ve),hl=function(t){D(e,t);function e(r){var n=t.call(this,r)||this;return n.destination=r,n}return e}(X),Ce=function(t){D(e,t);function e(){var r=t.call(this)||this;return r.observers=[],r.closed=!1,r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype[Xn]=function(){return new hl(this)},e.prototype.lift=function(r){var n=new wu(this,this);return n.operator=r,n},e.prototype.next=function(r){if(this.closed)throw new xt;if(!this.isStopped)for(var n=this.observers,i=n.length,o=n.slice(),s=0;s<i;s++)o[s].next(r)},e.prototype.error=function(r){if(this.closed)throw new xt;this.hasError=!0,this.thrownError=r,this.isStopped=!0;for(var n=this.observers,i=n.length,o=n.slice(),s=0;s<i;s++)o[s].error(r);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new xt;this.isStopped=!0;for(var r=this.observers,n=r.length,i=r.slice(),o=0;o<n;o++)i[o].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(r){if(this.closed)throw new xt;return t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){if(this.closed)throw new xt;return this.hasError?(r.error(this.thrownError),ve.EMPTY):this.isStopped?(r.complete(),ve.EMPTY):(this.observers.push(r),new fl(this,r))},e.prototype.asObservable=function(){var r=new oe;return r.source=this,r},e.create=function(r,n){return new wu(r,n)},e}(oe),wu=function(t){D(e,t);function e(r,n){var i=t.call(this)||this;return i.destination=r,i.source=n,i}return e.prototype.next=function(r){var n=this.destination;n&&n.next&&n.next(r)},e.prototype.error=function(r){var n=this.destination;n&&n.error&&this.destination.error(r)},e.prototype.complete=function(){var r=this.destination;r&&r.complete&&this.destination.complete()},e.prototype._subscribe=function(r){var n=this.source;return n?this.source.subscribe(r):ve.EMPTY},e}(Ce);function Ia(){return function(e){return e.lift(new yd(e))}}var yd=function(){function t(e){this.connectable=e}return t.prototype.call=function(e,r){var n=this.connectable;n._refCount++;var i=new bd(e,n),o=r.subscribe(i);return i.closed||(i.connection=n.connect()),o},t}(),bd=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var r=this.connectable;if(!r){this.connection=null;return}this.connectable=null;var n=r._refCount;if(n<=0){this.connection=null;return}if(r._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,o=r._connection;this.connection=null,o&&(!i||o===i)&&o.unsubscribe()},e}(X),dl=function(t){D(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return e.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},e.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var r=this._connection;return r||(this._isComplete=!1,r=this._connection=new ve,r.add(this.source.subscribe(new vd(this.getSubject(),this))),r.closed&&(this._connection=null,r=ve.EMPTY)),r},e.prototype.refCount=function(){return Ia()(this)},e}(oe),gd=function(){var t=dl.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),vd=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._error=function(r){this._unsubscribe(),t.prototype._error.call(this,r)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.connectable;if(r){this.connectable=null;var n=r._connection;r._refCount=0,r._subject=null,r._connection=null,n&&n.unsubscribe()}},e}(hl);function md(t,e,r,n){return function(i){return i.lift(new _d(t,e,r,n))}}var _d=function(){function t(e,r,n,i){this.keySelector=e,this.elementSelector=r,this.durationSelector=n,this.subjectSelector=i}return t.prototype.call=function(e,r){return r.subscribe(new wd(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),wd=function(t){D(e,t);function e(r,n,i,o,s){var a=t.call(this,r)||this;return a.keySelector=n,a.elementSelector=i,a.durationSelector=o,a.subjectSelector=s,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return e.prototype._next=function(r){var n;try{n=this.keySelector(r)}catch(i){this.error(i);return}this._group(r,n)},e.prototype._group=function(r,n){var i=this.groups;i||(i=this.groups=new Map);var o=i.get(n),s;if(this.elementSelector)try{s=this.elementSelector(r)}catch(c){this.error(c)}else s=r;if(!o){o=this.subjectSelector?this.subjectSelector():new Ce,i.set(n,o);var a=new na(n,o,this);if(this.destination.next(a),this.durationSelector){var u=void 0;try{u=this.durationSelector(new na(n,o))}catch(c){this.error(c);return}this.add(u.subscribe(new Sd(n,o,this)))}}o.closed||o.next(s)},e.prototype._error=function(r){var n=this.groups;n&&(n.forEach(function(i,o){i.error(r)}),n.clear()),this.destination.error(r)},e.prototype._complete=function(){var r=this.groups;r&&(r.forEach(function(n,i){n.complete()}),r.clear()),this.destination.complete()},e.prototype.removeGroup=function(r){this.groups.delete(r)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&t.prototype.unsubscribe.call(this))},e}(X),Sd=function(t){D(e,t);function e(r,n,i){var o=t.call(this,n)||this;return o.key=r,o.group=n,o.parent=i,o}return e.prototype._next=function(r){this.complete()},e.prototype._unsubscribe=function(){var r=this,n=r.parent,i=r.key;this.key=this.parent=null,n&&n.removeGroup(i)},e}(X),na=function(t){D(e,t);function e(r,n,i){var o=t.call(this)||this;return o.key=r,o.groupSubject=n,o.refCountSubscription=i,o}return e.prototype._subscribe=function(r){var n=new ve,i=this,o=i.refCountSubscription,s=i.groupSubject;return o&&!o.closed&&n.add(new Ed(o)),n.add(s.subscribe(r)),n},e}(oe),Ed=function(t){D(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,r.count++,n}return e.prototype.unsubscribe=function(){var r=this.parent;!r.closed&&!this.closed&&(t.prototype.unsubscribe.call(this),r.count-=1,r.count===0&&r.attemptedToUnsubscribe&&r.unsubscribe())},e}(ve),pl=function(t){D(e,t);function e(r){var n=t.call(this)||this;return n._value=r,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(r){var n=t.prototype._subscribe.call(this,r);return n&&!n.closed&&r.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new xt;return this._value},e.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},e}(Ce),xd=function(t){D(e,t);function e(r,n){return t.call(this)||this}return e.prototype.schedule=function(r,n){return this},e}(ve),dn=function(t){D(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),this.closed)return this;this.state=r;var i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(o,this.id,n),this},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),setInterval(r.flush.bind(r,this),i)},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return n;clearInterval(n)},e.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,n){var i=!1,o=void 0;try{this.work(r)}catch(s){i=!0,o=!!s&&s||new Error(s)}if(i)return this.unsubscribe(),o},e.prototype._unsubscribe=function(){var r=this.id,n=this.scheduler,i=n.actions,o=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,o!==-1&&i.splice(o,1),r!=null&&(this.id=this.recycleAsyncId(n,r,null)),this.delay=null},e}(xd),Ad=function(t){D(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.schedule=function(r,n){return n===void 0&&(n=0),n>0?t.prototype.schedule.call(this,r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)},e.prototype.execute=function(r,n){return n>0||this.closed?t.prototype.execute.call(this,r,n):this._execute(r,n)},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?t.prototype.requestAsyncId.call(this,r,n,i):r.flush(this)},e}(dn),ia=function(){function t(e,r){r===void 0&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(e,r,n){return r===void 0&&(r=0),new this.SchedulerAction(this,e).schedule(n,r)},t.now=function(){return Date.now()},t}(),pn=function(t){D(e,t);function e(r,n){n===void 0&&(n=ia.now);var i=t.call(this,r,function(){return e.delegate&&e.delegate!==i?e.delegate.now():n()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return e.prototype.schedule=function(r,n,i){return n===void 0&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(r,n,i):t.prototype.schedule.call(this,r,n,i)},e.prototype.flush=function(r){var n=this.actions;if(this.active){n.push(r);return}var i;this.active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this.active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},e}(ia),Cd=function(t){D(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(pn),yl=new Cd(Ad),bl=yl,br=new oe(function(t){return t.complete()});function Mr(t){return t?kd(t):br}function kd(t){return new oe(function(e){return t.schedule(function(){return e.complete()})})}function We(t){return t&&typeof t.schedule=="function"}var gl=function(t){return function(e){for(var r=0,n=t.length;r<n&&!e.closed;r++)e.next(t[r]);e.complete()}};function Ra(t,e){return new oe(function(r){var n=new ve,i=0;return n.add(e.schedule(function(){if(i===t.length){r.complete();return}r.next(t[i++]),r.closed||n.add(this.schedule())})),n})}function yn(t,e){return e?Ra(t,e):new oe(gl(t))}function _i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return We(r)?(t.pop(),Ra(t,r)):yn(t)}function Ma(t,e){return e?new oe(function(r){return e.schedule(Id,0,{error:t,subscriber:r})}):new oe(function(r){return r.error(t)})}function Id(t){var e=t.error,r=t.subscriber;r.error(e)}var oa;oa||(oa={});var yt=function(){function t(e,r,n){this.kind=e,this.value=r,this.error=n,this.hasValue=e==="N"}return t.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},t.prototype.do=function(e,r,n){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return r&&r(this.error);case"C":return n&&n()}},t.prototype.accept=function(e,r,n){return e&&typeof e.next=="function"?this.observe(e):this.do(e,r,n)},t.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return _i(this.value);case"E":return Ma(this.error);case"C":return Mr()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return typeof e<"u"?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();function Rd(t,e){return e===void 0&&(e=0),function(n){return n.lift(new Md(t,e))}}var Md=function(){function t(e,r){r===void 0&&(r=0),this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return r.subscribe(new vl(e,this.scheduler,this.delay))},t}(),vl=function(t){D(e,t);function e(r,n,i){i===void 0&&(i=0);var o=t.call(this,r)||this;return o.scheduler=n,o.delay=i,o}return e.dispatch=function(r){var n=r.notification,i=r.destination;n.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(r){var n=this.destination;n.add(this.scheduler.schedule(e.dispatch,this.delay,new Od(r,this.destination)))},e.prototype._next=function(r){this.scheduleMessage(yt.createNext(r))},e.prototype._error=function(r){this.scheduleMessage(yt.createError(r)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(yt.createComplete()),this.unsubscribe()},e}(X),Od=function(){function t(e,r){this.notification=e,this.destination=r}return t}(),Oa=function(t){D(e,t);function e(r,n,i){r===void 0&&(r=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var o=t.call(this)||this;return o.scheduler=i,o._events=[],o._infiniteTimeWindow=!1,o._bufferSize=r<1?1:r,o._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(o._infiniteTimeWindow=!0,o.next=o.nextInfiniteTimeWindow):o.next=o.nextTimeWindow,o}return e.prototype.nextInfiniteTimeWindow=function(r){if(!this.isStopped){var n=this._events;n.push(r),n.length>this._bufferSize&&n.shift()}t.prototype.next.call(this,r)},e.prototype.nextTimeWindow=function(r){this.isStopped||(this._events.push(new Td(this._getNow(),r)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,r)},e.prototype._subscribe=function(r){var n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,s=i.length,a;if(this.closed)throw new xt;if(this.isStopped||this.hasError?a=ve.EMPTY:(this.observers.push(r),a=new fl(this,r)),o&&r.add(r=new vl(r,o)),n)for(var u=0;u<s&&!r.closed;u++)r.next(i[u]);else for(var u=0;u<s&&!r.closed;u++)r.next(i[u].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),a},e.prototype._getNow=function(){return(this.scheduler||bl).now()},e.prototype._trimBufferThenGetEvents=function(){for(var r=this._getNow(),n=this._bufferSize,i=this._windowTime,o=this._events,s=o.length,a=0;a<s&&!(r-o[a].time<i);)a++;return s>n&&(a=Math.max(a,s-n)),a>0&&o.splice(0,a),o},e}(Ce),Td=function(){function t(e,r){this.time=e,this.value=r}return t}(),Or=function(t){D(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.value=null,r.hasNext=!1,r.hasCompleted=!1,r}return e.prototype._subscribe=function(r){return this.hasError?(r.error(this.thrownError),ve.EMPTY):this.hasCompleted&&this.hasNext?(r.next(this.value),r.complete(),ve.EMPTY):t.prototype._subscribe.call(this,r)},e.prototype.next=function(r){this.hasCompleted||(this.value=r,this.hasNext=!0)},e.prototype.error=function(r){this.hasCompleted||t.prototype.error.call(this,r)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(Ce),Pd=1,Nd=function(){return Promise.resolve()}(),sa={};function Su(t){return t in sa?(delete sa[t],!0):!1}var Eu={setImmediate:function(t){var e=Pd++;return sa[e]=!0,Nd.then(function(){return Su(e)&&t()}),e},clearImmediate:function(t){Su(t)}},jd=function(t){D(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=Eu.setImmediate(r.flush.bind(r,null))))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(Eu.clearImmediate(n),r.scheduled=void 0)},e}(dn),Dd=function(t){D(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,o=-1,s=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++o<s&&(r=n.shift()));if(this.active=!1,i){for(;++o<s&&(r=n.shift());)r.unsubscribe();throw i}},e}(pn),ml=new Dd(jd),Hn=ml,_l=new pn(dn),Be=_l,Ld=function(t){D(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=requestAnimationFrame(function(){return r.flush(null)})))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(cancelAnimationFrame(n),r.scheduled=void 0)},e}(dn),Bd=function(t){D(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,o=-1,s=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++o<s&&(r=n.shift()));if(this.active=!1,i){for(;++o<s&&(r=n.shift());)r.unsubscribe();throw i}},e}(pn),wl=new Bd(Ld),Fd=wl,$d=function(t){D(e,t);function e(r,n){r===void 0&&(r=Sl),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=t.call(this,r,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var r=this,n=r.actions,i=r.maxFrames,o,s;(s=n[0])&&s.delay<=i&&(n.shift(),this.frame=s.delay,!(o=s.execute(s.state,s.delay))););if(o){for(;s=n.shift();)s.unsubscribe();throw o}},e.frameTimeFactor=10,e}(pn),Sl=function(t){D(e,t);function e(r,n,i){i===void 0&&(i=r.index+=1);var o=t.call(this,r,n)||this;return o.scheduler=r,o.work=n,o.index=i,o.active=!0,o.index=r.index=i,o}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),!this.id)return t.prototype.schedule.call(this,r,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},e.prototype.requestAsyncId=function(r,n,i){i===void 0&&(i=0),this.delay=r.frame+i;var o=r.actions;return o.push(this),o.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(r,n,i){},e.prototype._execute=function(r,n){if(this.active===!0)return t.prototype._execute.call(this,r,n)},e.sortActions=function(r,n){return r.delay===n.delay?r.index===n.index?0:r.index>n.index?1:-1:r.delay>n.delay?1:-1},e}(dn);function ot(){}function Wd(t){return!!t&&(t instanceof oe||typeof t.lift=="function"&&typeof t.subscribe=="function")}var Ud=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),gr=Ud,Hd=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),bn=Hd,Vd=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}(),El=Vd;function Ye(t,e){return function(n){if(typeof t!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new zd(t,e))}}var zd=function(){function t(e,r){this.project=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new qd(e,this.project,this.thisArg))},t}(),qd=function(t){D(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.project=n,o.count=0,o.thisArg=i||o,o}return e.prototype._next=function(r){var n;try{n=this.project.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(X);function xl(t,e,r){if(e)if(We(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return xl(t,r).apply(void 0,n).pipe(Ye(function(o){return Le(o)?e.apply(void 0,o):e(o)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=this,s,a={context:o,subject:s,callbackFunc:t,scheduler:r};return new oe(function(u){if(r){var l={args:n,subscriber:u,params:a};return r.schedule(Gd,0,l)}else{if(!s){s=new Or;var c=function(){for(var b=[],f=0;f<arguments.length;f++)b[f]=arguments[f];s.next(b.length<=1?b[0]:b),s.complete()};try{t.apply(o,n.concat([c]))}catch(b){ka(s)?s.error(b):console.warn(b)}}return s.subscribe(u)}})}}function Gd(t){var e=this,r=t.args,n=t.subscriber,i=t.params,o=i.callbackFunc,s=i.context,a=i.scheduler,u=i.subject;if(!u){u=i.subject=new Or;var c=function(){for(var l=[],b=0;b<arguments.length;b++)l[b]=arguments[b];var f=l.length<=1?l[0]:l;e.add(a.schedule(Qd,0,{value:f,subject:u}))};try{o.apply(s,r.concat([c]))}catch(l){u.error(l)}}this.add(u.subscribe(n))}function Qd(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function Al(t,e,r){if(e)if(We(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return Al(t,r).apply(void 0,n).pipe(Ye(function(o){return Le(o)?e.apply(void 0,o):e(o)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o={subject:void 0,args:n,callbackFunc:t,scheduler:r,context:this};return new oe(function(s){var a=o.context,u=o.subject;if(r)return r.schedule(Yd,0,{params:o,subscriber:s,context:a});if(!u){u=o.subject=new Or;var c=function(){for(var l=[],b=0;b<arguments.length;b++)l[b]=arguments[b];var f=l.shift();if(f){u.error(f);return}u.next(l.length<=1?l[0]:l),u.complete()};try{t.apply(a,n.concat([c]))}catch(l){ka(u)?u.error(l):console.warn(l)}}return u.subscribe(s)})}}function Yd(t){var e=this,r=t.params,n=t.subscriber,i=t.context,o=r.callbackFunc,s=r.args,a=r.scheduler,u=r.subject;if(!u){u=r.subject=new Or;var c=function(){for(var l=[],b=0;b<arguments.length;b++)l[b]=arguments[b];var f=l.shift();if(f)e.add(a.schedule(xu,0,{err:f,subject:u}));else{var p=l.length<=1?l[0]:l;e.add(a.schedule(Kd,0,{value:p,subject:u}))}};try{o.apply(i,s.concat([c]))}catch(l){this.add(a.schedule(xu,0,{err:l,subject:u}))}}this.add(u.subscribe(n))}function Kd(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function xu(t){var e=t.err,r=t.subject;r.error(e)}var Qt=function(t){D(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r,n,i,o,s){this.destination.next(n)},e.prototype.notifyError=function(r,n){this.destination.error(r)},e.prototype.notifyComplete=function(r){this.destination.complete()},e}(X),Jd=function(t){D(e,t);function e(r,n,i){var o=t.call(this)||this;return o.parent=r,o.outerValue=n,o.outerIndex=i,o.index=0,o}return e.prototype._next=function(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)},e.prototype._error=function(r){this.parent.notifyError(r,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(X),Zd=function(t){return function(e){return t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,sr),e}};function Xd(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Mt=Xd(),ep=function(t){return function(e){var r=t[Mt]();do{var n=void 0;try{n=r.next()}catch(i){return e.error(i),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}while(!0);return typeof r.return=="function"&&e.add(function(){r.return&&r.return()}),e}},tp=function(t){return function(e){var r=t[Rr]();if(typeof r.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(e)}},Cl=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function kl(t){return!!t&&typeof t.subscribe!="function"&&typeof t.then=="function"}var on=function(t){if(!!t&&typeof t[Rr]=="function")return tp(t);if(Cl(t))return gl(t);if(kl(t))return Zd(t);if(!!t&&typeof t[Mt]=="function")return ep(t);var e=Ca(t)?"an invalid object":"'"+t+"'",r="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(r)};function bt(t,e,r,n,i){if(i===void 0&&(i=new Jd(t,r,n)),!i.closed)return e instanceof oe?e.subscribe(i):on(e)(i)}var Au={};function rp(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=void 0,n=void 0;return We(t[t.length-1])&&(n=t.pop()),typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&Le(t[0])&&(t=t[0]),yn(t,n).lift(new Ta(r))}var Ta=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new np(e,this.resultSelector))},t}(),np=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return e.prototype._next=function(r){this.values.push(Au),this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var i=0;i<n;i++){var o=r[i];this.add(bt(this,o,void 0,i))}}},e.prototype.notifyComplete=function(r){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(r,n,i){var o=this.values,s=o[i],a=this.toRespond?s===Au?--this.toRespond:this.toRespond:0;o[i]=n,a===0&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},e.prototype._tryResultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Qt);function ip(t,e){return new oe(function(r){var n=new ve;return n.add(e.schedule(function(){var i=t[Rr]();n.add(i.subscribe({next:function(o){n.add(e.schedule(function(){return r.next(o)}))},error:function(o){n.add(e.schedule(function(){return r.error(o)}))},complete:function(){n.add(e.schedule(function(){return r.complete()}))}}))})),n})}function op(t,e){return new oe(function(r){var n=new ve;return n.add(e.schedule(function(){return t.then(function(i){n.add(e.schedule(function(){r.next(i),n.add(e.schedule(function(){return r.complete()}))}))},function(i){n.add(e.schedule(function(){return r.error(i)}))})})),n})}function sp(t,e){if(!t)throw new Error("Iterable cannot be null");return new oe(function(r){var n=new ve,i;return n.add(function(){i&&typeof i.return=="function"&&i.return()}),n.add(e.schedule(function(){i=t[Mt](),n.add(e.schedule(function(){if(!r.closed){var o,s;try{var a=i.next();o=a.value,s=a.done}catch(u){r.error(u);return}s?r.complete():(r.next(o),this.schedule())}}))})),n})}function ap(t){return t&&typeof t[Rr]=="function"}function up(t){return t&&typeof t[Mt]=="function"}function Il(t,e){if(t!=null){if(ap(t))return ip(t,e);if(kl(t))return op(t,e);if(Cl(t))return Ra(t,e);if(up(t)||typeof t=="string")return sp(t,e)}throw new TypeError((t!==null&&typeof t||t)+" is not observable")}function mt(t,e){return e?Il(t,e):t instanceof oe?t:new oe(on(t))}var me=function(t){D(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,n}return e.prototype._next=function(r){this.parent.notifyNext(r)},e.prototype._error=function(r){this.parent.notifyError(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(X),_e=function(t){D(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(X);function we(t,e){if(!e.closed){if(t instanceof oe)return t.subscribe(e);var r;try{r=on(t)(e)}catch(n){e.error(n)}return r}}function zt(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?function(n){return n.pipe(zt(function(i,o){return mt(t(i,o)).pipe(Ye(function(s,a){return e(i,s,o,a)}))},r))}:(typeof e=="number"&&(r=e),function(n){return n.lift(new cp(t,r))})}var cp=function(){function t(e,r){r===void 0&&(r=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=r}return t.prototype.call=function(e,r){return r.subscribe(new lp(e,this.project,this.concurrent))},t}(),lp=function(t){D(e,t);function e(r,n,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var o=t.call(this,r)||this;return o.project=n,o.concurrent=i,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return e.prototype._next=function(r){this.active<this.concurrent?this._tryNext(r):this.buffer.push(r)},e.prototype._tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(o){this.destination.error(o);return}this.active++,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new me(this),i=this.destination;i.add(n);var o=we(r,n);o!==n&&i.add(o)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(_e),fp=zt;function Pa(t){return t===void 0&&(t=Number.POSITIVE_INFINITY),zt(Rt,t)}function Rl(){return Pa(1)}function sn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Rl()(_i.apply(void 0,t))}function Na(t){return new oe(function(e){var r;try{r=t()}catch(i){e.error(i);return}var n=r?mt(r):Mr();return n.subscribe(e)})}function hp(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1){var r=t[0];if(Le(r))return Tn(r,null);if(Ca(r)&&Object.getPrototypeOf(r)===Object.prototype){var n=Object.keys(r);return Tn(n.map(function(o){return r[o]}),n)}}if(typeof t[t.length-1]=="function"){var i=t.pop();return t=t.length===1&&Le(t[0])?t[0]:t,Tn(t,null).pipe(Ye(function(o){return i.apply(void 0,o)}))}return Tn(t,null)}function Tn(t,e){return new oe(function(r){var n=t.length;if(n===0){r.complete();return}for(var i=new Array(n),o=0,s=0,a=function(c){var l=mt(t[c]),b=!1;r.add(l.subscribe({next:function(f){b||(b=!0,s++),i[c]=f},error:function(f){return r.error(f)},complete:function(){o++,(o===n||!b)&&(s===n&&r.next(e?e.reduce(function(f,p,g){return f[p]=i[g],f},{}):i),r.complete())}}))},u=0;u<n;u++)a(u)})}function Ml(t,e,r,n){return yr(r)&&(n=r,r=void 0),n?Ml(t,e,r).pipe(Ye(function(i){return Le(i)?n.apply(void 0,i):n(i)})):new oe(function(i){function o(s){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(s)}Ol(t,e,o,i,r)})}function Ol(t,e,r,n,i){var o;if(yp(t)){var s=t;t.addEventListener(e,r,i),o=function(){return s.removeEventListener(e,r,i)}}else if(pp(t)){var a=t;t.on(e,r),o=function(){return a.off(e,r)}}else if(dp(t)){var u=t;t.addListener(e,r),o=function(){return u.removeListener(e,r)}}else if(t&&t.length)for(var c=0,l=t.length;c<l;c++)Ol(t[c],e,r,n,i);else throw new TypeError("Invalid event target");n.add(o)}function dp(t){return t&&typeof t.addListener=="function"&&typeof t.removeListener=="function"}function pp(t){return t&&typeof t.on=="function"&&typeof t.off=="function"}function yp(t){return t&&typeof t.addEventListener=="function"&&typeof t.removeEventListener=="function"}function Tl(t,e,r){return r?Tl(t,e).pipe(Ye(function(n){return Le(n)?r.apply(void 0,n):r(n)})):new oe(function(n){var i=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return n.next(s.length===1?s[0]:s)},o;try{o=t(i)}catch(s){n.error(s);return}if(!!yr(e))return function(){return e(i,o)}})}function bp(t,e,r,n,i){var o,s;if(arguments.length==1){var a=t;s=a.initialState,e=a.condition,r=a.iterate,o=a.resultSelector||Rt,i=a.scheduler}else n===void 0||We(n)?(s=t,o=Rt,i=n):(s=t,o=n);return new oe(function(u){var c=s;if(i)return i.schedule(gp,0,{subscriber:u,iterate:r,condition:e,resultSelector:o,state:c});do{if(e){var l=void 0;try{l=e(c)}catch(f){u.error(f);return}if(!l){u.complete();break}}var b=void 0;try{b=o(c)}catch(f){u.error(f);return}if(u.next(b),u.closed)break;try{c=r(c)}catch(f){u.error(f);return}}while(!0)})}function gp(t){var e=t.subscriber,r=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(o){e.error(o);return}else t.needIterate=!0;if(r){var n=void 0;try{n=r(t.state)}catch(o){e.error(o);return}if(!n){e.complete();return}if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(o){e.error(o);return}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function vp(t,e,r){return e===void 0&&(e=br),r===void 0&&(r=br),Na(function(){return t()?e:r})}function vr(t){return!Le(t)&&t-parseFloat(t)+1>=0}function mp(t,e){return t===void 0&&(t=0),e===void 0&&(e=Be),(!vr(t)||t<0)&&(t=0),(!e||typeof e.schedule!="function")&&(e=Be),new oe(function(r){return r.add(e.schedule(_p,t,{subscriber:r,counter:0,period:t})),r})}function _p(t){var e=t.subscriber,r=t.counter,n=t.period;e.next(r),this.schedule({subscriber:e,counter:r+1,period:n},n)}function Pl(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return We(i)?(n=t.pop(),t.length>1&&typeof t[t.length-1]=="number"&&(r=t.pop())):typeof i=="number"&&(r=t.pop()),n===null&&t.length===1&&t[0]instanceof oe?t[0]:Pa(r)(yn(t,n))}var Nl=new oe(ot);function wp(){return Nl}function aa(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===0)return br;var r=t[0],n=t.slice(1);return t.length===1&&Le(r)?aa.apply(void 0,r):new oe(function(i){var o=function(){return i.add(aa.apply(void 0,n).subscribe(i))};return mt(r).subscribe({next:function(s){i.next(s)},error:o,complete:o})})}function Sp(t,e){return e?new oe(function(r){var n=Object.keys(t),i=new ve;return i.add(e.schedule(Ep,0,{keys:n,index:0,subscriber:r,subscription:i,obj:t})),i}):new oe(function(r){for(var n=Object.keys(t),i=0;i<n.length&&!r.closed;i++){var o=n[i];t.hasOwnProperty(o)&&r.next([o,t[o]])}r.complete()})}function Ep(t){var e=t.keys,r=t.index,n=t.subscriber,i=t.subscription,o=t.obj;if(!n.closed)if(r<e.length){var s=e[r];n.next([s,o[s]]),i.add(this.schedule({keys:e,index:r+1,subscriber:n,subscription:i,obj:o}))}else n.complete()}function jl(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}function Ot(t,e){return function(n){return n.lift(new xp(t,e))}}var xp=function(){function t(e,r){this.predicate=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new Ap(e,this.predicate,this.thisArg))},t}(),Ap=function(t){D(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.predicate=n,o.thisArg=i,o.count=0,o}return e.prototype._next=function(r){var n;try{n=this.predicate.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(r)},e}(X);function Cp(t,e,r){return[Ot(e,r)(new oe(on(t))),Ot(jl(e,r))(new oe(on(t)))]}function Dl(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1)if(Le(t[0]))t=t[0];else return t[0];return yn(t,void 0).lift(new kp)}var kp=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new Ip(e))},t}(),Ip=function(t){D(e,t);function e(r){var n=t.call(this,r)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return e.prototype._next=function(r){this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{for(var i=0;i<n&&!this.hasFirst;i++){var o=r[i],s=bt(this,o,void 0,i);this.subscriptions&&this.subscriptions.push(s),this.add(s)}this.observables=null}},e.prototype.notifyNext=function(r,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==i){var s=this.subscriptions[o];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(n)},e}(Qt);function Rp(t,e,r){return t===void 0&&(t=0),new oe(function(n){e===void 0&&(e=t,t=0);var i=0,o=t;if(r)return r.schedule(Mp,0,{index:i,count:e,start:t,subscriber:n});do{if(i++>=e){n.complete();break}if(n.next(o++),n.closed)break}while(!0)})}function Mp(t){var e=t.start,r=t.index,n=t.count,i=t.subscriber;if(r>=n){i.complete();return}i.next(e),!i.closed&&(t.index=r+1,t.start=e+1,this.schedule(t))}function Ll(t,e,r){t===void 0&&(t=0);var n=-1;return vr(e)?n=Number(e)<1&&1||Number(e):We(e)&&(r=e),We(r)||(r=Be),new oe(function(i){var o=vr(t)?t:+t-r.now();return r.schedule(Op,o,{index:0,period:n,subscriber:i})})}function Op(t){var e=t.index,r=t.period,n=t.subscriber;if(n.next(e),!n.closed){if(r===-1)return n.complete();t.index=e+1,this.schedule(t,r)}}function Tp(t,e){return new oe(function(r){var n;try{n=t()}catch(a){r.error(a);return}var i;try{i=e(n)}catch(a){r.error(a);return}var o=i?mt(i):br,s=o.subscribe(r);return function(){s.unsubscribe(),n&&n.unsubscribe()}})}function Bl(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return typeof r=="function"&&t.pop(),yn(t,void 0).lift(new Fl(r))}var Fl=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Pp(e,this.resultSelector))},t}(),Pp=function(t){D(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.resultSelector=n,o.iterators=[],o.active=0,o.resultSelector=typeof n=="function"?n:void 0,o}return e.prototype._next=function(r){var n=this.iterators;Le(r)?n.push(new jp(r)):typeof r[Mt]=="function"?n.push(new Np(r[Mt]())):n.push(new Dp(this.destination,this,r))},e.prototype._complete=function(){var r=this.iterators,n=r.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var i=0;i<n;i++){var o=r[i];if(o.stillUnsubscribed){var s=this.destination;s.add(o.subscribe())}else this.active--}},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var r=this.iterators,n=r.length,i=this.destination,o=0;o<n;o++){var s=r[o];if(typeof s.hasValue=="function"&&!s.hasValue())return}for(var a=!1,u=[],o=0;o<n;o++){var s=r[o],c=s.next();if(s.hasCompleted()&&(a=!0),c.done){i.complete();return}u.push(c.value)}this.resultSelector?this._tryresultSelector(u):i.next(u),a&&i.complete()},e.prototype._tryresultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(X),Np=function(){function t(e){this.iterator=e,this.nextResult=e.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},t.prototype.hasCompleted=function(){var e=this.nextResult;return Boolean(e&&e.done)},t}(),jp=function(){function t(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return t.prototype[Mt]=function(){return this},t.prototype.next=function(e){var r=this.index++,n=this.array;return r<this.length?{value:n[r],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),Dp=function(t){D(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.parent=n,o.observable=i,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return e.prototype[Mt]=function(){return this},e.prototype.next=function(){var r=this.buffer;return r.length===0&&this.isComplete?{value:null,done:!0}:{value:r.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(r){this.buffer.push(r),this.parent.checkIterators()},e.prototype.subscribe=function(){return we(this.observable,new me(this))},e}(_e);const Lp=Object.freeze(Object.defineProperty({__proto__:null,Observable:oe,ConnectableObservable:dl,GroupedObservable:na,observable:Rr,Subject:Ce,BehaviorSubject:pl,ReplaySubject:Oa,AsyncSubject:Or,asap:Hn,asapScheduler:ml,async:Be,asyncScheduler:_l,queue:bl,queueScheduler:yl,animationFrame:Fd,animationFrameScheduler:wl,VirtualTimeScheduler:$d,VirtualAction:Sl,Scheduler:ia,Subscription:ve,Subscriber:X,Notification:yt,get NotificationKind(){return oa},pipe:ra,noop:ot,identity:Rt,isObservable:Wd,ArgumentOutOfRangeError:gr,EmptyError:bn,ObjectUnsubscribedError:xt,UnsubscriptionError:Gr,TimeoutError:El,bindCallback:xl,bindNodeCallback:Al,combineLatest:rp,concat:sn,defer:Na,empty:Mr,forkJoin:hp,from:mt,fromEvent:Ml,fromEventPattern:Tl,generate:bp,iif:vp,interval:mp,merge:Pl,never:wp,of:_i,onErrorResumeNext:aa,pairs:Sp,partition:Cp,race:Dl,range:Rp,throwError:Ma,timer:Ll,using:Tp,zip:Bl,scheduled:Il,EMPTY:br,NEVER:Nl,config:ze},Symbol.toStringTag,{value:"Module"})),Tr=hn(Lp);function $l(t){return function(r){return r.lift(new Bp(t))}}var Bp=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Fp(e,this.durationSelector))},t}(),Fp=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){if(this.value=r,this.hasValue=!0,!this.throttled){var n=void 0;try{var i=this.durationSelector;n=i(r)}catch(s){return this.destination.error(s)}var o=we(n,new me(this));!o||o.closed?this.clearThrottle():this.add(this.throttled=o)}},e.prototype.clearThrottle=function(){var r=this,n=r.value,i=r.hasValue,o=r.throttled;o&&(this.remove(o),this.throttled=void 0,o.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(_e);function $p(t,e){return e===void 0&&(e=Be),$l(function(){return Ll(t,e)})}function Wp(t){return function(r){return r.lift(new Up(t))}}var Up=function(){function t(e){this.closingNotifier=e}return t.prototype.call=function(e,r){return r.subscribe(new Hp(e,this.closingNotifier))},t}(),Hp=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.buffer=[],i.add(we(n,new me(i))),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype.notifyNext=function(){var r=this.buffer;this.buffer=[],this.destination.next(r)},e}(_e);function Vp(t,e){return e===void 0&&(e=null),function(n){return n.lift(new zp(t,e))}}var zp=function(){function t(e,r){this.bufferSize=e,this.startBufferEvery=r,!r||e===r?this.subscriberClass=qp:this.subscriberClass=Gp}return t.prototype.call=function(e,r){return r.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},t}(),qp=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.bufferSize=n,i.buffer=[],i}return e.prototype._next=function(r){var n=this.buffer;n.push(r),n.length==this.bufferSize&&(this.destination.next(n),this.buffer=[])},e.prototype._complete=function(){var r=this.buffer;r.length>0&&this.destination.next(r),t.prototype._complete.call(this)},e}(X),Gp=function(t){D(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.bufferSize=n,o.startBufferEvery=i,o.buffers=[],o.count=0,o}return e.prototype._next=function(r){var n=this,i=n.bufferSize,o=n.startBufferEvery,s=n.buffers,a=n.count;this.count++,a%o===0&&s.push([]);for(var u=s.length;u--;){var c=s[u];c.push(r),c.length===i&&(s.splice(u,1),this.destination.next(c))}},e.prototype._complete=function(){for(var r=this,n=r.buffers,i=r.destination;n.length>0;){var o=n.shift();o.length>0&&i.next(o)}t.prototype._complete.call(this)},e}(X);function Qp(t){var e=arguments.length,r=Be;We(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(s){return s.lift(new Yp(t,n,i,r))}}var Yp=function(){function t(e,r,n,i){this.bufferTimeSpan=e,this.bufferCreationInterval=r,this.maxBufferSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new Jp(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),Kp=function(){function t(){this.buffer=[]}return t}(),Jp=function(t){D(e,t);function e(r,n,i,o,s){var a=t.call(this,r)||this;a.bufferTimeSpan=n,a.bufferCreationInterval=i,a.maxBufferSize=o,a.scheduler=s,a.contexts=[];var u=a.openContext();if(a.timespanOnly=i==null||i<0,a.timespanOnly){var c={subscriber:a,context:u,bufferTimeSpan:n};a.add(u.closeAction=s.schedule(Cu,n,c))}else{var l={subscriber:a,context:u},b={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:a,scheduler:s};a.add(u.closeAction=s.schedule(Wl,n,l)),a.add(s.schedule(Zp,i,b))}return a}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,o,s=0;s<i;s++){var a=n[s],u=a.buffer;u.push(r),u.length==this.maxBufferSize&&(o=a)}o&&this.onBufferFull(o)},e.prototype._error=function(r){this.contexts.length=0,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this,n=r.contexts,i=r.destination;n.length>0;){var o=n.shift();i.next(o.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(r){this.closeContext(r);var n=r.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){r=this.openContext();var i=this.bufferTimeSpan,o={subscriber:this,context:r,bufferTimeSpan:i};this.add(r.closeAction=this.scheduler.schedule(Cu,i,o))}},e.prototype.openContext=function(){var r=new Kp;return this.contexts.push(r),r},e.prototype.closeContext=function(r){this.destination.next(r.buffer);var n=this.contexts,i=n?n.indexOf(r):-1;i>=0&&n.splice(n.indexOf(r),1)},e}(X);function Cu(t){var e=t.subscriber,r=t.context;r&&e.closeContext(r),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function Zp(t){var e=t.bufferCreationInterval,r=t.bufferTimeSpan,n=t.subscriber,i=t.scheduler,o=n.openContext(),s=this;n.closed||(n.add(o.closeAction=i.schedule(Wl,r,{subscriber:n,context:o})),s.schedule(t,e))}function Wl(t){var e=t.subscriber,r=t.context;e.closeContext(r)}function Xp(t,e){return function(n){return n.lift(new ey(t,e))}}var ey=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new ty(e,this.openings,this.closingSelector))},t}(),ty=function(t){D(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.closingSelector=i,o.contexts=[],o.add(bt(o,n)),o}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,o=0;o<i;o++)n[o].buffer.push(r)},e.prototype._error=function(r){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this.contexts;r.length>0;){var n=r.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(r,n){r?this.closeBuffer(r):this.openBuffer(n)},e.prototype.notifyComplete=function(r){this.closeBuffer(r.context)},e.prototype.openBuffer=function(r){try{var n=this.closingSelector,i=n.call(this,r);i&&this.trySubscribe(i)}catch(o){this._error(o)}},e.prototype.closeBuffer=function(r){var n=this.contexts;if(n&&r){var i=r.buffer,o=r.subscription;this.destination.next(i),n.splice(n.indexOf(r),1),this.remove(o),o.unsubscribe()}},e.prototype.trySubscribe=function(r){var n=this.contexts,i=[],o=new ve,s={buffer:i,subscription:o};n.push(s);var a=bt(this,r,s);!a||a.closed?this.closeBuffer(s):(a.context=s,this.add(a),o.add(a))},e}(Qt);function ry(t){return function(e){return e.lift(new ny(t))}}var ny=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new iy(e,this.closingSelector))},t}(),iy=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype._complete=function(){var r=this.buffer;r&&this.destination.next(r),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var r=this.closingSubscription;r&&(this.remove(r),r.unsubscribe());var n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];var i;try{var o=this.closingSelector;i=o()}catch(s){return this.error(s)}r=new ve,this.closingSubscription=r,this.add(r),this.subscribing=!0,r.add(we(i,new me(this))),this.subscribing=!1},e}(_e);function oy(t){return function(r){var n=new sy(t),i=r.lift(n);return n.caught=i}}var sy=function(){function t(e){this.selector=e}return t.prototype.call=function(e,r){return r.subscribe(new ay(e,this.selector,this.caught))},t}(),ay=function(t){D(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.selector=n,o.caught=i,o}return e.prototype.error=function(r){if(!this.isStopped){var n=void 0;try{n=this.selector(r,this.caught)}catch(s){t.prototype.error.call(this,s);return}this._unsubscribeAndRecycle();var i=new me(this);this.add(i);var o=we(n,i);o!==i&&this.add(o)}},e}(_e);function uy(t){return function(e){return e.lift(new Ta(t))}}function cy(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=null;return typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&Le(t[0])&&(t=t[0].slice()),function(n){return n.lift.call(mt([n].concat(t)),new Ta(r))}}function ly(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(sn.apply(void 0,[r].concat(t)))}}function Ul(t,e){return zt(t,e,1)}function fy(t,e){return Ul(function(){return t},e)}function hy(t){return function(e){return e.lift(new dy(t,e))}}var dy=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new py(e,this.predicate,this.source))},t}(),py=function(t){D(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.predicate=n,o.source=i,o.count=0,o.index=0,o}return e.prototype._next=function(r){this.predicate?this._tryPredicate(r):this.count++},e.prototype._tryPredicate=function(r){var n;try{n=this.predicate(r,this.index++,this.source)}catch(i){this.destination.error(i);return}n&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(X);function yy(t){return function(e){return e.lift(new by(t))}}var by=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new gy(e,this.durationSelector))},t}(),gy=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){try{var n=this.durationSelector.call(this,r);n&&this._tryNext(r,n)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(r,n){var i=this.durationSubscription;this.value=r,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=we(n,new me(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var r=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,t.prototype._next.call(this,r)}},e}(_e);function vy(t,e){return e===void 0&&(e=Be),function(r){return r.lift(new my(t,e))}}var my=function(){function t(e,r){this.dueTime=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new _y(e,this.dueTime,this.scheduler))},t}(),_y=function(t){D(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.dueTime=n,o.scheduler=i,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return e.prototype._next=function(r){this.clearDebounce(),this.lastValue=r,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(wy,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var r=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(r)}},e.prototype.clearDebounce=function(){var r=this.debouncedSubscription;r!==null&&(this.remove(r),r.unsubscribe(),this.debouncedSubscription=null)},e}(X);function wy(t){t.debouncedNext()}function gn(t){return t===void 0&&(t=null),function(e){return e.lift(new Sy(t))}}var Sy=function(){function t(e){this.defaultValue=e}return t.prototype.call=function(e,r){return r.subscribe(new Ey(e,this.defaultValue))},t}(),Ey=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.defaultValue=n,i.isEmpty=!0,i}return e.prototype._next=function(r){this.isEmpty=!1,this.destination.next(r)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(X);function Hl(t){return t instanceof Date&&!isNaN(+t)}function xy(t,e){e===void 0&&(e=Be);var r=Hl(t),n=r?+t-e.now():Math.abs(t);return function(i){return i.lift(new Ay(n,e))}}var Ay=function(){function t(e,r){this.delay=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new Cy(e,this.delay,this.scheduler))},t}(),Cy=function(t){D(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.delay=n,o.scheduler=i,o.queue=[],o.active=!1,o.errored=!1,o}return e.dispatch=function(r){for(var n=r.source,i=n.queue,o=r.scheduler,s=r.destination;i.length>0&&i[0].time-o.now()<=0;)i.shift().notification.observe(s);if(i.length>0){var a=Math.max(0,i[0].time-o.now());this.schedule(r,a)}else this.unsubscribe(),n.active=!1},e.prototype._schedule=function(r){this.active=!0;var n=this.destination;n.add(r.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:r}))},e.prototype.scheduleNotification=function(r){if(this.errored!==!0){var n=this.scheduler,i=new ky(n.now()+this.delay,r);this.queue.push(i),this.active===!1&&this._schedule(n)}},e.prototype._next=function(r){this.scheduleNotification(yt.createNext(r))},e.prototype._error=function(r){this.errored=!0,this.queue=[],this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(yt.createComplete()),this.unsubscribe()},e}(X),ky=function(){function t(e,r){this.time=e,this.notification=r}return t}();function Iy(t,e){return e?function(r){return new My(r,e).lift(new ku(t))}:function(r){return r.lift(new ku(t))}}var ku=function(){function t(e){this.delayDurationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Ry(e,this.delayDurationSelector))},t}(),Ry=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return e.prototype.notifyNext=function(r,n,i,o,s){this.destination.next(r),this.removeSubscription(s),this.tryComplete()},e.prototype.notifyError=function(r,n){this._error(r)},e.prototype.notifyComplete=function(r){var n=this.removeSubscription(r);n&&this.destination.next(n),this.tryComplete()},e.prototype._next=function(r){var n=this.index++;try{var i=this.delayDurationSelector(r,n);i&&this.tryDelay(i,r)}catch(o){this.destination.error(o)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(r){r.unsubscribe();var n=this.delayNotifierSubscriptions.indexOf(r);return n!==-1&&this.delayNotifierSubscriptions.splice(n,1),r.outerValue},e.prototype.tryDelay=function(r,n){var i=bt(this,r,n);if(i&&!i.closed){var o=this.destination;o.add(i),this.delayNotifierSubscriptions.push(i)}},e.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},e}(Qt),My=function(t){D(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subscriptionDelay=n,i}return e.prototype._subscribe=function(r){this.subscriptionDelay.subscribe(new Oy(r,this.source))},e}(oe),Oy=function(t){D(e,t);function e(r,n){var i=t.call(this)||this;return i.parent=r,i.source=n,i.sourceSubscribed=!1,i}return e.prototype._next=function(r){this.subscribeToSource()},e.prototype._error=function(r){this.unsubscribe(),this.parent.error(r)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(X);function Ty(){return function(e){return e.lift(new Py)}}var Py=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new Ny(e))},t}(),Ny=function(t){D(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){r.observe(this.destination)},e}(X);function jy(t,e){return function(r){return r.lift(new Dy(t,e))}}var Dy=function(){function t(e,r){this.keySelector=e,this.flushes=r}return t.prototype.call=function(e,r){return r.subscribe(new Ly(e,this.keySelector,this.flushes))},t}(),Ly=function(t){D(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.keySelector=n,o.values=new Set,i&&o.add(we(i,new me(o))),o}return e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(r){this._error(r)},e.prototype._next=function(r){this.keySelector?this._useKeySelector(r):this._finalizeNext(r,r)},e.prototype._useKeySelector=function(r){var n,i=this.destination;try{n=this.keySelector(r)}catch(o){i.error(o);return}this._finalizeNext(n,r)},e.prototype._finalizeNext=function(r,n){var i=this.values;i.has(r)||(i.add(r),this.destination.next(n))},e}(_e);function Vl(t,e){return function(r){return r.lift(new By(t,e))}}var By=function(){function t(e,r){this.compare=e,this.keySelector=r}return t.prototype.call=function(e,r){return r.subscribe(new Fy(e,this.compare,this.keySelector))},t}(),Fy=function(t){D(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.keySelector=i,o.hasKey=!1,typeof n=="function"&&(o.compare=n),o}return e.prototype.compare=function(r,n){return r===n},e.prototype._next=function(r){var n;try{var i=this.keySelector;n=i?i(r):r}catch(a){return this.destination.error(a)}var o=!1;if(this.hasKey)try{var s=this.compare;o=s(this.key,n)}catch(a){return this.destination.error(a)}else this.hasKey=!0;o||(this.key=n,this.destination.next(r))},e}(X);function $y(t,e){return Vl(function(r,n){return e?e(r[t],n[t]):r[t]===n[t]})}function wi(t){return t===void 0&&(t=Hy),function(e){return e.lift(new Wy(t))}}var Wy=function(){function t(e){this.errorFactory=e}return t.prototype.call=function(e,r){return r.subscribe(new Uy(e,this.errorFactory))},t}(),Uy=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.errorFactory=n,i.hasValue=!1,i}return e.prototype._next=function(r){this.hasValue=!0,this.destination.next(r)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var r=void 0;try{r=this.errorFactory()}catch(n){r=n}this.destination.error(r)},e}(X);function Hy(){return new bn}function ja(t){return function(e){return t===0?Mr():e.lift(new Vy(t))}}var Vy=function(){function t(e){if(this.total=e,this.total<0)throw new gr}return t.prototype.call=function(e,r){return r.subscribe(new zy(e,this.total))},t}(),zy=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){var n=this.total,i=++this.count;i<=n&&(this.destination.next(r),i===n&&(this.destination.complete(),this.unsubscribe()))},e}(X);function qy(t,e){if(t<0)throw new gr;var r=arguments.length>=2;return function(n){return n.pipe(Ot(function(i,o){return o===t}),ja(1),r?gn(e):wi(function(){return new gr}))}}function Gy(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return sn(r,_i.apply(void 0,t))}}function Qy(t,e){return function(r){return r.lift(new Yy(t,e,r))}}var Yy=function(){function t(e,r,n){this.predicate=e,this.thisArg=r,this.source=n}return t.prototype.call=function(e,r){return r.subscribe(new Ky(e,this.predicate,this.thisArg,this.source))},t}(),Ky=function(t){D(e,t);function e(r,n,i,o){var s=t.call(this,r)||this;return s.predicate=n,s.thisArg=i,s.source=o,s.index=0,s.thisArg=i||s,s}return e.prototype.notifyComplete=function(r){this.destination.next(r),this.destination.complete()},e.prototype._next=function(r){var n=!1;try{n=this.predicate.call(this.thisArg,r,this.index++,this.source)}catch(i){this.destination.error(i);return}n||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(X);function Jy(){return function(t){return t.lift(new Zy)}}var Zy=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new Xy(e))},t}(),Xy=function(t){D(e,t);function e(r){var n=t.call(this,r)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return e.prototype._next=function(r){this.hasSubscription||(this.hasSubscription=!0,this.add(we(r,new me(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(_e);function zl(t,e){return e?function(r){return r.pipe(zl(function(n,i){return mt(t(n,i)).pipe(Ye(function(o,s){return e(n,o,i,s)}))}))}:function(r){return r.lift(new eb(t))}}var eb=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new tb(e,this.project))},t}(),tb=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return e.prototype._next=function(r){this.hasSubscription||this.tryNext(r)},e.prototype.tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(o){this.destination.error(o);return}this.hasSubscription=!0,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new me(this),i=this.destination;i.add(n);var o=we(r,n);o!==n&&i.add(o)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(_e);function rb(t,e,r){return e===void 0&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(n){return n.lift(new nb(t,e,r))}}var nb=function(){function t(e,r,n){this.project=e,this.concurrent=r,this.scheduler=n}return t.prototype.call=function(e,r){return r.subscribe(new ib(e,this.project,this.concurrent,this.scheduler))},t}(),ib=function(t){D(e,t);function e(r,n,i,o){var s=t.call(this,r)||this;return s.project=n,s.concurrent=i,s.scheduler=o,s.index=0,s.active=0,s.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(s.buffer=[]),s}return e.dispatch=function(r){var n=r.subscriber,i=r.result,o=r.value,s=r.index;n.subscribeToProjection(i,o,s)},e.prototype._next=function(r){var n=this.destination;if(n.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){n.next(r);try{var o=this.project,s=o(r,i);if(!this.scheduler)this.subscribeToProjection(s,r,i);else{var a={subscriber:this,result:s,value:r,index:i},u=this.destination;u.add(this.scheduler.schedule(e.dispatch,0,a))}}catch(c){n.error(c)}}else this.buffer.push(r)},e.prototype.subscribeToProjection=function(r,n,i){this.active++;var o=this.destination;o.add(we(r,new me(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this._next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r&&r.length>0&&this._next(r.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},e}(_e);function ob(t){return function(e){return e.lift(new sb(t))}}var sb=function(){function t(e){this.callback=e}return t.prototype.call=function(e,r){return r.subscribe(new ab(e,this.callback))},t}(),ab=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.add(new ve(n)),i}return e}(X);function ub(t,e){if(typeof t!="function")throw new TypeError("predicate is not a function");return function(r){return r.lift(new ql(t,r,!1,e))}}var ql=function(){function t(e,r,n,i){this.predicate=e,this.source=r,this.yieldIndex=n,this.thisArg=i}return t.prototype.call=function(e,r){return r.subscribe(new cb(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),cb=function(t){D(e,t);function e(r,n,i,o,s){var a=t.call(this,r)||this;return a.predicate=n,a.source=i,a.yieldIndex=o,a.thisArg=s,a.index=0,a}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete(),this.unsubscribe()},e.prototype._next=function(r){var n=this,i=n.predicate,o=n.thisArg,s=this.index++;try{var a=i.call(o||this,r,s,this.source);a&&this.notifyComplete(this.yieldIndex?s:r)}catch(u){this.destination.error(u)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(X);function lb(t,e){return function(r){return r.lift(new ql(t,r,!0,e))}}function fb(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Ot(function(i,o){return t(i,o,n)}):Rt,ja(1),r?gn(e):wi(function(){return new bn}))}}function hb(){return function(e){return e.lift(new db)}}var db=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new pb(e))},t}(),pb=function(t){D(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._next=function(r){},e}(X);function yb(){return function(t){return t.lift(new bb)}}var bb=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new gb(e))},t}(),gb=function(t){D(e,t);function e(r){return t.call(this,r)||this}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype._next=function(r){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(X);function ei(t){return function(r){return t===0?Mr():r.lift(new vb(t))}}var vb=function(){function t(e){if(this.total=e,this.total<0)throw new gr}return t.prototype.call=function(e,r){return r.subscribe(new mb(e,this.total))},t}(),mb=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.ring=new Array,i.count=0,i}return e.prototype._next=function(r){var n=this.ring,i=this.total,o=this.count++;if(n.length<i)n.push(r);else{var s=o%i;n[s]=r}},e.prototype._complete=function(){var r=this.destination,n=this.count;if(n>0)for(var i=this.count>=this.total?this.total:this.count,o=this.ring,s=0;s<i;s++){var a=n++%i;r.next(o[a])}r.complete()},e}(X);function _b(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Ot(function(i,o){return t(i,o,n)}):Rt,ei(1),r?gn(e):wi(function(){return new bn}))}}function wb(t){return function(e){return e.lift(new Sb(t))}}var Sb=function(){function t(e){this.value=e}return t.prototype.call=function(e,r){return r.subscribe(new Eb(e,this.value))},t}(),Eb=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype._next=function(r){this.destination.next(this.value)},e}(X);function xb(){return function(e){return e.lift(new Ab)}}var Ab=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new Cb(e))},t}(),Cb=function(t){D(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){this.destination.next(yt.createNext(r))},e.prototype._error=function(r){var n=this.destination;n.next(yt.createError(r)),n.complete()},e.prototype._complete=function(){var r=this.destination;r.next(yt.createComplete()),r.complete()},e}(X);function ti(t,e){var r=!1;return arguments.length>=2&&(r=!0),function(i){return i.lift(new kb(t,e,r))}}var kb=function(){function t(e,r,n){n===void 0&&(n=!1),this.accumulator=e,this.seed=r,this.hasSeed=n}return t.prototype.call=function(e,r){return r.subscribe(new Ib(e,this.accumulator,this.seed,this.hasSeed))},t}(),Ib=function(t){D(e,t);function e(r,n,i,o){var s=t.call(this,r)||this;return s.accumulator=n,s._seed=i,s.hasSeed=o,s.index=0,s}return Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(r){this.hasSeed=!0,this._seed=r},enumerable:!0,configurable:!0}),e.prototype._next=function(r){if(!this.hasSeed)this.seed=r,this.destination.next(r);else return this._tryNext(r)},e.prototype._tryNext=function(r){var n=this.index++,i;try{i=this.accumulator(this.seed,r,n)}catch(o){this.destination.error(o)}this.seed=i,this.destination.next(i)},e}(X);function Si(t,e){return arguments.length>=2?function(n){return ra(ti(t,e),ei(1),gn(e))(n)}:function(n){return ra(ti(function(i,o,s){return t(i,o,s+1)}),ei(1))(n)}}function Rb(t){var e=typeof t=="function"?function(r,n){return t(r,n)>0?r:n}:function(r,n){return r>n?r:n};return Si(e)}function Mb(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(Pl.apply(void 0,[r].concat(t)))}}function Ob(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?zt(function(){return t},e,r):(typeof e=="number"&&(r=e),zt(function(){return t},r))}function Tb(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),function(n){return n.lift(new Pb(t,e,r))}}var Pb=function(){function t(e,r,n){this.accumulator=e,this.seed=r,this.concurrent=n}return t.prototype.call=function(e,r){return r.subscribe(new Nb(e,this.accumulator,this.seed,this.concurrent))},t}(),Nb=function(t){D(e,t);function e(r,n,i,o){var s=t.call(this,r)||this;return s.accumulator=n,s.acc=i,s.concurrent=o,s.hasValue=!1,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return e.prototype._next=function(r){if(this.active<this.concurrent){var n=this.index++,i=this.destination,o=void 0;try{var s=this.accumulator;o=s(this.acc,r,n)}catch(a){return i.error(a)}this.active++,this._innerSub(o)}else this.buffer.push(r)},e.prototype._innerSub=function(r){var n=new me(this),i=this.destination;i.add(n);var o=we(r,n);o!==n&&i.add(o)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(r){var n=this.destination;this.acc=r,this.hasValue=!0,n.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(_e);function jb(t){var e=typeof t=="function"?function(r,n){return t(r,n)<0?r:n}:function(r,n){return r<n?r:n};return Si(e)}function qt(t,e){return function(n){var i;if(typeof t=="function"?i=t:i=function(){return t},typeof e=="function")return n.lift(new Db(i,e));var o=Object.create(n,gd);return o.source=n,o.subjectFactory=i,o}}var Db=function(){function t(e,r){this.subjectFactory=e,this.selector=r}return t.prototype.call=function(e,r){var n=this.selector,i=this.subjectFactory(),o=n(i).subscribe(e);return o.add(r.subscribe(i)),o},t}();function Lb(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===1&&Le(t[0])&&(t=t[0]),function(r){return r.lift(new Bb(t))}}var Bb=function(){function t(e){this.nextSources=e}return t.prototype.call=function(e,r){return r.subscribe(new Fb(e,this.nextSources))},t}(),Fb=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.nextSources=n,i}return e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(r){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var r=this.nextSources.shift();if(r){var n=new me(this),i=this.destination;i.add(n);var o=we(r,n);o!==n&&i.add(o)}else this.destination.complete()},e}(_e);function $b(){return function(t){return t.lift(new Wb)}}var Wb=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new Ub(e))},t}(),Ub=function(t){D(e,t);function e(r){var n=t.call(this,r)||this;return n.hasPrev=!1,n}return e.prototype._next=function(r){var n;this.hasPrev?n=[this.prev,r]:this.hasPrev=!0,this.prev=r,n&&this.destination.next(n)},e}(X);function Hb(t,e){return function(r){return[Ot(t,e)(r),Ot(jl(t,e))(r)]}}function Vb(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(r===0)throw new Error("list of properties cannot be empty.");return function(n){return Ye(zb(t,r))(n)}}function zb(t,e){var r=function(n){for(var i=n,o=0;o<e;o++){var s=i!=null?i[t[o]]:void 0;if(s!==void 0)i=s;else return}return i};return r}function qb(t){return t?qt(function(){return new Ce},t):qt(new Ce)}function Gb(t){return function(e){return qt(new pl(t))(e)}}function Qb(){return function(t){return qt(new Or)(t)}}function Yb(t,e,r,n){r&&typeof r!="function"&&(n=r);var i=typeof r=="function"?r:void 0,o=new Oa(t,e,n);return function(s){return qt(function(){return o},i)(s)}}function Kb(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return t.length===1&&Le(t[0])&&(t=t[0]),n.lift.call(Dl.apply(void 0,[n].concat(t)))}}function Jb(t){return t===void 0&&(t=-1),function(e){return t===0?Mr():t<0?e.lift(new Iu(-1,e)):e.lift(new Iu(t-1,e))}}var Iu=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new Zb(e,this.count,this.source))},t}(),Zb=function(t){D(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.count=n,o.source=i,o}return e.prototype.complete=function(){if(!this.isStopped){var r=this,n=r.source,i=r.count;if(i===0)return t.prototype.complete.call(this);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(X);function Xb(t){return function(e){return e.lift(new eg(t))}}var eg=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new tg(e,this.notifier,r))},t}(),tg=function(t){D(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.notifier=n,o.source=i,o.sourceIsBeingSubscribedTo=!0,o}return e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var r=this,n=r.notifications,i=r.retriesSubscription;n&&(n.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var r=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=r,this},e.prototype.subscribeToRetries=function(){this.notifications=new Ce;var r;try{var n=this.notifier;r=n(this.notifications)}catch{return t.prototype.complete.call(this)}this.retries=r,this.retriesSubscription=we(r,new me(this))},e}(_e);function rg(t){return t===void 0&&(t=-1),function(e){return e.lift(new ng(t,e))}}var ng=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new ig(e,this.count,this.source))},t}(),ig=function(t){D(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.count=n,o.source=i,o}return e.prototype.error=function(r){if(!this.isStopped){var n=this,i=n.source,o=n.count;if(o===0)return t.prototype.error.call(this,r);o>-1&&(this.count=o-1),i.subscribe(this._unsubscribeAndRecycle())}},e}(X);function og(t){return function(e){return e.lift(new sg(t,e))}}var sg=function(){function t(e,r){this.notifier=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new ag(e,this.notifier,this.source))},t}(),ag=function(t){D(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.notifier=n,o.source=i,o}return e.prototype.error=function(r){if(!this.isStopped){var n=this.errors,i=this.retries,o=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new Ce;try{var s=this.notifier;i=s(n)}catch(a){return t.prototype.error.call(this,a)}o=we(i,new me(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=o,n.next(r)}},e.prototype._unsubscribe=function(){var r=this,n=r.errors,i=r.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var r=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=r,this.source.subscribe(this)},e}(_e);function ug(t){return function(e){return e.lift(new cg(t))}}var cg=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new lg(e),i=r.subscribe(n);return i.add(we(this.notifier,new me(n))),i},t}(),lg=function(t){D(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.hasValue=!1,r}return e.prototype._next=function(r){this.value=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(_e);function fg(t,e){return e===void 0&&(e=Be),function(r){return r.lift(new hg(t,e))}}var hg=function(){function t(e,r){this.period=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new dg(e,this.period,this.scheduler))},t}(),dg=function(t){D(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.period=n,o.scheduler=i,o.hasValue=!1,o.add(i.schedule(pg,n,{subscriber:o,period:n})),o}return e.prototype._next=function(r){this.lastValue=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(X);function pg(t){var e=t.subscriber,r=t.period;e.notifyNext(),this.schedule(t,r)}function yg(t,e){return function(r){return r.lift(new bg(t,e))}}var bg=function(){function t(e,r){this.compareTo=e,this.comparator=r}return t.prototype.call=function(e,r){return r.subscribe(new gg(e,this.compareTo,this.comparator))},t}(),gg=function(t){D(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.compareTo=n,o.comparator=i,o._a=[],o._b=[],o._oneComplete=!1,o.destination.add(n.subscribe(new vg(r,o))),o}return e.prototype._next=function(r){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(r),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var r=this,n=r._a,i=r._b,o=r.comparator;n.length>0&&i.length>0;){var s=n.shift(),a=i.shift(),u=!1;try{u=o?o(s,a):s===a}catch(c){this.destination.error(c)}u||this.emit(!1)}},e.prototype.emit=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype.nextB=function(r){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(r),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},e}(X),vg=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.parent=n,i}return e.prototype._next=function(r){this.parent.nextB(r)},e.prototype._error=function(r){this.parent.error(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(X);function mg(){return new Ce}function _g(){return function(t){return Ia()(qt(mg)(t))}}function wg(t,e,r){var n;return t&&typeof t=="object"?n=t:n={bufferSize:t,windowTime:e,refCount:!1,scheduler:r},function(i){return i.lift(Sg(n))}}function Sg(t){var e=t.bufferSize,r=e===void 0?Number.POSITIVE_INFINITY:e,n=t.windowTime,i=n===void 0?Number.POSITIVE_INFINITY:n,o=t.refCount,s=t.scheduler,a,u=0,c,l=!1,b=!1;return function(p){u++;var g;!a||l?(l=!1,a=new Oa(r,i,s),g=a.subscribe(this),c=p.subscribe({next:function(C){a.next(C)},error:function(C){l=!0,a.error(C)},complete:function(){b=!0,c=void 0,a.complete()}}),b&&(c=void 0)):g=a.subscribe(this),this.add(function(){u--,g.unsubscribe(),g=void 0,c&&!b&&o&&u===0&&(c.unsubscribe(),c=void 0,a=void 0)})}}function Eg(t){return function(e){return e.lift(new xg(t,e))}}var xg=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new Ag(e,this.predicate,this.source))},t}(),Ag=function(t){D(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.predicate=n,o.source=i,o.seenValue=!1,o.index=0,o}return e.prototype.applySingleValue=function(r){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=r)},e.prototype._next=function(r){var n=this.index++;this.predicate?this.tryNext(r,n):this.applySingleValue(r)},e.prototype.tryNext=function(r,n){try{this.predicate(r,n,this.source)&&this.applySingleValue(r)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){var r=this.destination;this.index>0?(r.next(this.seenValue?this.singleValue:void 0),r.complete()):r.error(new bn)},e}(X);function Cg(t){return function(e){return e.lift(new kg(t))}}var kg=function(){function t(e){this.total=e}return t.prototype.call=function(e,r){return r.subscribe(new Ig(e,this.total))},t}(),Ig=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){++this.count>this.total&&this.destination.next(r)},e}(X);function Rg(t){return function(e){return e.lift(new Mg(t))}}var Mg=function(){function t(e){if(this._skipCount=e,this._skipCount<0)throw new gr}return t.prototype.call=function(e,r){return this._skipCount===0?r.subscribe(new X(e)):r.subscribe(new Og(e,this._skipCount))},t}(),Og=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return e.prototype._next=function(r){var n=this._skipCount,i=this._count++;if(i<n)this._ring[i]=r;else{var o=i%n,s=this._ring,a=s[o];s[o]=r,this.destination.next(a)}},e}(X);function Tg(t){return function(e){return e.lift(new Pg(t))}}var Pg=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new Ng(e,this.notifier))},t}(),Ng=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;i.hasValue=!1;var o=new me(i);i.add(o),i.innerSubscription=o;var s=we(n,o);return s!==o&&(i.add(s),i.innerSubscription=s),i}return e.prototype._next=function(r){this.hasValue&&t.prototype._next.call(this,r)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(_e);function jg(t){return function(e){return e.lift(new Dg(t))}}var Dg=function(){function t(e){this.predicate=e}return t.prototype.call=function(e,r){return r.subscribe(new Lg(e,this.predicate))},t}(),Lg=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.predicate=n,i.skipping=!0,i.index=0,i}return e.prototype._next=function(r){var n=this.destination;this.skipping&&this.tryCallPredicate(r),this.skipping||n.next(r)},e.prototype.tryCallPredicate=function(r){try{var n=this.predicate(r,this.index++);this.skipping=Boolean(n)}catch(i){this.destination.error(i)}},e}(X);function Bg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return We(r)?(t.pop(),function(n){return sn(t,n,r)}):function(n){return sn(t,n)}}var Fg=function(t){D(e,t);function e(r,n,i){n===void 0&&(n=0),i===void 0&&(i=Hn);var o=t.call(this)||this;return o.source=r,o.delayTime=n,o.scheduler=i,(!vr(n)||n<0)&&(o.delayTime=0),(!i||typeof i.schedule!="function")&&(o.scheduler=Hn),o}return e.create=function(r,n,i){return n===void 0&&(n=0),i===void 0&&(i=Hn),new e(r,n,i)},e.dispatch=function(r){var n=r.source,i=r.subscriber;return this.add(n.subscribe(i))},e.prototype._subscribe=function(r){var n=this.delayTime,i=this.source,o=this.scheduler;return o.schedule(e.dispatch,n,{source:i,subscriber:r})},e}(oe);function $g(t,e){return e===void 0&&(e=0),function(n){return n.lift(new Wg(t,e))}}var Wg=function(){function t(e,r){this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return new Fg(r,this.delay,this.scheduler).subscribe(e)},t}();function an(t,e){return typeof e=="function"?function(r){return r.pipe(an(function(n,i){return mt(t(n,i)).pipe(Ye(function(o,s){return e(n,o,i,s)}))}))}:function(r){return r.lift(new Ug(t))}}var Ug=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new Hg(e,this.project))},t}(),Hg=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.index=0,i}return e.prototype._next=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(o){this.destination.error(o);return}this._innerSub(n)},e.prototype._innerSub=function(r){var n=this.innerSubscription;n&&n.unsubscribe();var i=new me(this),o=this.destination;o.add(i),this.innerSubscription=we(r,i),this.innerSubscription!==i&&o.add(this.innerSubscription)},e.prototype._complete=function(){var r=this.innerSubscription;(!r||r.closed)&&t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(r){this.destination.next(r)},e}(_e);function Vg(){return an(Rt)}function zg(t,e){return e?an(function(){return t},e):an(function(){return t})}function qg(t){return function(e){return e.lift(new Gg(t))}}var Gg=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new Qg(e),i=we(this.notifier,new me(n));return i&&!n.seenValue?(n.add(i),r.subscribe(n)):n},t}(),Qg=function(t){D(e,t);function e(r){var n=t.call(this,r)||this;return n.seenValue=!1,n}return e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(_e);function Yg(t,e){return e===void 0&&(e=!1),function(r){return r.lift(new Kg(t,e))}}var Kg=function(){function t(e,r){this.predicate=e,this.inclusive=r}return t.prototype.call=function(e,r){return r.subscribe(new Jg(e,this.predicate,this.inclusive))},t}(),Jg=function(t){D(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.predicate=n,o.inclusive=i,o.index=0,o}return e.prototype._next=function(r){var n=this.destination,i;try{i=this.predicate(r,this.index++)}catch(o){n.error(o);return}this.nextOrComplete(r,i)},e.prototype.nextOrComplete=function(r,n){var i=this.destination;Boolean(n)?i.next(r):(this.inclusive&&i.next(r),i.complete())},e}(X);function Zg(t,e,r){return function(i){return i.lift(new Xg(t,e,r))}}var Xg=function(){function t(e,r,n){this.nextOrObserver=e,this.error=r,this.complete=n}return t.prototype.call=function(e,r){return r.subscribe(new e0(e,this.nextOrObserver,this.error,this.complete))},t}(),e0=function(t){D(e,t);function e(r,n,i,o){var s=t.call(this,r)||this;return s._tapNext=ot,s._tapError=ot,s._tapComplete=ot,s._tapError=i||ot,s._tapComplete=o||ot,yr(n)?(s._context=s,s._tapNext=n):n&&(s._context=n,s._tapNext=n.next||ot,s._tapError=n.error||ot,s._tapComplete=n.complete||ot),s}return e.prototype._next=function(r){try{this._tapNext.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.next(r)},e.prototype._error=function(r){try{this._tapError.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.error(r)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(r){this.destination.error(r);return}return this.destination.complete()},e}(X),Gl={leading:!0,trailing:!1};function t0(t,e){return e===void 0&&(e=Gl),function(r){return r.lift(new r0(t,!!e.leading,!!e.trailing))}}var r0=function(){function t(e,r,n){this.durationSelector=e,this.leading=r,this.trailing=n}return t.prototype.call=function(e,r){return r.subscribe(new n0(e,this.durationSelector,this.leading,this.trailing))},t}(),n0=function(t){D(e,t);function e(r,n,i,o){var s=t.call(this,r)||this;return s.destination=r,s.durationSelector=n,s._leading=i,s._trailing=o,s._hasValue=!1,s}return e.prototype._next=function(r){this._hasValue=!0,this._sendValue=r,this._throttled||(this._leading?this.send():this.throttle(r))},e.prototype.send=function(){var r=this,n=r._hasValue,i=r._sendValue;n&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(r){var n=this.tryDurationSelector(r);n&&this.add(this._throttled=we(n,new me(this)))},e.prototype.tryDurationSelector=function(r){try{return this.durationSelector(r)}catch(n){return this.destination.error(n),null}},e.prototype.throttlingDone=function(){var r=this,n=r._throttled,i=r._trailing;n&&n.unsubscribe(),this._throttled=void 0,i&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(_e);function i0(t,e,r){return e===void 0&&(e=Be),r===void 0&&(r=Gl),function(n){return n.lift(new o0(t,e,r.leading,r.trailing))}}var o0=function(){function t(e,r,n,i){this.duration=e,this.scheduler=r,this.leading=n,this.trailing=i}return t.prototype.call=function(e,r){return r.subscribe(new s0(e,this.duration,this.scheduler,this.leading,this.trailing))},t}(),s0=function(t){D(e,t);function e(r,n,i,o,s){var a=t.call(this,r)||this;return a.duration=n,a.scheduler=i,a.leading=o,a.trailing=s,a._hasTrailingValue=!1,a._trailingValue=null,a}return e.prototype._next=function(r){this.throttled?this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(a0,this.duration,{subscriber:this})),this.leading?this.destination.next(r):this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var r=this.throttled;r&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),r.unsubscribe(),this.remove(r),this.throttled=null)},e}(X);function a0(t){var e=t.subscriber;e.clearThrottle()}function u0(t){return t===void 0&&(t=Be),function(e){return Na(function(){return e.pipe(ti(function(r,n){var i=r.current;return{value:n,current:t.now(),last:i}},{current:t.now(),value:void 0,last:void 0}),Ye(function(r){var n=r.current,i=r.last,o=r.value;return new c0(o,n-i)}))})}}var c0=function(){function t(e,r){this.value=e,this.interval=r}return t}();function Ql(t,e,r){return r===void 0&&(r=Be),function(n){var i=Hl(t),o=i?+t-r.now():Math.abs(t);return n.lift(new l0(o,i,e,r))}}var l0=function(){function t(e,r,n,i){this.waitFor=e,this.absoluteTimeout=r,this.withObservable=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new f0(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),f0=function(t){D(e,t);function e(r,n,i,o,s){var a=t.call(this,r)||this;return a.absoluteTimeout=n,a.waitFor=i,a.withObservable=o,a.scheduler=s,a.scheduleTimeout(),a}return e.dispatchTimeout=function(r){var n=r.withObservable;r._unsubscribeAndRecycle(),r.add(we(n,new me(r)))},e.prototype.scheduleTimeout=function(){var r=this.action;r?this.action=r.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(r){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,r)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(_e);function h0(t,e){return e===void 0&&(e=Be),Ql(t,Ma(new El),e)}function d0(t){return t===void 0&&(t=Be),Ye(function(e){return new p0(e,t.now())})}var p0=function(){function t(e,r){this.value=e,this.timestamp=r}return t}();function y0(t,e,r){return r===0?[e]:(t.push(e),t)}function b0(){return Si(y0,[])}function g0(t){return function(r){return r.lift(new v0(t))}}var v0=function(){function t(e){this.windowBoundaries=e}return t.prototype.call=function(e,r){var n=new m0(e),i=r.subscribe(n);return i.closed||n.add(we(this.windowBoundaries,new me(n))),i},t}(),m0=function(t){D(e,t);function e(r){var n=t.call(this,r)||this;return n.window=new Ce,r.next(n.window),n}return e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var r=this.window;r&&r.complete();var n=this.destination,i=this.window=new Ce;n.next(i)},e}(_e);function _0(t,e){return e===void 0&&(e=0),function(n){return n.lift(new w0(t,e))}}var w0=function(){function t(e,r){this.windowSize=e,this.startWindowEvery=r}return t.prototype.call=function(e,r){return r.subscribe(new S0(e,this.windowSize,this.startWindowEvery))},t}(),S0=function(t){D(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.destination=r,o.windowSize=n,o.startWindowEvery=i,o.windows=[new Ce],o.count=0,r.next(o.windows[0]),o}return e.prototype._next=function(r){for(var n=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,o=this.windowSize,s=this.windows,a=s.length,u=0;u<a&&!this.closed;u++)s[u].next(r);var c=this.count-o+1;if(c>=0&&c%n===0&&!this.closed&&s.shift().complete(),++this.count%n===0&&!this.closed){var l=new Ce;s.push(l),i.next(l)}},e.prototype._error=function(r){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){var r=this.windows;if(r)for(;r.length>0&&!this.closed;)r.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(X);function E0(t){var e=Be,r=null,n=Number.POSITIVE_INFINITY;return We(arguments[3])&&(e=arguments[3]),We(arguments[2])?e=arguments[2]:vr(arguments[2])&&(n=Number(arguments[2])),We(arguments[1])?e=arguments[1]:vr(arguments[1])&&(r=Number(arguments[1])),function(o){return o.lift(new x0(t,r,n,e))}}var x0=function(){function t(e,r,n,i){this.windowTimeSpan=e,this.windowCreationInterval=r,this.maxWindowSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new C0(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),A0=function(t){D(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._numberOfNextedValues=0,r}return e.prototype.next=function(r){this._numberOfNextedValues++,t.prototype.next.call(this,r)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(Ce),C0=function(t){D(e,t);function e(r,n,i,o,s){var a=t.call(this,r)||this;a.destination=r,a.windowTimeSpan=n,a.windowCreationInterval=i,a.maxWindowSize=o,a.scheduler=s,a.windows=[];var u=a.openWindow();if(i!==null&&i>=0){var c={subscriber:a,window:u,context:null},l={windowTimeSpan:n,windowCreationInterval:i,subscriber:a,scheduler:s};a.add(s.schedule(Yl,n,c)),a.add(s.schedule(I0,i,l))}else{var b={subscriber:a,window:u,windowTimeSpan:n};a.add(s.schedule(k0,n,b))}return a}return e.prototype._next=function(r){for(var n=this.windows,i=n.length,o=0;o<i;o++){var s=n[o];s.closed||(s.next(r),s.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(s))}},e.prototype._error=function(r){for(var n=this.windows;n.length>0;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){for(var r=this.windows;r.length>0;){var n=r.shift();n.closed||n.complete()}this.destination.complete()},e.prototype.openWindow=function(){var r=new A0;this.windows.push(r);var n=this.destination;return n.next(r),r},e.prototype.closeWindow=function(r){r.complete();var n=this.windows;n.splice(n.indexOf(r),1)},e}(X);function k0(t){var e=t.subscriber,r=t.windowTimeSpan,n=t.window;n&&e.closeWindow(n),t.window=e.openWindow(),this.schedule(t,r)}function I0(t){var e=t.windowTimeSpan,r=t.subscriber,n=t.scheduler,i=t.windowCreationInterval,o=r.openWindow(),s=this,a={action:s,subscription:null},u={subscriber:r,window:o,context:a};a.subscription=n.schedule(Yl,e,u),s.add(a.subscription),s.schedule(t,i)}function Yl(t){var e=t.subscriber,r=t.window,n=t.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(r)}function R0(t,e){return function(r){return r.lift(new M0(t,e))}}var M0=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new O0(e,this.openings,this.closingSelector))},t}(),O0=function(t){D(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.openings=n,o.closingSelector=i,o.contexts=[],o.add(o.openSubscription=bt(o,n,n)),o}return e.prototype._next=function(r){var n=this.contexts;if(n)for(var i=n.length,o=0;o<i;o++)n[o].window.next(r)},e.prototype._error=function(r){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,o=-1;++o<i;){var s=n[o];s.window.error(r),s.subscription.unsubscribe()}t.prototype._error.call(this,r)},e.prototype._complete=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var o=r[i];o.window.complete(),o.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var o=r[i];o.window.unsubscribe(),o.subscription.unsubscribe()}},e.prototype.notifyNext=function(r,n,i,o,s){if(r===this.openings){var a=void 0;try{var u=this.closingSelector;a=u(n)}catch(p){return this.error(p)}var c=new Ce,l=new ve,b={window:c,subscription:l};this.contexts.push(b);var f=bt(this,a,b);f.closed?this.closeWindow(this.contexts.length-1):(f.context=b,l.add(f)),this.destination.next(c)}else this.closeWindow(this.contexts.indexOf(r))},e.prototype.notifyError=function(r){this.error(r)},e.prototype.notifyComplete=function(r){r!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(r.context))},e.prototype.closeWindow=function(r){if(r!==-1){var n=this.contexts,i=n[r],o=i.window,s=i.subscription;n.splice(r,1),o.complete(),s.unsubscribe()}},e}(Qt);function T0(t){return function(r){return r.lift(new P0(t))}}var P0=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new N0(e,this.closingSelector))},t}(),N0=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.closingSelector=n,i.openWindow(),i}return e.prototype.notifyNext=function(r,n,i,o,s){this.openWindow(s)},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(r){this.openWindow(r)},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(r){r===void 0&&(r=null),r&&(this.remove(r),r.unsubscribe());var n=this.window;n&&n.complete();var i=this.window=new Ce;this.destination.next(i);var o;try{var s=this.closingSelector;o=s()}catch(a){this.destination.error(a),this.window.error(a);return}this.add(this.closingNotification=bt(this,o))},e}(Qt);function j0(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){var n;typeof t[t.length-1]=="function"&&(n=t.pop());var i=t;return r.lift(new D0(i,n))}}var D0=function(){function t(e,r){this.observables=e,this.project=r}return t.prototype.call=function(e,r){return r.subscribe(new L0(e,this.observables,this.project))},t}(),L0=function(t){D(e,t);function e(r,n,i){var o=t.call(this,r)||this;o.observables=n,o.project=i,o.toRespond=[];var s=n.length;o.values=new Array(s);for(var a=0;a<s;a++)o.toRespond.push(a);for(var a=0;a<s;a++){var u=n[a];o.add(bt(o,u,void 0,a))}return o}return e.prototype.notifyNext=function(r,n,i){this.values[i]=n;var o=this.toRespond;if(o.length>0){var s=o.indexOf(i);s!==-1&&o.splice(s,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(r){if(this.toRespond.length===0){var n=[r].concat(this.values);this.project?this._tryProject(n):this.destination.next(n)}},e.prototype._tryProject=function(r){var n;try{n=this.project.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Qt);function B0(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return n.lift.call(Bl.apply(void 0,[n].concat(t)))}}function F0(t){return function(e){return e.lift(new Fl(t))}}const $0=Object.freeze(Object.defineProperty({__proto__:null,audit:$l,auditTime:$p,buffer:Wp,bufferCount:Vp,bufferTime:Qp,bufferToggle:Xp,bufferWhen:ry,catchError:oy,combineAll:uy,combineLatest:cy,concat:ly,concatAll:Rl,concatMap:Ul,concatMapTo:fy,count:hy,debounce:yy,debounceTime:vy,defaultIfEmpty:gn,delay:xy,delayWhen:Iy,dematerialize:Ty,distinct:jy,distinctUntilChanged:Vl,distinctUntilKeyChanged:$y,elementAt:qy,endWith:Gy,every:Qy,exhaust:Jy,exhaustMap:zl,expand:rb,filter:Ot,finalize:ob,find:ub,findIndex:lb,first:fb,groupBy:md,ignoreElements:hb,isEmpty:yb,last:_b,map:Ye,mapTo:wb,materialize:xb,max:Rb,merge:Mb,mergeAll:Pa,mergeMap:zt,flatMap:fp,mergeMapTo:Ob,mergeScan:Tb,min:jb,multicast:qt,observeOn:Rd,onErrorResumeNext:Lb,pairwise:$b,partition:Hb,pluck:Vb,publish:qb,publishBehavior:Gb,publishLast:Qb,publishReplay:Yb,race:Kb,reduce:Si,repeat:Jb,repeatWhen:Xb,retry:rg,retryWhen:og,refCount:Ia,sample:ug,sampleTime:fg,scan:ti,sequenceEqual:yg,share:_g,shareReplay:wg,single:Eg,skip:Cg,skipLast:Rg,skipUntil:Tg,skipWhile:jg,startWith:Bg,subscribeOn:$g,switchAll:Vg,switchMap:an,switchMapTo:zg,take:ja,takeLast:ei,takeUntil:qg,takeWhile:Yg,tap:Zg,throttle:t0,throttleTime:i0,throwIfEmpty:wi,timeInterval:u0,timeout:h0,timeoutWith:Ql,timestamp:d0,toArray:b0,window:g0,windowCount:_0,windowTime:E0,windowToggle:R0,windowWhen:T0,withLatestFrom:j0,zip:B0,zipAll:F0},Symbol.toStringTag,{value:"Module"})),Ei=hn($0);var Kl={exports:{}},ct={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=yi,n=r.Buffer;function i(s,a){for(var u in s)a[u]=s[u]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=o);function o(s,a,u){return n(s,a,u)}o.prototype=Object.create(n.prototype),i(n,o),o.from=function(s,a,u){if(typeof s=="number")throw new TypeError("Argument must not be a number");return n(s,a,u)},o.alloc=function(s,a,u){if(typeof s!="number")throw new TypeError("Argument must be a number");var c=n(s);return a!==void 0?typeof u=="string"?c.fill(a,u):c.fill(a):c.fill(0),c},o.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n(s)},o.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(s)}})(ct,ct.exports);var Jl=ct.exports.Buffer;function xi(t,e){this._block=Jl.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}xi.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=Jl.from(t,e));for(var r=this._block,n=this._blockSize,i=t.length,o=this._len,s=0;s<i;){for(var a=o%n,u=Math.min(i-s,n-a),c=0;c<u;c++)r[a+c]=t[s+c];o+=u,s+=u,o%n===0&&this._update(r)}return this._len+=i,this};xi.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var o=this._hash();return t?o.toString(t):o};xi.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var Pr=xi,W0=Qe.exports,Zl=Pr,U0=ct.exports.Buffer,H0=[1518500249,1859775393,-1894007588,-899497514],V0=new Array(80);function vn(){this.init(),this._w=V0,Zl.call(this,64,56)}W0(vn,Zl);vn.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function z0(t){return t<<5|t>>>27}function q0(t){return t<<30|t>>>2}function G0(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}vn.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,o=this._d|0,s=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=e[a-3]^e[a-8]^e[a-14]^e[a-16];for(var u=0;u<80;++u){var c=~~(u/20),l=z0(r)+G0(c,n,i,o)+s+e[u]+H0[c]|0;s=o,o=i,i=q0(n),n=r,r=l}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0};vn.prototype._hash=function(){var t=U0.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var Q0=vn,Y0=Qe.exports,Xl=Pr,K0=ct.exports.Buffer,J0=[1518500249,1859775393,-1894007588,-899497514],Z0=new Array(80);function mn(){this.init(),this._w=Z0,Xl.call(this,64,56)}Y0(mn,Xl);mn.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function X0(t){return t<<1|t>>>31}function ev(t){return t<<5|t>>>27}function tv(t){return t<<30|t>>>2}function rv(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}mn.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,o=this._d|0,s=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=X0(e[a-3]^e[a-8]^e[a-14]^e[a-16]);for(var u=0;u<80;++u){var c=~~(u/20),l=ev(r)+rv(c,n,i,o)+s+e[u]+J0[c]|0;s=o,o=i,i=tv(n),n=r,r=l}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0};mn.prototype._hash=function(){var t=K0.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var nv=mn,iv=Qe.exports,ef=Pr,ov=ct.exports.Buffer,sv=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],av=new Array(64);function _n(){this.init(),this._w=av,ef.call(this,64,56)}iv(_n,ef);_n.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function uv(t,e,r){return r^t&(e^r)}function cv(t,e,r){return t&e|r&(t|e)}function lv(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function fv(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function hv(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function dv(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}_n.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,o=this._d|0,s=this._e|0,a=this._f|0,u=this._g|0,c=this._h|0,l=0;l<16;++l)e[l]=t.readInt32BE(l*4);for(;l<64;++l)e[l]=dv(e[l-2])+e[l-7]+hv(e[l-15])+e[l-16]|0;for(var b=0;b<64;++b){var f=c+fv(s)+uv(s,a,u)+sv[b]+e[b]|0,p=lv(r)+cv(r,n,i)|0;c=u,u=a,a=s,s=o+f|0,o=i,i=n,n=r,r=f+p|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0,this._f=a+this._f|0,this._g=u+this._g|0,this._h=c+this._h|0};_n.prototype._hash=function(){var t=ov.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};var tf=_n,pv=Qe.exports,yv=tf,bv=Pr,gv=ct.exports.Buffer,vv=new Array(64);function Ai(){this.init(),this._w=vv,bv.call(this,64,56)}pv(Ai,yv);Ai.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};Ai.prototype._hash=function(){var t=gv.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};var mv=Ai,_v=Qe.exports,rf=Pr,wv=ct.exports.Buffer,Ru=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],Sv=new Array(160);function wn(){this.init(),this._w=Sv,rf.call(this,128,112)}_v(wn,rf);wn.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Mu(t,e,r){return r^t&(e^r)}function Ou(t,e,r){return t&e|r&(t|e)}function Tu(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function Pu(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function Ev(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function xv(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function Av(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function Cv(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function Se(t,e){return t>>>0<e>>>0?1:0}wn.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,o=this._dh|0,s=this._eh|0,a=this._fh|0,u=this._gh|0,c=this._hh|0,l=this._al|0,b=this._bl|0,f=this._cl|0,p=this._dl|0,g=this._el|0,C=this._fl|0,I=this._gl|0,y=this._hl|0,v=0;v<32;v+=2)e[v]=t.readInt32BE(v*4),e[v+1]=t.readInt32BE(v*4+4);for(;v<160;v+=2){var x=e[v-30],P=e[v-15*2+1],$=Ev(x,P),H=xv(P,x);x=e[v-2*2],P=e[v-2*2+1];var Y=Av(x,P),K=Cv(P,x),L=e[v-7*2],G=e[v-7*2+1],F=e[v-16*2],m=e[v-16*2+1],E=H+G|0,A=$+L+Se(E,H)|0;E=E+K|0,A=A+Y+Se(E,K)|0,E=E+m|0,A=A+F+Se(E,m)|0,e[v]=A,e[v+1]=E}for(var R=0;R<160;R+=2){A=e[R],E=e[R+1];var B=Ou(r,n,i),T=Ou(l,b,f),z=Tu(r,l),J=Tu(l,r),ae=Pu(s,g),Q=Pu(g,s),S=Ru[R],k=Ru[R+1],O=Mu(s,a,u),V=Mu(g,C,I),_=y+Q|0,w=c+ae+Se(_,y)|0;_=_+V|0,w=w+O+Se(_,V)|0,_=_+k|0,w=w+S+Se(_,k)|0,_=_+E|0,w=w+A+Se(_,E)|0;var M=J+T|0,W=z+B+Se(M,J)|0;c=u,y=I,u=a,I=C,a=s,C=g,g=p+_|0,s=o+w+Se(g,p)|0,o=i,p=f,i=n,f=b,n=r,b=l,l=_+M|0,r=w+W+Se(l,_)|0}this._al=this._al+l|0,this._bl=this._bl+b|0,this._cl=this._cl+f|0,this._dl=this._dl+p|0,this._el=this._el+g|0,this._fl=this._fl+C|0,this._gl=this._gl+I|0,this._hl=this._hl+y|0,this._ah=this._ah+r+Se(this._al,l)|0,this._bh=this._bh+n+Se(this._bl,b)|0,this._ch=this._ch+i+Se(this._cl,f)|0,this._dh=this._dh+o+Se(this._dl,p)|0,this._eh=this._eh+s+Se(this._el,g)|0,this._fh=this._fh+a+Se(this._fl,C)|0,this._gh=this._gh+u+Se(this._gl,I)|0,this._hh=this._hh+c+Se(this._hl,y)|0};wn.prototype._hash=function(){var t=wv.allocUnsafe(64);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};var nf=wn,kv=Qe.exports,Iv=nf,Rv=Pr,Mv=ct.exports.Buffer,Ov=new Array(160);function Ci(){this.init(),this._w=Ov,Rv.call(this,128,112)}kv(Ci,Iv);Ci.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};Ci.prototype._hash=function(){var t=Mv.allocUnsafe(48);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};var Tv=Ci,Yt=Kl.exports=function(e){e=e.toLowerCase();var r=Yt[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};Yt.sha=Q0;Yt.sha1=nv;Yt.sha224=mv;Yt.sha256=tf;Yt.sha384=Tv;Yt.sha512=nf;var Z={},of=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,r);if(s.value!==i||s.enumerable!==!0)return!1}return!0},Nu=typeof Symbol<"u"&&Symbol,Pv=of,Nv=function(){return typeof Nu!="function"||typeof Symbol!="function"||typeof Nu("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Pv()},jv="Function.prototype.bind called on incompatible ",ns=Array.prototype.slice,Dv=Object.prototype.toString,Lv="[object Function]",Bv=function(e){var r=this;if(typeof r!="function"||Dv.call(r)!==Lv)throw new TypeError(jv+r);for(var n=ns.call(arguments,1),i,o=function(){if(this instanceof i){var l=r.apply(this,n.concat(ns.call(arguments)));return Object(l)===l?l:this}else return r.apply(e,n.concat(ns.call(arguments)))},s=Math.max(0,r.length-n.length),a=[],u=0;u<s;u++)a.push("$"+u);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var c=function(){};c.prototype=r.prototype,i.prototype=new c,c.prototype=null}return i},Fv=Bv,Sn=Function.prototype.bind||Fv,$v=Sn,Da=$v.call(Function.call,Object.prototype.hasOwnProperty),le,un=SyntaxError,sf=Function,lr=TypeError,is=function(t){try{return sf('"use strict"; return ('+t+").constructor;")()}catch{}},Ht=Object.getOwnPropertyDescriptor;if(Ht)try{Ht({},"")}catch{Ht=null}var os=function(){throw new lr},Wv=Ht?function(){try{return arguments.callee,os}catch{try{return Ht(arguments,"callee").get}catch{return os}}}():os,tr=Nv(),Et=Object.getPrototypeOf||function(t){return t.__proto__},ir={},Uv=typeof Uint8Array>"u"?le:Et(Uint8Array),fr={"%AggregateError%":typeof AggregateError>"u"?le:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?le:ArrayBuffer,"%ArrayIteratorPrototype%":tr?Et([][Symbol.iterator]()):le,"%AsyncFromSyncIteratorPrototype%":le,"%AsyncFunction%":ir,"%AsyncGenerator%":ir,"%AsyncGeneratorFunction%":ir,"%AsyncIteratorPrototype%":ir,"%Atomics%":typeof Atomics>"u"?le:Atomics,"%BigInt%":typeof BigInt>"u"?le:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?le:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?le:Float32Array,"%Float64Array%":typeof Float64Array>"u"?le:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?le:FinalizationRegistry,"%Function%":sf,"%GeneratorFunction%":ir,"%Int8Array%":typeof Int8Array>"u"?le:Int8Array,"%Int16Array%":typeof Int16Array>"u"?le:Int16Array,"%Int32Array%":typeof Int32Array>"u"?le:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":tr?Et(Et([][Symbol.iterator]())):le,"%JSON%":typeof JSON=="object"?JSON:le,"%Map%":typeof Map>"u"?le:Map,"%MapIteratorPrototype%":typeof Map>"u"||!tr?le:Et(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?le:Promise,"%Proxy%":typeof Proxy>"u"?le:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?le:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?le:Set,"%SetIteratorPrototype%":typeof Set>"u"||!tr?le:Et(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?le:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":tr?Et(""[Symbol.iterator]()):le,"%Symbol%":tr?Symbol:le,"%SyntaxError%":un,"%ThrowTypeError%":Wv,"%TypedArray%":Uv,"%TypeError%":lr,"%Uint8Array%":typeof Uint8Array>"u"?le:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?le:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?le:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?le:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?le:WeakMap,"%WeakRef%":typeof WeakRef>"u"?le:WeakRef,"%WeakSet%":typeof WeakSet>"u"?le:WeakSet},Hv=function t(e){var r;if(e==="%AsyncFunction%")r=is("async function () {}");else if(e==="%GeneratorFunction%")r=is("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=is("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&(r=Et(i.prototype))}return fr[e]=r,r},ju={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ki=Sn,ri=Da,Vv=ki.call(Function.call,Array.prototype.concat),zv=ki.call(Function.apply,Array.prototype.splice),Du=ki.call(Function.call,String.prototype.replace),ni=ki.call(Function.call,String.prototype.slice),qv=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Gv=/\\(\\)?/g,Qv=function(e){var r=ni(e,0,1),n=ni(e,-1);if(r==="%"&&n!=="%")throw new un("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new un("invalid intrinsic syntax, expected opening `%`");var i=[];return Du(e,qv,function(o,s,a,u){i[i.length]=a?Du(u,Gv,"$1"):s||o}),i},Yv=function(e,r){var n=e,i;if(ri(ju,n)&&(i=ju[n],n="%"+i[0]+"%"),ri(fr,n)){var o=fr[n];if(o===ir&&(o=Hv(n)),typeof o>"u"&&!r)throw new lr("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new un("intrinsic "+e+" does not exist!")},La=function(e,r){if(typeof e!="string"||e.length===0)throw new lr("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new lr('"allowMissing" argument must be a boolean');var n=Qv(e),i=n.length>0?n[0]:"",o=Yv("%"+i+"%",r),s=o.name,a=o.value,u=!1,c=o.alias;c&&(i=c[0],zv(n,Vv([0,1],c)));for(var l=1,b=!0;l<n.length;l+=1){var f=n[l],p=ni(f,0,1),g=ni(f,-1);if((p==='"'||p==="'"||p==="`"||g==='"'||g==="'"||g==="`")&&p!==g)throw new un("property names with quotes must have matching quotes");if((f==="constructor"||!b)&&(u=!0),i+="."+f,s="%"+i+"%",ri(fr,s))a=fr[s];else if(a!=null){if(!(f in a)){if(!r)throw new lr("base intrinsic for "+e+" exists, but the property is not available.");return}if(Ht&&l+1>=n.length){var C=Ht(a,f);b=!!C,b&&"get"in C&&!("originalValue"in C.get)?a=C.get:a=a[f]}else b=ri(a,f),a=a[f];b&&!u&&(fr[s]=a)}}return a},af={exports:{}};(function(t){var e=Sn,r=La,n=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),o=r("%Reflect.apply%",!0)||e.call(i,n),s=r("%Object.getOwnPropertyDescriptor%",!0),a=r("%Object.defineProperty%",!0),u=r("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}t.exports=function(b){var f=o(e,i,arguments);if(s&&a){var p=s(f,"length");p.configurable&&a(f,"length",{value:1+u(0,b.length-(arguments.length-1))})}return f};var c=function(){return o(e,n,arguments)};a?a(t.exports,"apply",{value:c}):t.exports.apply=c})(af);var uf=La,cf=af.exports,Kv=cf(uf("String.prototype.indexOf")),Ii=function(e,r){var n=uf(e,!!r);return typeof n=="function"&&Kv(e,".prototype.")>-1?cf(n):n},Ba=typeof Map=="function"&&Map.prototype,ss=Object.getOwnPropertyDescriptor&&Ba?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,ii=Ba&&ss&&typeof ss.get=="function"?ss.get:null,Jv=Ba&&Map.prototype.forEach,Fa=typeof Set=="function"&&Set.prototype,as=Object.getOwnPropertyDescriptor&&Fa?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,oi=Fa&&as&&typeof as.get=="function"?as.get:null,Zv=Fa&&Set.prototype.forEach,Xv=typeof WeakMap=="function"&&WeakMap.prototype,Qr=Xv?WeakMap.prototype.has:null,em=typeof WeakSet=="function"&&WeakSet.prototype,Yr=em?WeakSet.prototype.has:null,tm=typeof WeakRef=="function"&&WeakRef.prototype,Lu=tm?WeakRef.prototype.deref:null,rm=Boolean.prototype.valueOf,nm=Object.prototype.toString,im=Function.prototype.toString,om=String.prototype.match,ua=typeof BigInt=="function"?BigInt.prototype.valueOf:null,us=Object.getOwnPropertySymbols,ca=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,cn=typeof Symbol=="function"&&typeof Symbol.iterator=="object",sm=Object.prototype.propertyIsEnumerable,Bu=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null),cs=Sa.custom,ls=cs&&ff(cs)?cs:null,Pe=typeof Symbol=="function"&&typeof Symbol.toStringTag<"u"?Symbol.toStringTag:null,am=function t(e,r,n,i){var o=r||{};if(Lt(o,"quoteStyle")&&o.quoteStyle!=="single"&&o.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Lt(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=Lt(o,"customInspect")?o.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Lt(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return df(e,o);if(typeof e=="number")return e===0?1/0/e>0?"0":"-0":String(e);if(typeof e=="bigint")return String(e)+"n";var a=typeof o.depth>"u"?5:o.depth;if(typeof n>"u"&&(n=0),n>=a&&a>0&&typeof e=="object")return la(e)?"[Array]":"[Object]";var u=Cm(o,n);if(typeof i>"u")i=[];else if(hf(i,e)>=0)return"[Circular]";function c(G,F,m){if(F&&(i=i.slice(),i.push(F)),m){var E={depth:o.depth};return Lt(o,"quoteStyle")&&(E.quoteStyle=o.quoteStyle),t(G,E,n+1,i)}return t(G,o,n+1,i)}if(typeof e=="function"){var l=gm(e),b=Pn(e,c);return"[Function"+(l?": "+l:" (anonymous)")+"]"+(b.length>0?" { "+b.join(", ")+" }":"")}if(ff(e)){var f=cn?String(e).replace(/^(Symbol\(.*\))_[^)]*$/,"$1"):ca.call(e);return typeof e=="object"&&!cn?Wr(f):f}if(Em(e)){for(var p="<"+String(e.nodeName).toLowerCase(),g=e.attributes||[],C=0;C<g.length;C++)p+=" "+g[C].name+"="+lf(um(g[C].value),"double",o);return p+=">",e.childNodes&&e.childNodes.length&&(p+="..."),p+="</"+String(e.nodeName).toLowerCase()+">",p}if(la(e)){if(e.length===0)return"[]";var I=Pn(e,c);return u&&!Am(I)?"["+fa(I,u)+"]":"[ "+I.join(", ")+" ]"}if(fm(e)){var y=Pn(e,c);return y.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+y.join(", ")+" }"}if(typeof e=="object"&&s){if(ls&&typeof e[ls]=="function")return e[ls]();if(s!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(vm(e)){var v=[];return Jv.call(e,function(G,F){v.push(c(F,e,!0)+" => "+c(G,e))}),Fu("Map",ii.call(e),v,u)}if(wm(e)){var x=[];return Zv.call(e,function(G){x.push(c(G,e))}),Fu("Set",oi.call(e),x,u)}if(mm(e))return fs("WeakMap");if(Sm(e))return fs("WeakSet");if(_m(e))return fs("WeakRef");if(dm(e))return Wr(c(Number(e)));if(ym(e))return Wr(c(ua.call(e)));if(pm(e))return Wr(rm.call(e));if(hm(e))return Wr(c(String(e)));if(!cm(e)&&!lm(e)){var P=Pn(e,c),$=Bu?Bu(e)===Object.prototype:e instanceof Object||e.constructor===Object,H=e instanceof Object?"":"null prototype",Y=!$&&Pe&&Object(e)===e&&Pe in e?Nt(e).slice(8,-1):H?"Object":"",K=$||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",L=K+(Y||H?"["+[].concat(Y||[],H||[]).join(": ")+"] ":"");return P.length===0?L+"{}":u?L+"{"+fa(P,u)+"}":L+"{ "+P.join(", ")+" }"}return String(e)};function lf(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function um(t){return String(t).replace(/"/g,"&quot;")}function la(t){return Nt(t)==="[object Array]"&&(!Pe||!(typeof t=="object"&&Pe in t))}function cm(t){return Nt(t)==="[object Date]"&&(!Pe||!(typeof t=="object"&&Pe in t))}function lm(t){return Nt(t)==="[object RegExp]"&&(!Pe||!(typeof t=="object"&&Pe in t))}function fm(t){return Nt(t)==="[object Error]"&&(!Pe||!(typeof t=="object"&&Pe in t))}function hm(t){return Nt(t)==="[object String]"&&(!Pe||!(typeof t=="object"&&Pe in t))}function dm(t){return Nt(t)==="[object Number]"&&(!Pe||!(typeof t=="object"&&Pe in t))}function pm(t){return Nt(t)==="[object Boolean]"&&(!Pe||!(typeof t=="object"&&Pe in t))}function ff(t){if(cn)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!ca)return!1;try{return ca.call(t),!0}catch{}return!1}function ym(t){if(!t||typeof t!="object"||!ua)return!1;try{return ua.call(t),!0}catch{}return!1}var bm=Object.prototype.hasOwnProperty||function(t){return t in this};function Lt(t,e){return bm.call(t,e)}function Nt(t){return nm.call(t)}function gm(t){if(t.name)return t.name;var e=om.call(im.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function hf(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function vm(t){if(!ii||!t||typeof t!="object")return!1;try{ii.call(t);try{oi.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function mm(t){if(!Qr||!t||typeof t!="object")return!1;try{Qr.call(t,Qr);try{Yr.call(t,Yr)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function _m(t){if(!Lu||!t||typeof t!="object")return!1;try{return Lu.call(t),!0}catch{}return!1}function wm(t){if(!oi||!t||typeof t!="object")return!1;try{oi.call(t);try{ii.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function Sm(t){if(!Yr||!t||typeof t!="object")return!1;try{Yr.call(t,Yr);try{Qr.call(t,Qr)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function Em(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function df(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return df(t.slice(0,e.maxStringLength),e)+n}var i=t.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,xm);return lf(i,"single",e)}function xm(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+e.toString(16).toUpperCase()}function Wr(t){return"Object("+t+")"}function fs(t){return t+" { ? }"}function Fu(t,e,r,n){var i=n?fa(r,n):r.join(", ");return t+" ("+e+") {"+i+"}"}function Am(t){for(var e=0;e<t.length;e++)if(hf(t[e],`
`)>=0)return!1;return!0}function Cm(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Array(t.indent+1).join(" ");else return null;return{base:r,prev:Array(e+1).join(r)}}function fa(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+t.join(","+r)+`
`+e.prev}function Pn(t,e){var r=la(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=Lt(t,i)?e(t[i],t):""}var o=typeof us=="function"?us(t):[],s;if(cn){s={};for(var a=0;a<o.length;a++)s["$"+o[a]]=o[a]}for(var u in t)!Lt(t,u)||r&&String(Number(u))===u&&u<t.length||cn&&s["$"+u]instanceof Symbol||(/[^\w$]/.test(u)?n.push(e(u,t)+": "+e(t[u],t)):n.push(u+": "+e(t[u],t)));if(typeof us=="function")for(var c=0;c<o.length;c++)sm.call(t,o[c])&&n.push("["+e(o[c])+"]: "+e(t[o[c]],t));return n}var $a=La,Nr=Ii,km=am,Im=$a("%TypeError%"),Nn=$a("%WeakMap%",!0),jn=$a("%Map%",!0),Rm=Nr("WeakMap.prototype.get",!0),Mm=Nr("WeakMap.prototype.set",!0),Om=Nr("WeakMap.prototype.has",!0),Tm=Nr("Map.prototype.get",!0),Pm=Nr("Map.prototype.set",!0),Nm=Nr("Map.prototype.has",!0),Wa=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},jm=function(t,e){var r=Wa(t,e);return r&&r.value},Dm=function(t,e,r){var n=Wa(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},Lm=function(t,e){return!!Wa(t,e)},Bm=function(){var e,r,n,i={assert:function(o){if(!i.has(o))throw new Im("Side channel does not contain "+km(o))},get:function(o){if(Nn&&o&&(typeof o=="object"||typeof o=="function")){if(e)return Rm(e,o)}else if(jn){if(r)return Tm(r,o)}else if(n)return jm(n,o)},has:function(o){if(Nn&&o&&(typeof o=="object"||typeof o=="function")){if(e)return Om(e,o)}else if(jn){if(r)return Nm(r,o)}else if(n)return Lm(n,o);return!1},set:function(o,s){Nn&&o&&(typeof o=="object"||typeof o=="function")?(e||(e=new Nn),Mm(e,o,s)):jn?(r||(r=new jn),Pm(r,o,s)):(n||(n={key:{},next:null}),Dm(n,o,s))}};return i},Fm=String.prototype.replace,$m=/%20/g,hs={RFC1738:"RFC1738",RFC3986:"RFC3986"},Ua={default:hs.RFC3986,formatters:{RFC1738:function(t){return Fm.call(t,$m,"+")},RFC3986:function(t){return String(t)}},RFC1738:hs.RFC1738,RFC3986:hs.RFC3986},Wm=Ua,ds=Object.prototype.hasOwnProperty,Bt=Array.isArray,it=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),Um=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Bt(n)){for(var i=[],o=0;o<n.length;++o)typeof n[o]<"u"&&i.push(n[o]);r.obj[r.prop]=i}}},pf=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},Hm=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(Bt(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!ds.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return Bt(e)&&!Bt(r)&&(i=pf(e,n)),Bt(e)&&Bt(r)?(r.forEach(function(o,s){if(ds.call(e,s)){var a=e[s];a&&typeof a=="object"&&o&&typeof o=="object"?e[s]=t(a,o,n):e.push(o)}else e[s]=o}),e):Object.keys(r).reduce(function(o,s){var a=r[s];return ds.call(o,s)?o[s]=t(o[s],a,n):o[s]=a,o},i)},Vm=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},zm=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},qm=function(e,r,n,i,o){if(e.length===0)return e;var s=e;if(typeof e=="symbol"?s=Symbol.prototype.toString.call(e):typeof e!="string"&&(s=String(e)),n==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});for(var a="",u=0;u<s.length;++u){var c=s.charCodeAt(u);if(c===45||c===46||c===95||c===126||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||o===Wm.RFC1738&&(c===40||c===41)){a+=s.charAt(u);continue}if(c<128){a=a+it[c];continue}if(c<2048){a=a+(it[192|c>>6]+it[128|c&63]);continue}if(c<55296||c>=57344){a=a+(it[224|c>>12]+it[128|c>>6&63]+it[128|c&63]);continue}u+=1,c=65536+((c&1023)<<10|s.charCodeAt(u)&1023),a+=it[240|c>>18]+it[128|c>>12&63]+it[128|c>>6&63]+it[128|c&63]}return a},Gm=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var o=r[i],s=o.obj[o.prop],a=Object.keys(s),u=0;u<a.length;++u){var c=a[u],l=s[c];typeof l=="object"&&l!==null&&n.indexOf(l)===-1&&(r.push({obj:s,prop:c}),n.push(l))}return Um(r),e},Qm=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Ym=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Km=function(e,r){return[].concat(e,r)},Jm=function(e,r){if(Bt(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},yf={arrayToObject:pf,assign:Vm,combine:Km,compact:Gm,decode:zm,encode:qm,isBuffer:Ym,isRegExp:Qm,maybeMap:Jm,merge:Hm},bf=Bm,ha=yf,Kr=Ua,Zm=Object.prototype.hasOwnProperty,$u={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},dt=Array.isArray,Xm=String.prototype.split,e1=Array.prototype.push,gf=function(t,e){e1.apply(t,dt(e)?e:[e])},t1=Date.prototype.toISOString,Wu=Kr.default,Ie={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:ha.encode,encodeValuesOnly:!1,format:Wu,formatter:Kr.formatters[Wu],indices:!1,serializeDate:function(e){return t1.call(e)},skipNulls:!1,strictNullHandling:!1},r1=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},ps={},n1=function t(e,r,n,i,o,s,a,u,c,l,b,f,p,g,C,I){for(var y=e,v=I,x=0,P=!1;(v=v.get(ps))!==void 0&&!P;){var $=v.get(e);if(x+=1,typeof $<"u"){if($===x)throw new RangeError("Cyclic object value");P=!0}typeof v.get(ps)>"u"&&(x=0)}if(typeof u=="function"?y=u(r,y):y instanceof Date?y=b(y):n==="comma"&&dt(y)&&(y=ha.maybeMap(y,function(J){return J instanceof Date?b(J):J})),y===null){if(o)return a&&!g?a(r,Ie.encoder,C,"key",f):r;y=""}if(r1(y)||ha.isBuffer(y)){if(a){var H=g?r:a(r,Ie.encoder,C,"key",f);if(n==="comma"&&g){for(var Y=Xm.call(String(y),","),K="",L=0;L<Y.length;++L)K+=(L===0?"":",")+p(a(Y[L],Ie.encoder,C,"value",f));return[p(H)+(i&&dt(y)&&Y.length===1?"[]":"")+"="+K]}return[p(H)+"="+p(a(y,Ie.encoder,C,"value",f))]}return[p(r)+"="+p(String(y))]}var G=[];if(typeof y>"u")return G;var F;if(n==="comma"&&dt(y))F=[{value:y.length>0?y.join(",")||null:void 0}];else if(dt(u))F=u;else{var m=Object.keys(y);F=c?m.sort(c):m}for(var E=i&&dt(y)&&y.length===1?r+"[]":r,A=0;A<F.length;++A){var R=F[A],B=typeof R=="object"&&typeof R.value<"u"?R.value:y[R];if(!(s&&B===null)){var T=dt(y)?typeof n=="function"?n(E,R):E:E+(l?"."+R:"["+R+"]");I.set(e,x);var z=bf();z.set(ps,I),gf(G,t(B,T,n,i,o,s,a,u,c,l,b,f,p,g,C,z))}}return G},i1=function(e){if(!e)return Ie;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Ie.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Kr.default;if(typeof e.format<"u"){if(!Zm.call(Kr.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=Kr.formatters[n],o=Ie.filter;return(typeof e.filter=="function"||dt(e.filter))&&(o=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Ie.addQueryPrefix,allowDots:typeof e.allowDots>"u"?Ie.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Ie.charsetSentinel,delimiter:typeof e.delimiter>"u"?Ie.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Ie.encode,encoder:typeof e.encoder=="function"?e.encoder:Ie.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Ie.encodeValuesOnly,filter:o,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Ie.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Ie.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Ie.strictNullHandling}},o1=function(t,e){var r=t,n=i1(e),i,o;typeof n.filter=="function"?(o=n.filter,r=o("",r)):dt(n.filter)&&(o=n.filter,i=o);var s=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in $u?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var u=$u[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var c=u==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var l=bf(),b=0;b<i.length;++b){var f=i[b];n.skipNulls&&r[f]===null||gf(s,n1(r[f],f,u,c,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}var p=s.join(n.delimiter),g=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?g+="utf8=%26%2310003%3B&":g+="utf8=%E2%9C%93&"),p.length>0?g+p:""},mr=yf,da=Object.prototype.hasOwnProperty,s1=Array.isArray,xe={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:mr.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a1=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},vf=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},u1="utf8=%26%2310003%3B",c1="utf8=%E2%9C%93",l1=function(e,r){var n={},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=r.parameterLimit===1/0?void 0:r.parameterLimit,s=i.split(r.delimiter,o),a=-1,u,c=r.charset;if(r.charsetSentinel)for(u=0;u<s.length;++u)s[u].indexOf("utf8=")===0&&(s[u]===c1?c="utf-8":s[u]===u1&&(c="iso-8859-1"),a=u,u=s.length);for(u=0;u<s.length;++u)if(u!==a){var l=s[u],b=l.indexOf("]="),f=b===-1?l.indexOf("="):b+1,p,g;f===-1?(p=r.decoder(l,xe.decoder,c,"key"),g=r.strictNullHandling?null:""):(p=r.decoder(l.slice(0,f),xe.decoder,c,"key"),g=mr.maybeMap(vf(l.slice(f+1),r),function(C){return r.decoder(C,xe.decoder,c,"value")})),g&&r.interpretNumericEntities&&c==="iso-8859-1"&&(g=a1(g)),l.indexOf("[]=")>-1&&(g=s1(g)?[g]:g),da.call(n,p)?n[p]=mr.combine(n[p],g):n[p]=g}return n},f1=function(t,e,r,n){for(var i=n?e:vf(e,r),o=t.length-1;o>=0;--o){var s,a=t[o];if(a==="[]"&&r.parseArrays)s=[].concat(i);else{s=r.plainObjects?Object.create(null):{};var u=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,c=parseInt(u,10);!r.parseArrays&&u===""?s={0:i}:!isNaN(c)&&a!==u&&String(c)===u&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(s=[],s[c]=i):u!=="__proto__"&&(s[u]=i)}i=s}return i},h1=function(e,r,n,i){if(!!e){var o=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,u=n.depth>0&&s.exec(o),c=u?o.slice(0,u.index):o,l=[];if(c){if(!n.plainObjects&&da.call(Object.prototype,c)&&!n.allowPrototypes)return;l.push(c)}for(var b=0;n.depth>0&&(u=a.exec(o))!==null&&b<n.depth;){if(b+=1,!n.plainObjects&&da.call(Object.prototype,u[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(u[1])}return u&&l.push("["+o.slice(u.index)+"]"),f1(l,r,n,i)}},d1=function(e){if(!e)return xe;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?xe.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?xe.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:xe.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:xe.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:xe.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:xe.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:xe.comma,decoder:typeof e.decoder=="function"?e.decoder:xe.decoder,delimiter:typeof e.delimiter=="string"||mr.isRegExp(e.delimiter)?e.delimiter:xe.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:xe.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:xe.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:xe.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:xe.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:xe.strictNullHandling}},p1=function(t,e){var r=d1(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?l1(t,r):t,i=r.plainObjects?Object.create(null):{},o=Object.keys(n),s=0;s<o.length;++s){var a=o[s],u=h1(a,n[a],r,typeof t=="string");i=mr.merge(i,u,r)}return r.allowSparse===!0?i:mr.compact(i)},y1=o1,b1=p1,g1=Ua,v1={formats:g1,parse:b1,stringify:y1},En={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ProviderType=t.RegExpString=t.IntNumber=t.BigIntString=t.AddressString=t.HexString=t.OpaqueType=void 0;function e(){return n=>n}t.OpaqueType=e,t.HexString=e(),t.AddressString=e(),t.BigIntString=e();function r(n){return Math.floor(n)}t.IntNumber=r,t.RegExpString=e(),function(n){n.CoinbaseWallet="CoinbaseWallet",n.MetaMask="MetaMask",n.Unselected=""}(t.ProviderType||(t.ProviderType={}))})(En);var m1=ie&&ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Z,"__esModule",{value:!0});Z.isInIFrame=Z.createQrUrl=Z.getFavicon=Z.range=Z.isBigNumber=Z.ensureParsedJSONObject=Z.ensureBN=Z.ensureRegExpString=Z.ensureIntNumber=Z.ensureBuffer=Z.ensureAddressString=Z.ensureEvenLengthHexString=Z.ensureHexString=Z.isHexString=Z.prepend0x=Z.strip0x=Z.has0xPrefix=Z.hexStringFromIntNumber=Z.intNumberFromHexString=Z.bigIntStringFromBN=Z.hexStringFromBuffer=Z.hexStringToUint8Array=Z.uint8ArrayToHex=Z.randomBytesHex=void 0;const At=m1(di.exports),_1=v1,Ge=En,mf=/^[0-9]*$/,_f=/^[a-f0-9]*$/;function w1(t){return wf(crypto.getRandomValues(new Uint8Array(t)))}Z.randomBytesHex=w1;function wf(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}Z.uint8ArrayToHex=wf;function S1(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>parseInt(e,16)))}Z.hexStringToUint8Array=S1;function E1(t,e=!1){const r=t.toString("hex");return(0,Ge.HexString)(e?"0x"+r:r)}Z.hexStringFromBuffer=E1;function x1(t){return(0,Ge.BigIntString)(t.toString(10))}Z.bigIntStringFromBN=x1;function A1(t){return(0,Ge.IntNumber)(new At.default(An(t,!1),16).toNumber())}Z.intNumberFromHexString=A1;function C1(t){return(0,Ge.HexString)("0x"+new At.default(t).toString(16))}Z.hexStringFromIntNumber=C1;function Ha(t){return t.startsWith("0x")||t.startsWith("0X")}Z.has0xPrefix=Ha;function Ri(t){return Ha(t)?t.slice(2):t}Z.strip0x=Ri;function Sf(t){return Ha(t)?"0x"+t.slice(2):"0x"+t}Z.prepend0x=Sf;function xn(t){if(typeof t!="string")return!1;const e=Ri(t).toLowerCase();return _f.test(e)}Z.isHexString=xn;function Ef(t,e=!1){if(typeof t=="string"){const r=Ri(t).toLowerCase();if(_f.test(r))return(0,Ge.HexString)(e?"0x"+r:r)}throw new Error(`"${String(t)}" is not a hexadecimal string`)}Z.ensureHexString=Ef;function An(t,e=!1){let r=Ef(t,!1);return r.length%2===1&&(r=(0,Ge.HexString)("0"+r)),e?(0,Ge.HexString)("0x"+r):r}Z.ensureEvenLengthHexString=An;function k1(t){if(typeof t=="string"){const e=Ri(t).toLowerCase();if(xn(e)&&e.length===40)return(0,Ge.AddressString)(Sf(e))}throw new Error(`Invalid Ethereum address: ${String(t)}`)}Z.ensureAddressString=k1;function I1(t){if(Buffer.isBuffer(t))return t;if(typeof t=="string")if(xn(t)){const e=An(t,!1);return Buffer.from(e,"hex")}else return Buffer.from(t,"utf8");throw new Error(`Not binary data: ${String(t)}`)}Z.ensureBuffer=I1;function xf(t){if(typeof t=="number"&&Number.isInteger(t))return(0,Ge.IntNumber)(t);if(typeof t=="string"){if(mf.test(t))return(0,Ge.IntNumber)(Number(t));if(xn(t))return(0,Ge.IntNumber)(new At.default(An(t,!1),16).toNumber())}throw new Error(`Not an integer: ${String(t)}`)}Z.ensureIntNumber=xf;function R1(t){if(t instanceof RegExp)return(0,Ge.RegExpString)(t.toString());throw new Error(`Not a RegExp: ${String(t)}`)}Z.ensureRegExpString=R1;function M1(t){if(t!==null&&(At.default.isBN(t)||Af(t)))return new At.default(t.toString(10),10);if(typeof t=="number")return new At.default(xf(t));if(typeof t=="string"){if(mf.test(t))return new At.default(t,10);if(xn(t))return new At.default(An(t,!1),16)}throw new Error(`Not an integer: ${String(t)}`)}Z.ensureBN=M1;function O1(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw new Error(`Not a JSON string or an object: ${String(t)}`)}Z.ensureParsedJSONObject=O1;function Af(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}Z.isBigNumber=Af;function T1(t,e){return Array.from({length:e-t},(r,n)=>t+n)}Z.range=T1;function P1(){const t=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:r}=document.location,n=t?t.getAttribute("href"):null;return!n||n.startsWith("javascript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?e+n:`${e}//${r}${n}`}Z.getFavicon=P1;function N1(t,e,r,n,i,o){const s=n?"parent-id":"id",a=(0,_1.stringify)({[s]:t,secret:e,server:r,v:i,chainId:o});return`${r}/#/link?${a}`}Z.createQrUrl=N1;function j1(){try{return window.frameElement!==null}catch{return!1}}Z.isInIFrame=j1;Object.defineProperty(Ir,"__esModule",{value:!0});Ir.Session=void 0;const D1=Tr,Uu=Ei,Hu=Kl.exports,Vu=Z,ys="session:id",zu="session:secret",qu="session:linked";class Va{constructor(e,r,n,i){this._storage=e,this._id=r||(0,Vu.randomBytesHex)(16),this._secret=n||(0,Vu.randomBytesHex)(32),this._key=new Hu.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(e){const r=e.getItem(ys),n=e.getItem(qu),i=e.getItem(zu);return r&&i?new Va(e,r,i,n==="1"):null}static get persistedSessionIdChange$(){return(0,D1.fromEvent)(window,"storage").pipe((0,Uu.filter)(e=>e.key===ys),(0,Uu.map)(e=>({oldValue:e.oldValue||null,newValue:e.newValue||null})))}static hash(e){return new Hu.sha256().update(e).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(ys,this._id),this._storage.setItem(zu,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(qu,this._linked?"1":"0")}}Ir.Session=Va;var tt={};Object.defineProperty(tt,"__esModule",{value:!0});tt.WalletSDKRelayAbstract=tt.APP_VERSION_KEY=tt.LOCAL_STORAGE_ADDRESSES_KEY=tt.WALLET_USER_NAME_KEY=void 0;const Gu=vi;tt.WALLET_USER_NAME_KEY="walletUsername";tt.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";tt.APP_VERSION_KEY="AppVersion";class L1{async makeEthereumJSONRPCRequest(e,r){if(!r)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(r,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{if(!n)throw Gu.ethErrors.rpc.parse({});const i=n,{error:o}=i;if(o)throw(0,Gu.serializeError)(o);return i})}}tt.WalletSDKRelayAbstract=L1;var si={exports:{}},Cf=pi.exports.EventEmitter,bs,Qu;function B1(){if(Qu)return bs;Qu=1;function t(f,p){var g=Object.keys(f);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(f);p&&(C=C.filter(function(I){return Object.getOwnPropertyDescriptor(f,I).enumerable})),g.push.apply(g,C)}return g}function e(f){for(var p=1;p<arguments.length;p++){var g=arguments[p]!=null?arguments[p]:{};p%2?t(Object(g),!0).forEach(function(C){r(f,C,g[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(g)):t(Object(g)).forEach(function(C){Object.defineProperty(f,C,Object.getOwnPropertyDescriptor(g,C))})}return f}function r(f,p,g){return p in f?Object.defineProperty(f,p,{value:g,enumerable:!0,configurable:!0,writable:!0}):f[p]=g,f}function n(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function i(f,p){for(var g=0;g<p.length;g++){var C=p[g];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(f,C.key,C)}}function o(f,p,g){return p&&i(f.prototype,p),g&&i(f,g),f}var s=yi,a=s.Buffer,u=Sa,c=u.inspect,l=c&&c.custom||"inspect";function b(f,p,g){a.prototype.copy.call(f,p,g)}return bs=function(){function f(){n(this,f),this.head=null,this.tail=null,this.length=0}return o(f,[{key:"push",value:function(g){var C={data:g,next:null};this.length>0?this.tail.next=C:this.head=C,this.tail=C,++this.length}},{key:"unshift",value:function(g){var C={data:g,next:this.head};this.length===0&&(this.tail=C),this.head=C,++this.length}},{key:"shift",value:function(){if(this.length!==0){var g=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,g}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(g){if(this.length===0)return"";for(var C=this.head,I=""+C.data;C=C.next;)I+=g+C.data;return I}},{key:"concat",value:function(g){if(this.length===0)return a.alloc(0);for(var C=a.allocUnsafe(g>>>0),I=this.head,y=0;I;)b(I.data,C,y),y+=I.data.length,I=I.next;return C}},{key:"consume",value:function(g,C){var I;return g<this.head.data.length?(I=this.head.data.slice(0,g),this.head.data=this.head.data.slice(g)):g===this.head.data.length?I=this.shift():I=C?this._getString(g):this._getBuffer(g),I}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(g){var C=this.head,I=1,y=C.data;for(g-=y.length;C=C.next;){var v=C.data,x=g>v.length?v.length:g;if(x===v.length?y+=v:y+=v.slice(0,g),g-=x,g===0){x===v.length?(++I,C.next?this.head=C.next:this.head=this.tail=null):(this.head=C,C.data=v.slice(x));break}++I}return this.length-=I,y}},{key:"_getBuffer",value:function(g){var C=a.allocUnsafe(g),I=this.head,y=1;for(I.data.copy(C),g-=I.data.length;I=I.next;){var v=I.data,x=g>v.length?v.length:g;if(v.copy(C,C.length-g,0,x),g-=x,g===0){x===v.length?(++y,I.next?this.head=I.next:this.head=this.tail=null):(this.head=I,I.data=v.slice(x));break}++y}return this.length-=y,C}},{key:l,value:function(g,C){return c(this,e({},C,{depth:0,customInspect:!1}))}}]),f}(),bs}function F1(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(pa,this,t)):process.nextTick(pa,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?r._writableState?r._writableState.errorEmitted?process.nextTick(Vn,r):(r._writableState.errorEmitted=!0,process.nextTick(Yu,r,o)):process.nextTick(Yu,r,o):e?(process.nextTick(Vn,r),e(o)):process.nextTick(Vn,r)}),this)}function Yu(t,e){pa(t,e),Vn(t)}function Vn(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function $1(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function pa(t,e){t.emit("error",e)}function W1(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}var kf={destroy:F1,undestroy:$1,errorOrDestroy:W1},Kt={};function U1(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var If={};function Ke(t,e,r){r||(r=Error);function n(o,s,a){return typeof e=="string"?e:e(o,s,a)}var i=function(o){U1(s,o);function s(a,u,c){return o.call(this,n(a,u,c))||this}return s}(r);i.prototype.name=r.name,i.prototype.code=t,If[t]=i}function Ku(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function H1(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function V1(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function z1(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}Ke("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);Ke("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&H1(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(V1(t," argument"))i="The ".concat(t," ").concat(n," ").concat(Ku(e,"type"));else{var o=z1(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(o," ").concat(n," ").concat(Ku(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);Ke("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Ke("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});Ke("ERR_STREAM_PREMATURE_CLOSE","Premature close");Ke("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});Ke("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Ke("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Ke("ERR_STREAM_WRITE_AFTER_END","write after end");Ke("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Ke("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);Ke("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Kt.codes=If;var q1=Kt.codes.ERR_INVALID_OPT_VALUE;function G1(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function Q1(t,e,r,n){var i=G1(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var o=n?r:"highWaterMark";throw new q1(o,i)}return Math.floor(i)}return t.objectMode?16:16*1024}var Rf={getHighWaterMark:Q1},Y1=K1;function K1(t,e){if(gs("noDeprecation"))return t;var r=!1;function n(){if(!r){if(gs("throwDeprecation"))throw new Error(e);gs("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function gs(t){try{if(!ie.localStorage)return!1}catch{return!1}var e=ie.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}var vs,Ju;function Mf(){if(Ju)return vs;Ju=1,vs=K;function t(_){var w=this;this.next=null,this.entry=null,this.finish=function(){V(w,_)}}var e;K.WritableState=H;var r={deprecate:Y1},n=Cf,i=yi.Buffer,o=ie.Uint8Array||function(){};function s(_){return i.from(_)}function a(_){return i.isBuffer(_)||_ instanceof o}var u=kf,c=Rf,l=c.getHighWaterMark,b=Kt.codes,f=b.ERR_INVALID_ARG_TYPE,p=b.ERR_METHOD_NOT_IMPLEMENTED,g=b.ERR_MULTIPLE_CALLBACK,C=b.ERR_STREAM_CANNOT_PIPE,I=b.ERR_STREAM_DESTROYED,y=b.ERR_STREAM_NULL_VALUES,v=b.ERR_STREAM_WRITE_AFTER_END,x=b.ERR_UNKNOWN_ENCODING,P=u.errorOrDestroy;Qe.exports(K,n);function $(){}function H(_,w,M){e=e||_r(),_=_||{},typeof M!="boolean"&&(M=w instanceof e),this.objectMode=!!_.objectMode,M&&(this.objectMode=this.objectMode||!!_.writableObjectMode),this.highWaterMark=l(this,_,"writableHighWaterMark",M),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var W=_.decodeStrings===!1;this.decodeStrings=!W,this.defaultEncoding=_.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(q){B(w,q)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=_.emitClose!==!1,this.autoDestroy=!!_.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}H.prototype.getBuffer=function(){for(var w=this.bufferedRequest,M=[];w;)M.push(w),w=w.next;return M},function(){try{Object.defineProperty(H.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var Y;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Y=Function.prototype[Symbol.hasInstance],Object.defineProperty(K,Symbol.hasInstance,{value:function(w){return Y.call(this,w)?!0:this!==K?!1:w&&w._writableState instanceof H}})):Y=function(w){return w instanceof this};function K(_){e=e||_r();var w=this instanceof e;if(!w&&!Y.call(K,this))return new K(_);this._writableState=new H(_,this,w),this.writable=!0,_&&(typeof _.write=="function"&&(this._write=_.write),typeof _.writev=="function"&&(this._writev=_.writev),typeof _.destroy=="function"&&(this._destroy=_.destroy),typeof _.final=="function"&&(this._final=_.final)),n.call(this)}K.prototype.pipe=function(){P(this,new C)};function L(_,w){var M=new v;P(_,M),process.nextTick(w,M)}function G(_,w,M,W){var q;return M===null?q=new y:typeof M!="string"&&!w.objectMode&&(q=new f("chunk",["string","Buffer"],M)),q?(P(_,q),process.nextTick(W,q),!1):!0}K.prototype.write=function(_,w,M){var W=this._writableState,q=!1,h=!W.objectMode&&a(_);return h&&!i.isBuffer(_)&&(_=s(_)),typeof w=="function"&&(M=w,w=null),h?w="buffer":w||(w=W.defaultEncoding),typeof M!="function"&&(M=$),W.ending?L(this,M):(h||G(this,W,_,M))&&(W.pendingcb++,q=m(this,W,h,_,w,M)),q},K.prototype.cork=function(){this._writableState.corked++},K.prototype.uncork=function(){var _=this._writableState;_.corked&&(_.corked--,!_.writing&&!_.corked&&!_.bufferProcessing&&_.bufferedRequest&&J(this,_))},K.prototype.setDefaultEncoding=function(w){if(typeof w=="string"&&(w=w.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((w+"").toLowerCase())>-1))throw new x(w);return this._writableState.defaultEncoding=w,this},Object.defineProperty(K.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function F(_,w,M){return!_.objectMode&&_.decodeStrings!==!1&&typeof w=="string"&&(w=i.from(w,M)),w}Object.defineProperty(K.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function m(_,w,M,W,q,h){if(!M){var d=F(w,W,q);W!==d&&(M=!0,q="buffer",W=d)}var j=w.objectMode?1:W.length;w.length+=j;var U=w.length<w.highWaterMark;if(U||(w.needDrain=!0),w.writing||w.corked){var he=w.lastBufferedRequest;w.lastBufferedRequest={chunk:W,encoding:q,isBuf:M,callback:h,next:null},he?he.next=w.lastBufferedRequest:w.bufferedRequest=w.lastBufferedRequest,w.bufferedRequestCount+=1}else E(_,w,!1,j,W,q,h);return U}function E(_,w,M,W,q,h,d){w.writelen=W,w.writecb=d,w.writing=!0,w.sync=!0,w.destroyed?w.onwrite(new I("write")):M?_._writev(q,w.onwrite):_._write(q,h,w.onwrite),w.sync=!1}function A(_,w,M,W,q){--w.pendingcb,M?(process.nextTick(q,W),process.nextTick(k,_,w),_._writableState.errorEmitted=!0,P(_,W)):(q(W),_._writableState.errorEmitted=!0,P(_,W),k(_,w))}function R(_){_.writing=!1,_.writecb=null,_.length-=_.writelen,_.writelen=0}function B(_,w){var M=_._writableState,W=M.sync,q=M.writecb;if(typeof q!="function")throw new g;if(R(M),w)A(_,M,W,w,q);else{var h=ae(M)||_.destroyed;!h&&!M.corked&&!M.bufferProcessing&&M.bufferedRequest&&J(_,M),W?process.nextTick(T,_,M,h,q):T(_,M,h,q)}}function T(_,w,M,W){M||z(_,w),w.pendingcb--,W(),k(_,w)}function z(_,w){w.length===0&&w.needDrain&&(w.needDrain=!1,_.emit("drain"))}function J(_,w){w.bufferProcessing=!0;var M=w.bufferedRequest;if(_._writev&&M&&M.next){var W=w.bufferedRequestCount,q=new Array(W),h=w.corkedRequestsFree;h.entry=M;for(var d=0,j=!0;M;)q[d]=M,M.isBuf||(j=!1),M=M.next,d+=1;q.allBuffers=j,E(_,w,!0,w.length,q,"",h.finish),w.pendingcb++,w.lastBufferedRequest=null,h.next?(w.corkedRequestsFree=h.next,h.next=null):w.corkedRequestsFree=new t(w),w.bufferedRequestCount=0}else{for(;M;){var U=M.chunk,he=M.encoding,re=M.callback,fe=w.objectMode?1:U.length;if(E(_,w,!1,fe,U,he,re),M=M.next,w.bufferedRequestCount--,w.writing)break}M===null&&(w.lastBufferedRequest=null)}w.bufferedRequest=M,w.bufferProcessing=!1}K.prototype._write=function(_,w,M){M(new p("_write()"))},K.prototype._writev=null,K.prototype.end=function(_,w,M){var W=this._writableState;return typeof _=="function"?(M=_,_=null,w=null):typeof w=="function"&&(M=w,w=null),_!=null&&this.write(_,w),W.corked&&(W.corked=1,this.uncork()),W.ending||O(this,W,M),this},Object.defineProperty(K.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ae(_){return _.ending&&_.length===0&&_.bufferedRequest===null&&!_.finished&&!_.writing}function Q(_,w){_._final(function(M){w.pendingcb--,M&&P(_,M),w.prefinished=!0,_.emit("prefinish"),k(_,w)})}function S(_,w){!w.prefinished&&!w.finalCalled&&(typeof _._final=="function"&&!w.destroyed?(w.pendingcb++,w.finalCalled=!0,process.nextTick(Q,_,w)):(w.prefinished=!0,_.emit("prefinish")))}function k(_,w){var M=ae(w);if(M&&(S(_,w),w.pendingcb===0&&(w.finished=!0,_.emit("finish"),w.autoDestroy))){var W=_._readableState;(!W||W.autoDestroy&&W.endEmitted)&&_.destroy()}return M}function O(_,w,M){w.ending=!0,k(_,w),M&&(w.finished?process.nextTick(M):_.once("finish",M)),w.ended=!0,_.writable=!1}function V(_,w,M){var W=_.entry;for(_.entry=null;W;){var q=W.callback;w.pendingcb--,q(M),W=W.next}w.corkedRequestsFree.next=_}return Object.defineProperty(K.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(w){!this._writableState||(this._writableState.destroyed=w)}}),K.prototype.destroy=u.destroy,K.prototype._undestroy=u.undestroy,K.prototype._destroy=function(_,w){w(_)},vs}var ms,Zu;function _r(){if(Zu)return ms;Zu=1;var t=Object.keys||function(c){var l=[];for(var b in c)l.push(b);return l};ms=s;var e=Tf(),r=Mf();Qe.exports(s,e);for(var n=t(r.prototype),i=0;i<n.length;i++){var o=n[i];s.prototype[o]||(s.prototype[o]=r.prototype[o])}function s(c){if(!(this instanceof s))return new s(c);e.call(this,c),r.call(this,c),this.allowHalfOpen=!0,c&&(c.readable===!1&&(this.readable=!1),c.writable===!1&&(this.writable=!1),c.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||process.nextTick(u,this)}function u(c){c.end()}return Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(l){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=l,this._writableState.destroyed=l)}}),ms}var _s={},Xu;function ec(){if(Xu)return _s;Xu=1;var t=ct.exports.Buffer,e=t.isEncoding||function(y){switch(y=""+y,y&&y.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(y){if(!y)return"utf8";for(var v;;)switch(y){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return y;default:if(v)return;y=(""+y).toLowerCase(),v=!0}}function n(y){var v=r(y);if(typeof v!="string"&&(t.isEncoding===e||!e(y)))throw new Error("Unknown encoding: "+y);return v||y}_s.StringDecoder=i;function i(y){this.encoding=n(y);var v;switch(this.encoding){case"utf16le":this.text=b,this.end=f,v=4;break;case"utf8":this.fillLast=u,v=4;break;case"base64":this.text=p,this.end=g,v=3;break;default:this.write=C,this.end=I;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(v)}i.prototype.write=function(y){if(y.length===0)return"";var v,x;if(this.lastNeed){if(v=this.fillLast(y),v===void 0)return"";x=this.lastNeed,this.lastNeed=0}else x=0;return x<y.length?v?v+this.text(y,x):this.text(y,x):v||""},i.prototype.end=l,i.prototype.text=c,i.prototype.fillLast=function(y){if(this.lastNeed<=y.length)return y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,y.length),this.lastNeed-=y.length};function o(y){return y<=127?0:y>>5===6?2:y>>4===14?3:y>>3===30?4:y>>6===2?-1:-2}function s(y,v,x){var P=v.length-1;if(P<x)return 0;var $=o(v[P]);return $>=0?($>0&&(y.lastNeed=$-1),$):--P<x||$===-2?0:($=o(v[P]),$>=0?($>0&&(y.lastNeed=$-2),$):--P<x||$===-2?0:($=o(v[P]),$>=0?($>0&&($===2?$=0:y.lastNeed=$-3),$):0))}function a(y,v,x){if((v[0]&192)!==128)return y.lastNeed=0,"\uFFFD";if(y.lastNeed>1&&v.length>1){if((v[1]&192)!==128)return y.lastNeed=1,"\uFFFD";if(y.lastNeed>2&&v.length>2&&(v[2]&192)!==128)return y.lastNeed=2,"\uFFFD"}}function u(y){var v=this.lastTotal-this.lastNeed,x=a(this,y);if(x!==void 0)return x;if(this.lastNeed<=y.length)return y.copy(this.lastChar,v,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,v,0,y.length),this.lastNeed-=y.length}function c(y,v){var x=s(this,y,v);if(!this.lastNeed)return y.toString("utf8",v);this.lastTotal=x;var P=y.length-(x-this.lastNeed);return y.copy(this.lastChar,0,P),y.toString("utf8",v,P)}function l(y){var v=y&&y.length?this.write(y):"";return this.lastNeed?v+"\uFFFD":v}function b(y,v){if((y.length-v)%2===0){var x=y.toString("utf16le",v);if(x){var P=x.charCodeAt(x.length-1);if(P>=55296&&P<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1],x.slice(0,-1)}return x}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=y[y.length-1],y.toString("utf16le",v,y.length-1)}function f(y){var v=y&&y.length?this.write(y):"";if(this.lastNeed){var x=this.lastTotal-this.lastNeed;return v+this.lastChar.toString("utf16le",0,x)}return v}function p(y,v){var x=(y.length-v)%3;return x===0?y.toString("base64",v):(this.lastNeed=3-x,this.lastTotal=3,x===1?this.lastChar[0]=y[y.length-1]:(this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1]),y.toString("base64",v,y.length-x))}function g(y){var v=y&&y.length?this.write(y):"";return this.lastNeed?v+this.lastChar.toString("base64",0,3-this.lastNeed):v}function C(y){return y.toString(this.encoding)}function I(y){return y&&y.length?this.write(y):""}return _s}var tc=Kt.codes.ERR_STREAM_PREMATURE_CLOSE;function J1(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function Z1(){}function X1(t){return t.setHeader&&typeof t.abort=="function"}function Of(t,e,r){if(typeof e=="function")return Of(t,null,e);e||(e={}),r=J1(r||Z1);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,o=function(){t.writable||a()},s=t._writableState&&t._writableState.finished,a=function(){i=!1,s=!0,n||r.call(t)},u=t._readableState&&t._readableState.endEmitted,c=function(){n=!1,u=!0,i||r.call(t)},l=function(g){r.call(t,g)},b=function(){var g;if(n&&!u)return(!t._readableState||!t._readableState.ended)&&(g=new tc),r.call(t,g);if(i&&!s)return(!t._writableState||!t._writableState.ended)&&(g=new tc),r.call(t,g)},f=function(){t.req.on("finish",a)};return X1(t)?(t.on("complete",a),t.on("abort",b),t.req?f():t.on("request",f)):i&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",c),t.on("finish",a),e.error!==!1&&t.on("error",l),t.on("close",b),function(){t.removeListener("complete",a),t.removeListener("abort",b),t.removeListener("request",f),t.req&&t.req.removeListener("finish",a),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",a),t.removeListener("end",c),t.removeListener("error",l),t.removeListener("close",b)}}var za=Of,ws,rc;function e_(){if(rc)return ws;rc=1;var t;function e(y,v,x){return v in y?Object.defineProperty(y,v,{value:x,enumerable:!0,configurable:!0,writable:!0}):y[v]=x,y}var r=za,n=Symbol("lastResolve"),i=Symbol("lastReject"),o=Symbol("error"),s=Symbol("ended"),a=Symbol("lastPromise"),u=Symbol("handlePromise"),c=Symbol("stream");function l(y,v){return{value:y,done:v}}function b(y){var v=y[n];if(v!==null){var x=y[c].read();x!==null&&(y[a]=null,y[n]=null,y[i]=null,v(l(x,!1)))}}function f(y){process.nextTick(b,y)}function p(y,v){return function(x,P){y.then(function(){if(v[s]){x(l(void 0,!0));return}v[u](x,P)},P)}}var g=Object.getPrototypeOf(function(){}),C=Object.setPrototypeOf((t={get stream(){return this[c]},next:function(){var v=this,x=this[o];if(x!==null)return Promise.reject(x);if(this[s])return Promise.resolve(l(void 0,!0));if(this[c].destroyed)return new Promise(function(Y,K){process.nextTick(function(){v[o]?K(v[o]):Y(l(void 0,!0))})});var P=this[a],$;if(P)$=new Promise(p(P,this));else{var H=this[c].read();if(H!==null)return Promise.resolve(l(H,!1));$=new Promise(this[u])}return this[a]=$,$}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var v=this;return new Promise(function(x,P){v[c].destroy(null,function($){if($){P($);return}x(l(void 0,!0))})})}),t),g),I=function(v){var x,P=Object.create(C,(x={},e(x,c,{value:v,writable:!0}),e(x,n,{value:null,writable:!0}),e(x,i,{value:null,writable:!0}),e(x,o,{value:null,writable:!0}),e(x,s,{value:v._readableState.endEmitted,writable:!0}),e(x,u,{value:function(H,Y){var K=P[c].read();K?(P[a]=null,P[n]=null,P[i]=null,H(l(K,!1))):(P[n]=H,P[i]=Y)},writable:!0}),x));return P[a]=null,r(v,function($){if($&&$.code!=="ERR_STREAM_PREMATURE_CLOSE"){var H=P[i];H!==null&&(P[a]=null,P[n]=null,P[i]=null,H($)),P[o]=$;return}var Y=P[n];Y!==null&&(P[a]=null,P[n]=null,P[i]=null,Y(l(void 0,!0))),P[s]=!0}),v.on("readable",f.bind(null,P)),P};return ws=I,ws}var Ss,nc;function t_(){return nc||(nc=1,Ss=function(){throw new Error("Readable.from is not available in the browser")}),Ss}var Es,ic;function Tf(){if(ic)return Es;ic=1,Es=L;var t;L.ReadableState=K,pi.exports.EventEmitter;var e=function(d,j){return d.listeners(j).length},r=Cf,n=yi.Buffer,i=ie.Uint8Array||function(){};function o(h){return n.from(h)}function s(h){return n.isBuffer(h)||h instanceof i}var a=Sa,u;a&&a.debuglog?u=a.debuglog("stream"):u=function(){};var c=B1(),l=kf,b=Rf,f=b.getHighWaterMark,p=Kt.codes,g=p.ERR_INVALID_ARG_TYPE,C=p.ERR_STREAM_PUSH_AFTER_EOF,I=p.ERR_METHOD_NOT_IMPLEMENTED,y=p.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,v,x,P;Qe.exports(L,r);var $=l.errorOrDestroy,H=["error","close","destroy","pause","resume"];function Y(h,d,j){if(typeof h.prependListener=="function")return h.prependListener(d,j);!h._events||!h._events[d]?h.on(d,j):Array.isArray(h._events[d])?h._events[d].unshift(j):h._events[d]=[j,h._events[d]]}function K(h,d,j){t=t||_r(),h=h||{},typeof j!="boolean"&&(j=d instanceof t),this.objectMode=!!h.objectMode,j&&(this.objectMode=this.objectMode||!!h.readableObjectMode),this.highWaterMark=f(this,h,"readableHighWaterMark",j),this.buffer=new c,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=h.emitClose!==!1,this.autoDestroy=!!h.autoDestroy,this.destroyed=!1,this.defaultEncoding=h.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,h.encoding&&(v||(v=ec().StringDecoder),this.decoder=new v(h.encoding),this.encoding=h.encoding)}function L(h){if(t=t||_r(),!(this instanceof L))return new L(h);var d=this instanceof t;this._readableState=new K(h,this,d),this.readable=!0,h&&(typeof h.read=="function"&&(this._read=h.read),typeof h.destroy=="function"&&(this._destroy=h.destroy)),r.call(this)}Object.defineProperty(L.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(d){!this._readableState||(this._readableState.destroyed=d)}}),L.prototype.destroy=l.destroy,L.prototype._undestroy=l.undestroy,L.prototype._destroy=function(h,d){d(h)},L.prototype.push=function(h,d){var j=this._readableState,U;return j.objectMode?U=!0:typeof h=="string"&&(d=d||j.defaultEncoding,d!==j.encoding&&(h=n.from(h,d),d=""),U=!0),G(this,h,d,!1,U)},L.prototype.unshift=function(h){return G(this,h,null,!0,!1)};function G(h,d,j,U,he){u("readableAddChunk",d);var re=h._readableState;if(d===null)re.reading=!1,B(h,re);else{var fe;if(he||(fe=m(re,d)),fe)$(h,fe);else if(re.objectMode||d&&d.length>0)if(typeof d!="string"&&!re.objectMode&&Object.getPrototypeOf(d)!==n.prototype&&(d=o(d)),U)re.endEmitted?$(h,new y):F(h,re,d,!0);else if(re.ended)$(h,new C);else{if(re.destroyed)return!1;re.reading=!1,re.decoder&&!j?(d=re.decoder.write(d),re.objectMode||d.length!==0?F(h,re,d,!1):J(h,re)):F(h,re,d,!1)}else U||(re.reading=!1,J(h,re))}return!re.ended&&(re.length<re.highWaterMark||re.length===0)}function F(h,d,j,U){d.flowing&&d.length===0&&!d.sync?(d.awaitDrain=0,h.emit("data",j)):(d.length+=d.objectMode?1:j.length,U?d.buffer.unshift(j):d.buffer.push(j),d.needReadable&&T(h)),J(h,d)}function m(h,d){var j;return!s(d)&&typeof d!="string"&&d!==void 0&&!h.objectMode&&(j=new g("chunk",["string","Buffer","Uint8Array"],d)),j}L.prototype.isPaused=function(){return this._readableState.flowing===!1},L.prototype.setEncoding=function(h){v||(v=ec().StringDecoder);var d=new v(h);this._readableState.decoder=d,this._readableState.encoding=this._readableState.decoder.encoding;for(var j=this._readableState.buffer.head,U="";j!==null;)U+=d.write(j.data),j=j.next;return this._readableState.buffer.clear(),U!==""&&this._readableState.buffer.push(U),this._readableState.length=U.length,this};var E=1073741824;function A(h){return h>=E?h=E:(h--,h|=h>>>1,h|=h>>>2,h|=h>>>4,h|=h>>>8,h|=h>>>16,h++),h}function R(h,d){return h<=0||d.length===0&&d.ended?0:d.objectMode?1:h!==h?d.flowing&&d.length?d.buffer.head.data.length:d.length:(h>d.highWaterMark&&(d.highWaterMark=A(h)),h<=d.length?h:d.ended?d.length:(d.needReadable=!0,0))}L.prototype.read=function(h){u("read",h),h=parseInt(h,10);var d=this._readableState,j=h;if(h!==0&&(d.emittedReadable=!1),h===0&&d.needReadable&&((d.highWaterMark!==0?d.length>=d.highWaterMark:d.length>0)||d.ended))return u("read: emitReadable",d.length,d.ended),d.length===0&&d.ended?M(this):T(this),null;if(h=R(h,d),h===0&&d.ended)return d.length===0&&M(this),null;var U=d.needReadable;u("need readable",U),(d.length===0||d.length-h<d.highWaterMark)&&(U=!0,u("length less than watermark",U)),d.ended||d.reading?(U=!1,u("reading or ended",U)):U&&(u("do read"),d.reading=!0,d.sync=!0,d.length===0&&(d.needReadable=!0),this._read(d.highWaterMark),d.sync=!1,d.reading||(h=R(j,d)));var he;return h>0?he=w(h,d):he=null,he===null?(d.needReadable=d.length<=d.highWaterMark,h=0):(d.length-=h,d.awaitDrain=0),d.length===0&&(d.ended||(d.needReadable=!0),j!==h&&d.ended&&M(this)),he!==null&&this.emit("data",he),he};function B(h,d){if(u("onEofChunk"),!d.ended){if(d.decoder){var j=d.decoder.end();j&&j.length&&(d.buffer.push(j),d.length+=d.objectMode?1:j.length)}d.ended=!0,d.sync?T(h):(d.needReadable=!1,d.emittedReadable||(d.emittedReadable=!0,z(h)))}}function T(h){var d=h._readableState;u("emitReadable",d.needReadable,d.emittedReadable),d.needReadable=!1,d.emittedReadable||(u("emitReadable",d.flowing),d.emittedReadable=!0,process.nextTick(z,h))}function z(h){var d=h._readableState;u("emitReadable_",d.destroyed,d.length,d.ended),!d.destroyed&&(d.length||d.ended)&&(h.emit("readable"),d.emittedReadable=!1),d.needReadable=!d.flowing&&!d.ended&&d.length<=d.highWaterMark,_(h)}function J(h,d){d.readingMore||(d.readingMore=!0,process.nextTick(ae,h,d))}function ae(h,d){for(;!d.reading&&!d.ended&&(d.length<d.highWaterMark||d.flowing&&d.length===0);){var j=d.length;if(u("maybeReadMore read 0"),h.read(0),j===d.length)break}d.readingMore=!1}L.prototype._read=function(h){$(this,new I("_read()"))},L.prototype.pipe=function(h,d){var j=this,U=this._readableState;switch(U.pipesCount){case 0:U.pipes=h;break;case 1:U.pipes=[U.pipes,h];break;default:U.pipes.push(h);break}U.pipesCount+=1,u("pipe count=%d opts=%j",U.pipesCount,d);var he=(!d||d.end!==!1)&&h!==process.stdout&&h!==process.stderr,re=he?Je:_t;U.endEmitted?process.nextTick(re):j.once("end",re),h.on("unpipe",fe);function fe(ft,nt){u("onunpipe"),ft===j&&nt&&nt.hasUnpiped===!1&&(nt.hasUnpiped=!0,Br())}function Je(){u("onend"),h.end()}var N=Q(j);h.on("drain",N);var jt=!1;function Br(){u("cleanup"),h.removeListener("close",Xt),h.removeListener("finish",er),h.removeListener("drain",N),h.removeListener("error",Zt),h.removeListener("unpipe",fe),j.removeListener("end",Je),j.removeListener("end",_t),j.removeListener("data",Fr),jt=!0,U.awaitDrain&&(!h._writableState||h._writableState.needDrain)&&N()}j.on("data",Fr);function Fr(ft){u("ondata");var nt=h.write(ft);u("dest.write",nt),nt===!1&&((U.pipesCount===1&&U.pipes===h||U.pipesCount>1&&q(U.pipes,h)!==-1)&&!jt&&(u("false write response, pause",U.awaitDrain),U.awaitDrain++),j.pause())}function Zt(ft){u("onerror",ft),_t(),h.removeListener("error",Zt),e(h,"error")===0&&$(h,ft)}Y(h,"error",Zt);function Xt(){h.removeListener("finish",er),_t()}h.once("close",Xt);function er(){u("onfinish"),h.removeListener("close",Xt),_t()}h.once("finish",er);function _t(){u("unpipe"),j.unpipe(h)}return h.emit("pipe",j),U.flowing||(u("pipe resume"),j.resume()),h};function Q(h){return function(){var j=h._readableState;u("pipeOnDrain",j.awaitDrain),j.awaitDrain&&j.awaitDrain--,j.awaitDrain===0&&e(h,"data")&&(j.flowing=!0,_(h))}}L.prototype.unpipe=function(h){var d=this._readableState,j={hasUnpiped:!1};if(d.pipesCount===0)return this;if(d.pipesCount===1)return h&&h!==d.pipes?this:(h||(h=d.pipes),d.pipes=null,d.pipesCount=0,d.flowing=!1,h&&h.emit("unpipe",this,j),this);if(!h){var U=d.pipes,he=d.pipesCount;d.pipes=null,d.pipesCount=0,d.flowing=!1;for(var re=0;re<he;re++)U[re].emit("unpipe",this,{hasUnpiped:!1});return this}var fe=q(d.pipes,h);return fe===-1?this:(d.pipes.splice(fe,1),d.pipesCount-=1,d.pipesCount===1&&(d.pipes=d.pipes[0]),h.emit("unpipe",this,j),this)},L.prototype.on=function(h,d){var j=r.prototype.on.call(this,h,d),U=this._readableState;return h==="data"?(U.readableListening=this.listenerCount("readable")>0,U.flowing!==!1&&this.resume()):h==="readable"&&!U.endEmitted&&!U.readableListening&&(U.readableListening=U.needReadable=!0,U.flowing=!1,U.emittedReadable=!1,u("on readable",U.length,U.reading),U.length?T(this):U.reading||process.nextTick(k,this)),j},L.prototype.addListener=L.prototype.on,L.prototype.removeListener=function(h,d){var j=r.prototype.removeListener.call(this,h,d);return h==="readable"&&process.nextTick(S,this),j},L.prototype.removeAllListeners=function(h){var d=r.prototype.removeAllListeners.apply(this,arguments);return(h==="readable"||h===void 0)&&process.nextTick(S,this),d};function S(h){var d=h._readableState;d.readableListening=h.listenerCount("readable")>0,d.resumeScheduled&&!d.paused?d.flowing=!0:h.listenerCount("data")>0&&h.resume()}function k(h){u("readable nexttick read 0"),h.read(0)}L.prototype.resume=function(){var h=this._readableState;return h.flowing||(u("resume"),h.flowing=!h.readableListening,O(this,h)),h.paused=!1,this};function O(h,d){d.resumeScheduled||(d.resumeScheduled=!0,process.nextTick(V,h,d))}function V(h,d){u("resume",d.reading),d.reading||h.read(0),d.resumeScheduled=!1,h.emit("resume"),_(h),d.flowing&&!d.reading&&h.read(0)}L.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function _(h){var d=h._readableState;for(u("flow",d.flowing);d.flowing&&h.read()!==null;);}L.prototype.wrap=function(h){var d=this,j=this._readableState,U=!1;h.on("end",function(){if(u("wrapped end"),j.decoder&&!j.ended){var fe=j.decoder.end();fe&&fe.length&&d.push(fe)}d.push(null)}),h.on("data",function(fe){if(u("wrapped data"),j.decoder&&(fe=j.decoder.write(fe)),!(j.objectMode&&fe==null)&&!(!j.objectMode&&(!fe||!fe.length))){var Je=d.push(fe);Je||(U=!0,h.pause())}});for(var he in h)this[he]===void 0&&typeof h[he]=="function"&&(this[he]=function(Je){return function(){return h[Je].apply(h,arguments)}}(he));for(var re=0;re<H.length;re++)h.on(H[re],this.emit.bind(this,H[re]));return this._read=function(fe){u("wrapped _read",fe),U&&(U=!1,h.resume())},this},typeof Symbol=="function"&&(L.prototype[Symbol.asyncIterator]=function(){return x===void 0&&(x=e_()),x(this)}),Object.defineProperty(L.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(L.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(L.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(d){this._readableState&&(this._readableState.flowing=d)}}),L._fromList=w,Object.defineProperty(L.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function w(h,d){if(d.length===0)return null;var j;return d.objectMode?j=d.buffer.shift():!h||h>=d.length?(d.decoder?j=d.buffer.join(""):d.buffer.length===1?j=d.buffer.first():j=d.buffer.concat(d.length),d.buffer.clear()):j=d.buffer.consume(h,d.decoder),j}function M(h){var d=h._readableState;u("endReadable",d.endEmitted),d.endEmitted||(d.ended=!0,process.nextTick(W,d,h))}function W(h,d){if(u("endReadableNT",h.endEmitted,h.length),!h.endEmitted&&h.length===0&&(h.endEmitted=!0,d.readable=!1,d.emit("end"),h.autoDestroy)){var j=d._writableState;(!j||j.autoDestroy&&j.finished)&&d.destroy()}}typeof Symbol=="function"&&(L.from=function(h,d){return P===void 0&&(P=t_()),P(L,h,d)});function q(h,d){for(var j=0,U=h.length;j<U;j++)if(h[j]===d)return j;return-1}return Es}var Pf=gt,Mi=Kt.codes,r_=Mi.ERR_METHOD_NOT_IMPLEMENTED,n_=Mi.ERR_MULTIPLE_CALLBACK,i_=Mi.ERR_TRANSFORM_ALREADY_TRANSFORMING,o_=Mi.ERR_TRANSFORM_WITH_LENGTH_0,Oi=_r();Qe.exports(gt,Oi);function s_(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new n_);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function gt(t){if(!(this instanceof gt))return new gt(t);Oi.call(this,t),this._transformState={afterTransform:s_.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",a_)}function a_(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){oc(t,e,r)}):oc(this,null,null)}gt.prototype.push=function(t,e){return this._transformState.needTransform=!1,Oi.prototype.push.call(this,t,e)};gt.prototype._transform=function(t,e,r){r(new r_("_transform()"))};gt.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};gt.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};gt.prototype._destroy=function(t,e){Oi.prototype._destroy.call(this,t,function(r){e(r)})};function oc(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new o_;if(t._transformState.transforming)throw new i_;return t.push(null)}var u_=ln,Nf=Pf;Qe.exports(ln,Nf);function ln(t){if(!(this instanceof ln))return new ln(t);Nf.call(this,t)}ln.prototype._transform=function(t,e,r){r(null,t)};var xs;function c_(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var jf=Kt.codes,l_=jf.ERR_MISSING_ARGS,f_=jf.ERR_STREAM_DESTROYED;function sc(t){if(t)throw t}function h_(t){return t.setHeader&&typeof t.abort=="function"}function d_(t,e,r,n){n=c_(n);var i=!1;t.on("close",function(){i=!0}),xs===void 0&&(xs=za),xs(t,{readable:e,writable:r},function(s){if(s)return n(s);i=!0,n()});var o=!1;return function(s){if(!i&&!o){if(o=!0,h_(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(s||new f_("pipe"))}}}function ac(t){t()}function p_(t,e){return t.pipe(e)}function y_(t){return!t.length||typeof t[t.length-1]!="function"?sc:t.pop()}function b_(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=y_(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new l_("streams");var i,o=e.map(function(s,a){var u=a<e.length-1,c=a>0;return d_(s,u,c,function(l){i||(i=l),l&&o.forEach(ac),!u&&(o.forEach(ac),n(i))})});return e.reduce(p_)}var g_=b_;(function(t,e){e=t.exports=Tf(),e.Stream=e,e.Readable=e,e.Writable=Mf(),e.Duplex=_r(),e.Transform=Pf,e.PassThrough=u_,e.finished=za,e.pipeline=g_})(si,si.exports);const{Transform:v_}=si.exports;var m_=t=>class Df extends v_{constructor(r,n,i,o,s){super(s),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=o,this._options=s,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let o=null;try{this.update(r,n)}catch(s){o=s}i(o)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new Df(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const{Transform:__}=si.exports;var w_=t=>class Lf extends __{constructor(r,n,i,o){super(o),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=o,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let o=null;try{this.update(r,n)}catch(s){o=s}i(o)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new Lf(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const S_=m_,E_=w_;var x_=function(t){const e=S_(t),r=E_(t);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new e(1152,448,null,224,i);case"keccak256":return new e(1088,512,null,256,i);case"keccak384":return new e(832,768,null,384,i);case"keccak512":return new e(576,1024,null,512,i);case"sha3-224":return new e(1152,448,6,224,i);case"sha3-256":return new e(1088,512,6,256,i);case"sha3-384":return new e(832,768,6,384,i);case"sha3-512":return new e(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}},Bf={};const uc=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];Bf.p1600=function(t){for(let e=0;e<24;++e){const r=t[0]^t[10]^t[20]^t[30]^t[40],n=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],o=t[3]^t[13]^t[23]^t[33]^t[43],s=t[4]^t[14]^t[24]^t[34]^t[44],a=t[5]^t[15]^t[25]^t[35]^t[45],u=t[6]^t[16]^t[26]^t[36]^t[46],c=t[7]^t[17]^t[27]^t[37]^t[47],l=t[8]^t[18]^t[28]^t[38]^t[48],b=t[9]^t[19]^t[29]^t[39]^t[49];let f=l^(i<<1|o>>>31),p=b^(o<<1|i>>>31);const g=t[0]^f,C=t[1]^p,I=t[10]^f,y=t[11]^p,v=t[20]^f,x=t[21]^p,P=t[30]^f,$=t[31]^p,H=t[40]^f,Y=t[41]^p;f=r^(s<<1|a>>>31),p=n^(a<<1|s>>>31);const K=t[2]^f,L=t[3]^p,G=t[12]^f,F=t[13]^p,m=t[22]^f,E=t[23]^p,A=t[32]^f,R=t[33]^p,B=t[42]^f,T=t[43]^p;f=i^(u<<1|c>>>31),p=o^(c<<1|u>>>31);const z=t[4]^f,J=t[5]^p,ae=t[14]^f,Q=t[15]^p,S=t[24]^f,k=t[25]^p,O=t[34]^f,V=t[35]^p,_=t[44]^f,w=t[45]^p;f=s^(l<<1|b>>>31),p=a^(b<<1|l>>>31);const M=t[6]^f,W=t[7]^p,q=t[16]^f,h=t[17]^p,d=t[26]^f,j=t[27]^p,U=t[36]^f,he=t[37]^p,re=t[46]^f,fe=t[47]^p;f=u^(r<<1|n>>>31),p=c^(n<<1|r>>>31);const Je=t[8]^f,N=t[9]^p,jt=t[18]^f,Br=t[19]^p,Fr=t[28]^f,Zt=t[29]^p,Xt=t[38]^f,er=t[39]^p,_t=t[48]^f,ft=t[49]^p,nt=g,ao=C,uo=y<<4|I>>>28,co=I<<4|y>>>28,lo=v<<3|x>>>29,fo=x<<3|v>>>29,ho=$<<9|P>>>23,po=P<<9|$>>>23,yo=H<<18|Y>>>14,bo=Y<<18|H>>>14,go=K<<1|L>>>31,vo=L<<1|K>>>31,mo=F<<12|G>>>20,_o=G<<12|F>>>20,wo=m<<10|E>>>22,So=E<<10|m>>>22,Eo=R<<13|A>>>19,xo=A<<13|R>>>19,Ao=B<<2|T>>>30,Co=T<<2|B>>>30,ko=J<<30|z>>>2,Io=z<<30|J>>>2,Ro=ae<<6|Q>>>26,Mo=Q<<6|ae>>>26,Oo=k<<11|S>>>21,To=S<<11|k>>>21,Po=O<<15|V>>>17,No=V<<15|O>>>17,jo=w<<29|_>>>3,Do=_<<29|w>>>3,Lo=M<<28|W>>>4,Bo=W<<28|M>>>4,Fo=h<<23|q>>>9,$o=q<<23|h>>>9,Wo=d<<25|j>>>7,Uo=j<<25|d>>>7,Ho=U<<21|he>>>11,Vo=he<<21|U>>>11,zo=fe<<24|re>>>8,qo=re<<24|fe>>>8,Go=Je<<27|N>>>5,Qo=N<<27|Je>>>5,Yo=jt<<20|Br>>>12,Ko=Br<<20|jt>>>12,Jo=Zt<<7|Fr>>>25,Zo=Fr<<7|Zt>>>25,Xo=Xt<<8|er>>>24,es=er<<8|Xt>>>24,ts=_t<<14|ft>>>18,rs=ft<<14|_t>>>18;t[0]=nt^~mo&Oo,t[1]=ao^~_o&To,t[10]=Lo^~Yo&lo,t[11]=Bo^~Ko&fo,t[20]=go^~Ro&Wo,t[21]=vo^~Mo&Uo,t[30]=Go^~uo&wo,t[31]=Qo^~co&So,t[40]=ko^~Fo&Jo,t[41]=Io^~$o&Zo,t[2]=mo^~Oo&Ho,t[3]=_o^~To&Vo,t[12]=Yo^~lo&Eo,t[13]=Ko^~fo&xo,t[22]=Ro^~Wo&Xo,t[23]=Mo^~Uo&es,t[32]=uo^~wo&Po,t[33]=co^~So&No,t[42]=Fo^~Jo&ho,t[43]=$o^~Zo&po,t[4]=Oo^~Ho&ts,t[5]=To^~Vo&rs,t[14]=lo^~Eo&jo,t[15]=fo^~xo&Do,t[24]=Wo^~Xo&yo,t[25]=Uo^~es&bo,t[34]=wo^~Po&zo,t[35]=So^~No&qo,t[44]=Jo^~ho&Ao,t[45]=Zo^~po&Co,t[6]=Ho^~ts&nt,t[7]=Vo^~rs&ao,t[16]=Eo^~jo&Lo,t[17]=xo^~Do&Bo,t[26]=Xo^~yo&go,t[27]=es^~bo&vo,t[36]=Po^~zo&Go,t[37]=No^~qo&Qo,t[46]=ho^~Ao&ko,t[47]=po^~Co&Io,t[8]=ts^~nt&mo,t[9]=rs^~ao&_o,t[18]=jo^~Lo&Yo,t[19]=Do^~Bo&Ko,t[28]=yo^~go&Ro,t[29]=bo^~vo&Mo,t[38]=zo^~Go&uo,t[39]=qo^~Qo&co,t[48]=Ao^~ko&Fo,t[49]=Co^~Io&$o,t[0]^=uc[e*2],t[1]^=uc[e*2+1]}};const ai=Bf;function jr(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}jr.prototype.initialize=function(t,e){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1};jr.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(ai.p1600(this.state),this.count=0)};jr.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<8*(this.count%4),(t&128)!==0&&this.count===this.blockSize-1&&ai.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),ai.p1600(this.state),this.count=0,this.squeezing=!0};jr.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);const e=Buffer.alloc(t);for(let r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(ai.p1600(this.state),this.count=0);return e};jr.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing};var A_=jr,C_=x_(A_);const k_=C_,I_=di.exports;function Ff(t){return Buffer.allocUnsafe(t).fill(0)}function $f(t,e,r){const n=Ff(e);return t=Ti(t),r?t.length<e?(t.copy(n),n):t.slice(0,e):t.length<e?(t.copy(n,e-t.length),n):t.slice(-e)}function R_(t,e){return $f(t,e,!0)}function Ti(t){if(!Buffer.isBuffer(t))if(Array.isArray(t))t=Buffer.from(t);else if(typeof t=="string")Wf(t)?t=Buffer.from(T_(Uf(t)),"hex"):t=Buffer.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=Buffer.allocUnsafe(0);else if(I_.isBN(t))t=t.toArrayLike(Buffer);else if(t.toArray)t=Buffer.from(t.toArray());else throw new Error("invalid type");return t}function M_(t){return t=Ti(t),"0x"+t.toString("hex")}function O_(t,e){return t=Ti(t),e||(e=256),k_("keccak"+e).update(t).digest()}function T_(t){return t.length%2?"0"+t:t}function Wf(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function Uf(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var Hf={zeros:Ff,setLength:$f,setLengthRight:R_,isHexString:Wf,stripHexPrefix:Uf,toBuffer:Ti,bufferToHex:M_,keccak:O_};const Gt=Hf,Ut=di.exports;function Vf(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function hr(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function cc(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function zf(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function Ft(t){var e=typeof t;if(e==="string")return Gt.isHexString(t)?new Ut(Gt.stripHexPrefix(t),16):new Ut(t,10);if(e==="number")return new Ut(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function st(t,e){var r,n,i,o;if(t==="address")return st("uint160",Ft(e));if(t==="bool")return st("uint8",e?1:0);if(t==="string")return st("bytes",new Buffer(e,"utf8"));if(N_(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(r=zf(t),r!=="dynamic"&&r!==0&&e.length>r)throw new Error("Elements exceed array size: "+r);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(o in e)i.push(st(t,e[o]));if(r==="dynamic"){var s=st("uint256",e.length);i.unshift(s)}return Buffer.concat(i)}else{if(t==="bytes")return e=new Buffer(e),i=Buffer.concat([st("uint256",e.length),e]),e.length%32!==0&&(i=Buffer.concat([i,Gt.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(r=hr(t),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return Gt.setLengthRight(e,32)}else if(t.startsWith("uint")){if(r=hr(t),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=Ft(e),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(Buffer,"be",32)}else if(t.startsWith("int")){if(r=hr(t),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=Ft(e),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(Buffer,"be",32)}else if(t.startsWith("ufixed")){if(r=cc(t),n=Ft(e),n<0)throw new Error("Supplied ufixed is negative");return st("uint256",n.mul(new Ut(2).pow(new Ut(r[1]))))}else if(t.startsWith("fixed"))return r=cc(t),st("int256",Ft(e).mul(new Ut(2).pow(new Ut(r[1]))))}throw new Error("Unsupported or invalid type: "+t)}function P_(t){return t==="string"||t==="bytes"||zf(t)==="dynamic"}function N_(t){return t.lastIndexOf("]")===t.length-1}function j_(t,e){var r=[],n=[],i=32*t.length;for(var o in t){var s=Vf(t[o]),a=e[o],u=st(s,a);P_(s)?(r.push(st("uint256",i)),n.push(u),i+=u.length):r.push(u)}return Buffer.concat(r.concat(n))}function qf(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var r,n,i=[],o=0;o<t.length;o++){var s=Vf(t[o]),a=e[o];if(s==="bytes")i.push(a);else if(s==="string")i.push(new Buffer(a,"utf8"));else if(s==="bool")i.push(new Buffer(a?"01":"00","hex"));else if(s==="address")i.push(Gt.setLength(a,20));else if(s.startsWith("bytes")){if(r=hr(s),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);i.push(Gt.setLengthRight(a,r))}else if(s.startsWith("uint")){if(r=hr(s),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=Ft(a),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());i.push(n.toArrayLike(Buffer,"be",r/8))}else if(s.startsWith("int")){if(r=hr(s),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=Ft(a),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());i.push(n.toTwos(r).toArrayLike(Buffer,"be",r/8))}else throw new Error("Unsupported or invalid type: "+s)}return Buffer.concat(i)}function D_(t,e){return Gt.keccak(qf(t,e))}var L_={rawEncode:j_,solidityPack:qf,soliditySHA3:D_};const Xe=Hf,Jr=L_,Gf={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},As={encodeData(t,e,r,n=!0){const i=["bytes32"],o=[this.hashType(t,r)];if(n){const s=(a,u,c)=>{if(r[u]!==void 0)return["bytes32",c==null?"0x0000000000000000000000000000000000000000000000000000000000000000":Xe.keccak(this.encodeData(u,c,r,n))];if(c===void 0)throw new Error(`missing value for field ${a} of type ${u}`);if(u==="bytes")return["bytes32",Xe.keccak(c)];if(u==="string")return typeof c=="string"&&(c=Buffer.from(c,"utf8")),["bytes32",Xe.keccak(c)];if(u.lastIndexOf("]")===u.length-1){const l=u.slice(0,u.lastIndexOf("[")),b=c.map(f=>s(a,l,f));return["bytes32",Xe.keccak(Jr.rawEncode(b.map(([f])=>f),b.map(([,f])=>f)))]}return[u,c]};for(const a of r[t]){const[u,c]=s(a.name,a.type,e[a.name]);i.push(u),o.push(c)}}else for(const s of r[t]){let a=e[s.name];if(a!==void 0)if(s.type==="bytes")i.push("bytes32"),a=Xe.keccak(a),o.push(a);else if(s.type==="string")i.push("bytes32"),typeof a=="string"&&(a=Buffer.from(a,"utf8")),a=Xe.keccak(a),o.push(a);else if(r[s.type]!==void 0)i.push("bytes32"),a=Xe.keccak(this.encodeData(s.type,a,r,n)),o.push(a);else{if(s.type.lastIndexOf("]")===s.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(s.type),o.push(a)}}return Jr.rawEncode(i,o)},encodeType(t,e){let r="",n=this.findTypeDependencies(t,e).filter(i=>i!==t);n=[t].concat(n.sort());for(const i of n){if(!e[i])throw new Error("No type definition specified: "+i);r+=i+"("+e[i].map(({name:s,type:a})=>a+" "+s).join(",")+")"}return r},findTypeDependencies(t,e,r=[]){if(t=t.match(/^\w*/)[0],r.includes(t)||e[t]===void 0)return r;r.push(t);for(const n of e[t])for(const i of this.findTypeDependencies(n.type,e,r))!r.includes(i)&&r.push(i);return r},hashStruct(t,e,r,n=!0){return Xe.keccak(this.encodeData(t,e,r,n))},hashType(t,e){return Xe.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const r in Gf.properties)t[r]&&(e[r]=t[r]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const r=this.sanitizeData(t),n=[Buffer.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,e)),r.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(r.primaryType,r.message,r.types,e)),Xe.keccak(Buffer.concat(n))}};var B_={TYPED_MESSAGE_SCHEMA:Gf,TypedDataUtils:As,hashForSignTypedDataLegacy:function(t){return F_(t.data)},hashForSignTypedData_v3:function(t){return As.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return As.hash(t.data)}};function F_(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const r=t.map(function(o){return o.type==="bytes"?Xe.toBuffer(o.value):o.value}),n=t.map(function(o){return o.type}),i=t.map(function(o){if(!o.name)throw e;return o.type+" "+o.name});return Jr.soliditySHA3(["bytes32","bytes32"],[Jr.soliditySHA3(new Array(t.length).fill("string"),i),Jr.soliditySHA3(n,r)])}var wr={};Object.defineProperty(wr,"__esModule",{value:!0});wr.filterFromParam=wr.FilterPolyfill=void 0;const or=En,De=Z,$_=5*60*1e3,$t={jsonrpc:"2.0",id:0};class W_{constructor(e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,or.IntNumber)(1),this.provider=e}async newFilter(e){const r=Qf(e),n=this.makeFilterId(),i=await this.setInitialCursorPosition(n,r.fromBlock);return console.log(`Installing new log filter(${n}):`,r,"initial cursor position:",i),this.logFilters.set(n,r),this.setFilterTimeout(n),(0,De.hexStringFromIntNumber)(n)}async newBlockFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.blockFilters.add(e),this.setFilterTimeout(e),(0,De.hexStringFromIntNumber)(e)}async newPendingTransactionFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.pendingTransactionFilters.add(e),this.setFilterTimeout(e),(0,De.hexStringFromIntNumber)(e)}uninstallFilter(e){const r=(0,De.intNumberFromHexString)(e);return console.log(`Uninstalling filter (${r})`),this.deleteFilter(r),!0}getFilterChanges(e){const r=(0,De.intNumberFromHexString)(e);return this.timeouts.has(r)&&this.setFilterTimeout(r),this.logFilters.has(r)?this.getLogFilterChanges(r):this.blockFilters.has(r)?this.getBlockFilterChanges(r):this.pendingTransactionFilters.has(r)?this.getPendingTransactionFilterChanges(r):Promise.resolve(Dn())}async getFilterLogs(e){const r=(0,De.intNumberFromHexString)(e),n=this.logFilters.get(r);return n?this.sendAsyncPromise(Object.assign(Object.assign({},$t),{method:"eth_getLogs",params:[lc(n)]})):Dn()}makeFilterId(){return(0,or.IntNumber)(++this.nextFilterId)}sendAsyncPromise(e){return new Promise((r,n)=>{this.provider.sendAsync(e,(i,o)=>{if(i)return n(i);if(Array.isArray(o)||o==null)return n(new Error(`unexpected response received: ${JSON.stringify(o)}`));r(o)})})}deleteFilter(e){console.log(`Deleting filter (${e})`),this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}async getLogFilterChanges(e){const r=this.logFilters.get(e),n=this.cursors.get(e);if(!n||!r)return Dn();const i=await this.getCurrentBlockHeight(),o=r.toBlock==="latest"?i:r.toBlock;if(n>i||n>r.toBlock)return Ln();console.log(`Fetching logs from ${n} to ${o} for filter ${e}`);const s=await this.sendAsyncPromise(Object.assign(Object.assign({},$t),{method:"eth_getLogs",params:[lc(Object.assign(Object.assign({},r),{fromBlock:n,toBlock:o}))]}));if(Array.isArray(s.result)){const a=s.result.map(c=>(0,De.intNumberFromHexString)(c.blockNumber||"0x0")),u=Math.max(...a);if(u&&u>n){const c=(0,or.IntNumber)(u+1);console.log(`Moving cursor position for filter (${e}) from ${n} to ${c}`),this.cursors.set(e,c)}}return s}async getBlockFilterChanges(e){const r=this.cursors.get(e);if(!r)return Dn();const n=await this.getCurrentBlockHeight();if(r>n)return Ln();console.log(`Fetching blocks from ${r} to ${n} for filter (${e})`);const i=(await Promise.all((0,De.range)(r,n+1).map(s=>this.getBlockHashByNumber((0,or.IntNumber)(s))))).filter(s=>!!s),o=(0,or.IntNumber)(r+i.length);return console.log(`Moving cursor position for filter (${e}) from ${r} to ${o}`),this.cursors.set(e,o),Object.assign(Object.assign({},$t),{result:i})}async getPendingTransactionFilterChanges(e){return Promise.resolve(Ln())}async setInitialCursorPosition(e,r){const n=await this.getCurrentBlockHeight(),i=typeof r=="number"&&r>n?r:n;return this.cursors.set(e,i),i}setFilterTimeout(e){const r=this.timeouts.get(e);r&&window.clearTimeout(r);const n=window.setTimeout(()=>{console.log(`Filter (${e}) timed out`),this.deleteFilter(e)},$_);this.timeouts.set(e,n)}async getCurrentBlockHeight(){const{result:e}=await this.sendAsyncPromise(Object.assign(Object.assign({},$t),{method:"eth_blockNumber",params:[]}));return(0,De.intNumberFromHexString)((0,De.ensureHexString)(e))}async getBlockHashByNumber(e){const r=await this.sendAsyncPromise(Object.assign(Object.assign({},$t),{method:"eth_getBlockByNumber",params:[(0,De.hexStringFromIntNumber)(e),!1]}));return r.result&&typeof r.result.hash=="string"?(0,De.ensureHexString)(r.result.hash):null}}wr.FilterPolyfill=W_;function Qf(t){return{fromBlock:fc(t.fromBlock),toBlock:fc(t.toBlock),addresses:t.address===void 0?null:Array.isArray(t.address)?t.address:[t.address],topics:t.topics||[]}}wr.filterFromParam=Qf;function lc(t){const e={fromBlock:hc(t.fromBlock),toBlock:hc(t.toBlock),topics:t.topics};return t.addresses!==null&&(e.address=t.addresses),e}function fc(t){if(t===void 0||t==="latest"||t==="pending")return"latest";if(t==="earliest")return(0,or.IntNumber)(0);if((0,De.isHexString)(t))return(0,De.intNumberFromHexString)(t);throw new Error(`Invalid block option: ${String(t)}`)}function hc(t){return t==="latest"?t:(0,De.hexStringFromIntNumber)(t)}function Dn(){return Object.assign(Object.assign({},$t),{error:{code:-32e3,message:"filter not found"}})}function Ln(){return Object.assign(Object.assign({},$t),{result:[]})}var Yf={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.JSONRPCMethod=void 0,function(e){e.eth_accounts="eth_accounts",e.eth_coinbase="eth_coinbase",e.net_version="net_version",e.eth_chainId="eth_chainId",e.eth_uninstallFilter="eth_uninstallFilter",e.eth_requestAccounts="eth_requestAccounts",e.eth_sign="eth_sign",e.eth_ecRecover="eth_ecRecover",e.personal_sign="personal_sign",e.personal_ecRecover="personal_ecRecover",e.eth_signTransaction="eth_signTransaction",e.eth_sendRawTransaction="eth_sendRawTransaction",e.eth_sendTransaction="eth_sendTransaction",e.eth_signTypedData_v1="eth_signTypedData_v1",e.eth_signTypedData_v2="eth_signTypedData_v2",e.eth_signTypedData_v3="eth_signTypedData_v3",e.eth_signTypedData_v4="eth_signTypedData_v4",e.eth_signTypedData="eth_signTypedData",e.cbWallet_arbitrary="walletlink_arbitrary",e.wallet_addEthereumChain="wallet_addEthereumChain",e.wallet_switchEthereumChain="wallet_switchEthereumChain",e.wallet_watchAsset="wallet_watchAsset",e.eth_subscribe="eth_subscribe",e.eth_unsubscribe="eth_unsubscribe",e.eth_newFilter="eth_newFilter",e.eth_newBlockFilter="eth_newBlockFilter",e.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",e.eth_getFilterChanges="eth_getFilterChanges",e.eth_getFilterLogs="eth_getFilterLogs"}(t.JSONRPCMethod||(t.JSONRPCMethod={}))})(Yf);var Pi={};const dc=(t,e)=>function(){const r=e.promiseModule,n=new Array(arguments.length);for(let i=0;i<arguments.length;i++)n[i]=arguments[i];return new r((i,o)=>{e.errorFirst?n.push(function(s,a){if(e.multiArgs){const u=new Array(arguments.length-1);for(let c=1;c<arguments.length;c++)u[c-1]=arguments[c];s?(u.unshift(s),o(u)):i(u)}else s?o(s):i(a)}):n.push(function(s){if(e.multiArgs){const a=new Array(arguments.length-1);for(let u=0;u<arguments.length;u++)a[u]=arguments[u];i(a)}else i(s)}),t.apply(this,n)})};var U_=(t,e)=>{e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);const r=i=>{const o=s=>typeof s=="string"?i===s:s.test(i);return e.include?e.include.some(o):!e.exclude.some(o)};let n;typeof t=="function"?n=function(){return e.excludeMain?t.apply(this,arguments):dc(t,e).apply(this,arguments)}:n=Object.create(Object.getPrototypeOf(t));for(const i in t){const o=t[i];n[i]=typeof o=="function"&&r(i)?dc(o,e):o}return n},H_=z_,V_=Object.prototype.hasOwnProperty;function z_(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)V_.call(r,n)&&(t[n]=r[n])}return t}var q_=G_;function G_(t){t=t||{};var e=t.max||Number.MAX_SAFE_INTEGER,r=typeof t.start<"u"?t.start:Math.floor(Math.random()*e);return function(){return r=r%e,r++}}const Q_=H_,Y_=q_();var K_=ee;function ee(t){const e=this;e.currentProvider=t}ee.prototype.getBalance=Cn(2,"eth_getBalance");ee.prototype.getCode=Cn(2,"eth_getCode");ee.prototype.getTransactionCount=Cn(2,"eth_getTransactionCount");ee.prototype.getStorageAt=Cn(3,"eth_getStorageAt");ee.prototype.call=Cn(2,"eth_call");ee.prototype.protocolVersion=se("eth_protocolVersion");ee.prototype.syncing=se("eth_syncing");ee.prototype.coinbase=se("eth_coinbase");ee.prototype.mining=se("eth_mining");ee.prototype.hashrate=se("eth_hashrate");ee.prototype.gasPrice=se("eth_gasPrice");ee.prototype.accounts=se("eth_accounts");ee.prototype.blockNumber=se("eth_blockNumber");ee.prototype.getBlockTransactionCountByHash=se("eth_getBlockTransactionCountByHash");ee.prototype.getBlockTransactionCountByNumber=se("eth_getBlockTransactionCountByNumber");ee.prototype.getUncleCountByBlockHash=se("eth_getUncleCountByBlockHash");ee.prototype.getUncleCountByBlockNumber=se("eth_getUncleCountByBlockNumber");ee.prototype.sign=se("eth_sign");ee.prototype.sendTransaction=se("eth_sendTransaction");ee.prototype.sendRawTransaction=se("eth_sendRawTransaction");ee.prototype.estimateGas=se("eth_estimateGas");ee.prototype.getBlockByHash=se("eth_getBlockByHash");ee.prototype.getBlockByNumber=se("eth_getBlockByNumber");ee.prototype.getTransactionByHash=se("eth_getTransactionByHash");ee.prototype.getTransactionByBlockHashAndIndex=se("eth_getTransactionByBlockHashAndIndex");ee.prototype.getTransactionByBlockNumberAndIndex=se("eth_getTransactionByBlockNumberAndIndex");ee.prototype.getTransactionReceipt=se("eth_getTransactionReceipt");ee.prototype.getUncleByBlockHashAndIndex=se("eth_getUncleByBlockHashAndIndex");ee.prototype.getUncleByBlockNumberAndIndex=se("eth_getUncleByBlockNumberAndIndex");ee.prototype.getCompilers=se("eth_getCompilers");ee.prototype.compileLLL=se("eth_compileLLL");ee.prototype.compileSolidity=se("eth_compileSolidity");ee.prototype.compileSerpent=se("eth_compileSerpent");ee.prototype.newFilter=se("eth_newFilter");ee.prototype.newBlockFilter=se("eth_newBlockFilter");ee.prototype.newPendingTransactionFilter=se("eth_newPendingTransactionFilter");ee.prototype.uninstallFilter=se("eth_uninstallFilter");ee.prototype.getFilterChanges=se("eth_getFilterChanges");ee.prototype.getFilterLogs=se("eth_getFilterLogs");ee.prototype.getLogs=se("eth_getLogs");ee.prototype.getWork=se("eth_getWork");ee.prototype.submitWork=se("eth_submitWork");ee.prototype.submitHashrate=se("eth_submitHashrate");ee.prototype.sendAsync=function(t,e){this.currentProvider.sendAsync(J_(t),function(n,i){if(!n&&i.error&&(n=new Error("EthQuery - RPC Error - "+i.error.message)),n)return e(n);e(null,i.result)})};function se(t){return function(){const e=this;var r=[].slice.call(arguments),n=r.pop();e.sendAsync({method:t,params:r},n)}}function Cn(t,e){return function(){const r=this;var n=[].slice.call(arguments),i=n.pop();n.length<t&&n.push("latest"),r.sendAsync({method:e,params:n},i)}}function J_(t){return Q_({id:Y_(),jsonrpc:"2.0",params:[]},t)}var Kf={},Jf={},Z_=of,Ni=function(){return Z_()&&!!Symbol.toStringTag},X_=Ni(),ew=Ii,ya=ew("Object.prototype.toString"),ji=function(e){return X_&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:ya(e)==="[object Arguments]"},Zf=function(e){return ji(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&ya(e)!=="[object Array]"&&ya(e.callee)==="[object Function]"},tw=function(){return ji(arguments)}();ji.isLegacyArguments=Zf;var rw=tw?ji:Zf,nw=Object.prototype.toString,iw=Function.prototype.toString,ow=/^\s*(?:function)?\*/,Xf=Ni(),Cs=Object.getPrototypeOf,sw=function(){if(!Xf)return!1;try{return Function("return function*() {}")()}catch{}},ks,aw=function(e){if(typeof e!="function")return!1;if(ow.test(iw.call(e)))return!0;if(!Xf){var r=nw.call(e);return r==="[object GeneratorFunction]"}if(!Cs)return!1;if(typeof ks>"u"){var n=sw();ks=n?Cs(n):!1}return Cs(e)===ks},eh=Function.prototype.toString,ar=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,ba,zn;if(typeof ar=="function"&&typeof Object.defineProperty=="function")try{ba=Object.defineProperty({},"length",{get:function(){throw zn}}),zn={},ar(function(){throw 42},null,ba)}catch(t){t!==zn&&(ar=null)}else ar=null;var uw=/^\s*class\b/,ga=function(e){try{var r=eh.call(e);return uw.test(r)}catch{return!1}},pc=function(e){try{return ga(e)?!1:(eh.call(e),!0)}catch{return!1}},qn=Object.prototype.toString,cw="[object Object]",lw="[object Function]",fw="[object GeneratorFunction]",hw="[object HTMLAllCollection]",dw=typeof Symbol=="function"&&!!Symbol.toStringTag,pw=!(0 in[,]),va=function(){return!1};if(typeof document=="object"){var yw=document.all;qn.call(yw)===qn.call(document.all)&&(va=function(e){if((pw||!e)&&(typeof e>"u"||typeof e=="object"))try{var r=qn.call(e);return(r===hw||r===cw)&&e("")==null}catch{}return!1})}var bw=ar?function(e){if(va(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(typeof e=="function"&&!e.prototype)return!0;try{ar(e,null,ba)}catch(r){if(r!==zn)return!1}return!ga(e)}:function(e){if(va(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(dw)return pc(e);if(ga(e))return!1;var r=qn.call(e);return r===lw||r===fw||pc(e)},gw=bw,vw=Object.prototype.toString,th=Object.prototype.hasOwnProperty,mw=function(e,r,n){for(var i=0,o=e.length;i<o;i++)th.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},_w=function(e,r,n){for(var i=0,o=e.length;i<o;i++)n==null?r(e.charAt(i),i,e):r.call(n,e.charAt(i),i,e)},ww=function(e,r,n){for(var i in e)th.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},Sw=function(e,r,n){if(!gw(r))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),vw.call(e)==="[object Array]"?mw(e,r,i):typeof e=="string"?_w(e,r,i):ww(e,r,i)},rh=Sw,Is=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],Ew=typeof globalThis>"u"?ie:globalThis,nh=function(){for(var e=[],r=0;r<Is.length;r++)typeof Ew[Is[r]]=="function"&&(e[e.length]=Is[r]);return e},Rs,yc;function xw(){return yc||(yc=1,Rs=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,r);if(s.value!==i||s.enumerable!==!0)return!1}return!0}),Rs}var Ms,bc;function Aw(){if(bc)return Ms;bc=1;var t=typeof Symbol<"u"&&Symbol,e=xw();return Ms=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},Ms}var Os,gc;function Cw(){if(gc)return Os;gc=1;var t,e=SyntaxError,r=Function,n=TypeError,i=function(G){try{return r('"use strict"; return ('+G+").constructor;")()}catch{}},o=Object.getOwnPropertyDescriptor;if(o)try{o({},"")}catch{o=null}var s=function(){throw new n},a=o?function(){try{return arguments.callee,s}catch{try{return o(arguments,"callee").get}catch{return s}}}():s,u=Aw()(),c=Object.getPrototypeOf||function(G){return G.__proto__},l={},b=typeof Uint8Array>"u"?t:c(Uint8Array),f={"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":u?c([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":l,"%AsyncGenerator%":l,"%AsyncGeneratorFunction%":l,"%AsyncIteratorPrototype%":l,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":r,"%GeneratorFunction%":l,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":u?c(c([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!u?t:c(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!u?t:c(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":u?c(""[Symbol.iterator]()):t,"%Symbol%":u?Symbol:t,"%SyntaxError%":e,"%ThrowTypeError%":a,"%TypedArray%":b,"%TypeError%":n,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet},p=function G(F){var m;if(F==="%AsyncFunction%")m=i("async function () {}");else if(F==="%GeneratorFunction%")m=i("function* () {}");else if(F==="%AsyncGeneratorFunction%")m=i("async function* () {}");else if(F==="%AsyncGenerator%"){var E=G("%AsyncGeneratorFunction%");E&&(m=E.prototype)}else if(F==="%AsyncIteratorPrototype%"){var A=G("%AsyncGenerator%");A&&(m=c(A.prototype))}return f[F]=m,m},g={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},C=Sn,I=Da,y=C.call(Function.call,Array.prototype.concat),v=C.call(Function.apply,Array.prototype.splice),x=C.call(Function.call,String.prototype.replace),P=C.call(Function.call,String.prototype.slice),$=C.call(Function.call,RegExp.prototype.exec),H=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Y=/\\(\\)?/g,K=function(F){var m=P(F,0,1),E=P(F,-1);if(m==="%"&&E!=="%")throw new e("invalid intrinsic syntax, expected closing `%`");if(E==="%"&&m!=="%")throw new e("invalid intrinsic syntax, expected opening `%`");var A=[];return x(F,H,function(R,B,T,z){A[A.length]=T?x(z,Y,"$1"):B||R}),A},L=function(F,m){var E=F,A;if(I(g,E)&&(A=g[E],E="%"+A[0]+"%"),I(f,E)){var R=f[E];if(R===l&&(R=p(E)),typeof R>"u"&&!m)throw new n("intrinsic "+F+" exists, but is not available. Please file an issue!");return{alias:A,name:E,value:R}}throw new e("intrinsic "+F+" does not exist!")};return Os=function(F,m){if(typeof F!="string"||F.length===0)throw new n("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof m!="boolean")throw new n('"allowMissing" argument must be a boolean');if($(/^%?[^%]*%?$/,F)===null)throw new e("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var E=K(F),A=E.length>0?E[0]:"",R=L("%"+A+"%",m),B=R.name,T=R.value,z=!1,J=R.alias;J&&(A=J[0],v(E,y([0,1],J)));for(var ae=1,Q=!0;ae<E.length;ae+=1){var S=E[ae],k=P(S,0,1),O=P(S,-1);if((k==='"'||k==="'"||k==="`"||O==='"'||O==="'"||O==="`")&&k!==O)throw new e("property names with quotes must have matching quotes");if((S==="constructor"||!Q)&&(z=!0),A+="."+S,B="%"+A+"%",I(f,B))T=f[B];else if(T!=null){if(!(S in T)){if(!m)throw new n("base intrinsic for "+F+" exists, but the property is not available.");return}if(o&&ae+1>=E.length){var V=o(T,S);Q=!!V,Q&&"get"in V&&!("originalValue"in V.get)?T=V.get:T=T[S]}else Q=I(T,S),T=T[S];Q&&!z&&(f[B]=T)}}return T},Os}var Ts,vc;function kw(){if(vc)return Ts;vc=1;var t=Cw(),e=t("%Object.getOwnPropertyDescriptor%",!0);if(e)try{e([],"length")}catch{e=null}return Ts=e,Ts}var Ps,mc;function Iw(){return mc||(mc=1,Ps=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,r);if(s.value!==i||s.enumerable!==!0)return!1}return!0}),Ps}var Ns,_c;function Rw(){if(_c)return Ns;_c=1;var t=typeof Symbol<"u"&&Symbol,e=Iw();return Ns=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},Ns}var js,wc;function Mw(){if(wc)return js;wc=1;var t,e=SyntaxError,r=Function,n=TypeError,i=function(G){try{return r('"use strict"; return ('+G+").constructor;")()}catch{}},o=Object.getOwnPropertyDescriptor;if(o)try{o({},"")}catch{o=null}var s=function(){throw new n},a=o?function(){try{return arguments.callee,s}catch{try{return o(arguments,"callee").get}catch{return s}}}():s,u=Rw()(),c=Object.getPrototypeOf||function(G){return G.__proto__},l={},b=typeof Uint8Array>"u"?t:c(Uint8Array),f={"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":u?c([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":l,"%AsyncGenerator%":l,"%AsyncGeneratorFunction%":l,"%AsyncIteratorPrototype%":l,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":r,"%GeneratorFunction%":l,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":u?c(c([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!u?t:c(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!u?t:c(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":u?c(""[Symbol.iterator]()):t,"%Symbol%":u?Symbol:t,"%SyntaxError%":e,"%ThrowTypeError%":a,"%TypedArray%":b,"%TypeError%":n,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet},p=function G(F){var m;if(F==="%AsyncFunction%")m=i("async function () {}");else if(F==="%GeneratorFunction%")m=i("function* () {}");else if(F==="%AsyncGeneratorFunction%")m=i("async function* () {}");else if(F==="%AsyncGenerator%"){var E=G("%AsyncGeneratorFunction%");E&&(m=E.prototype)}else if(F==="%AsyncIteratorPrototype%"){var A=G("%AsyncGenerator%");A&&(m=c(A.prototype))}return f[F]=m,m},g={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},C=Sn,I=Da,y=C.call(Function.call,Array.prototype.concat),v=C.call(Function.apply,Array.prototype.splice),x=C.call(Function.call,String.prototype.replace),P=C.call(Function.call,String.prototype.slice),$=C.call(Function.call,RegExp.prototype.exec),H=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Y=/\\(\\)?/g,K=function(F){var m=P(F,0,1),E=P(F,-1);if(m==="%"&&E!=="%")throw new e("invalid intrinsic syntax, expected closing `%`");if(E==="%"&&m!=="%")throw new e("invalid intrinsic syntax, expected opening `%`");var A=[];return x(F,H,function(R,B,T,z){A[A.length]=T?x(z,Y,"$1"):B||R}),A},L=function(F,m){var E=F,A;if(I(g,E)&&(A=g[E],E="%"+A[0]+"%"),I(f,E)){var R=f[E];if(R===l&&(R=p(E)),typeof R>"u"&&!m)throw new n("intrinsic "+F+" exists, but is not available. Please file an issue!");return{alias:A,name:E,value:R}}throw new e("intrinsic "+F+" does not exist!")};return js=function(F,m){if(typeof F!="string"||F.length===0)throw new n("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof m!="boolean")throw new n('"allowMissing" argument must be a boolean');if($(/^%?[^%]*%?$/,F)===null)throw new e("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var E=K(F),A=E.length>0?E[0]:"",R=L("%"+A+"%",m),B=R.name,T=R.value,z=!1,J=R.alias;J&&(A=J[0],v(E,y([0,1],J)));for(var ae=1,Q=!0;ae<E.length;ae+=1){var S=E[ae],k=P(S,0,1),O=P(S,-1);if((k==='"'||k==="'"||k==="`"||O==='"'||O==="'"||O==="`")&&k!==O)throw new e("property names with quotes must have matching quotes");if((S==="constructor"||!Q)&&(z=!0),A+="."+S,B="%"+A+"%",I(f,B))T=f[B];else if(T!=null){if(!(S in T)){if(!m)throw new n("base intrinsic for "+F+" exists, but the property is not available.");return}if(o&&ae+1>=E.length){var V=o(T,S);Q=!!V,Q&&"get"in V&&!("originalValue"in V.get)?T=V.get:T=T[S]}else Q=I(T,S),T=T[S];Q&&!z&&(f[B]=T)}}return T},js}var Ds,Sc;function Ow(){if(Sc)return Ds;Sc=1;var t=Mw(),e=t("%Object.getOwnPropertyDescriptor%",!0);if(e)try{e([],"length")}catch{e=null}return Ds=e,Ds}var ih=rh,Tw=nh,qa=Ii,Pw=qa("Object.prototype.toString"),oh=Ni(),Nw=typeof globalThis>"u"?ie:globalThis,sh=Tw(),jw=qa("Array.prototype.indexOf",!0)||function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},Dw=qa("String.prototype.slice"),ah={},Gn=Ow(),Ls=Object.getPrototypeOf;oh&&Gn&&Ls&&ih(sh,function(t){var e=new Nw[t];if(Symbol.toStringTag in e){var r=Ls(e),n=Gn(r,Symbol.toStringTag);if(!n){var i=Ls(r);n=Gn(i,Symbol.toStringTag)}ah[t]=n.get}});var Lw=function(e){var r=!1;return ih(ah,function(n,i){if(!r)try{r=n.call(e)===i}catch{}}),r},uh=function(e){if(!e||typeof e!="object")return!1;if(!oh||!(Symbol.toStringTag in e)){var r=Dw(Pw(e),8,-1);return jw(sh,r)>-1}return Gn?Lw(e):!1},ch=rh,Bw=nh,lh=Ii,Fw=lh("Object.prototype.toString"),fh=Ni(),Ec=typeof globalThis>"u"?ie:globalThis,$w=Bw(),Ww=lh("String.prototype.slice"),hh={},Bs=kw(),Fs=Object.getPrototypeOf;fh&&Bs&&Fs&&ch($w,function(t){if(typeof Ec[t]=="function"){var e=new Ec[t];if(Symbol.toStringTag in e){var r=Fs(e),n=Bs(r,Symbol.toStringTag);if(!n){var i=Fs(r);n=Bs(i,Symbol.toStringTag)}hh[t]=n.get}}});var Uw=function(e){var r=!1;return ch(hh,function(n,i){if(!r)try{var o=n.call(e);o===i&&(r=o)}catch{}}),r},Hw=uh,Vw=function(e){return Hw(e)?!fh||!(Symbol.toStringTag in e)?Ww(Fw(e),8,-1):Uw(e):!1};(function(t){var e=rw,r=aw,n=Vw,i=uh;function o(N){return N.call.bind(N)}var s=typeof BigInt<"u",a=typeof Symbol<"u",u=o(Object.prototype.toString),c=o(Number.prototype.valueOf),l=o(String.prototype.valueOf),b=o(Boolean.prototype.valueOf);if(s)var f=o(BigInt.prototype.valueOf);if(a)var p=o(Symbol.prototype.valueOf);function g(N,jt){if(typeof N!="object")return!1;try{return jt(N),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=i;function C(N){return typeof Promise<"u"&&N instanceof Promise||N!==null&&typeof N=="object"&&typeof N.then=="function"&&typeof N.catch=="function"}t.isPromise=C;function I(N){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(N):i(N)||k(N)}t.isArrayBufferView=I;function y(N){return n(N)==="Uint8Array"}t.isUint8Array=y;function v(N){return n(N)==="Uint8ClampedArray"}t.isUint8ClampedArray=v;function x(N){return n(N)==="Uint16Array"}t.isUint16Array=x;function P(N){return n(N)==="Uint32Array"}t.isUint32Array=P;function $(N){return n(N)==="Int8Array"}t.isInt8Array=$;function H(N){return n(N)==="Int16Array"}t.isInt16Array=H;function Y(N){return n(N)==="Int32Array"}t.isInt32Array=Y;function K(N){return n(N)==="Float32Array"}t.isFloat32Array=K;function L(N){return n(N)==="Float64Array"}t.isFloat64Array=L;function G(N){return n(N)==="BigInt64Array"}t.isBigInt64Array=G;function F(N){return n(N)==="BigUint64Array"}t.isBigUint64Array=F;function m(N){return u(N)==="[object Map]"}m.working=typeof Map<"u"&&m(new Map);function E(N){return typeof Map>"u"?!1:m.working?m(N):N instanceof Map}t.isMap=E;function A(N){return u(N)==="[object Set]"}A.working=typeof Set<"u"&&A(new Set);function R(N){return typeof Set>"u"?!1:A.working?A(N):N instanceof Set}t.isSet=R;function B(N){return u(N)==="[object WeakMap]"}B.working=typeof WeakMap<"u"&&B(new WeakMap);function T(N){return typeof WeakMap>"u"?!1:B.working?B(N):N instanceof WeakMap}t.isWeakMap=T;function z(N){return u(N)==="[object WeakSet]"}z.working=typeof WeakSet<"u"&&z(new WeakSet);function J(N){return z(N)}t.isWeakSet=J;function ae(N){return u(N)==="[object ArrayBuffer]"}ae.working=typeof ArrayBuffer<"u"&&ae(new ArrayBuffer);function Q(N){return typeof ArrayBuffer>"u"?!1:ae.working?ae(N):N instanceof ArrayBuffer}t.isArrayBuffer=Q;function S(N){return u(N)==="[object DataView]"}S.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&S(new DataView(new ArrayBuffer(1),0,1));function k(N){return typeof DataView>"u"?!1:S.working?S(N):N instanceof DataView}t.isDataView=k;var O=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function V(N){return u(N)==="[object SharedArrayBuffer]"}function _(N){return typeof O>"u"?!1:(typeof V.working>"u"&&(V.working=V(new O)),V.working?V(N):N instanceof O)}t.isSharedArrayBuffer=_;function w(N){return u(N)==="[object AsyncFunction]"}t.isAsyncFunction=w;function M(N){return u(N)==="[object Map Iterator]"}t.isMapIterator=M;function W(N){return u(N)==="[object Set Iterator]"}t.isSetIterator=W;function q(N){return u(N)==="[object Generator]"}t.isGeneratorObject=q;function h(N){return u(N)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=h;function d(N){return g(N,c)}t.isNumberObject=d;function j(N){return g(N,l)}t.isStringObject=j;function U(N){return g(N,b)}t.isBooleanObject=U;function he(N){return s&&g(N,f)}t.isBigIntObject=he;function re(N){return a&&g(N,p)}t.isSymbolObject=re;function fe(N){return d(N)||j(N)||U(N)||he(N)||re(N)}t.isBoxedPrimitive=fe;function Je(N){return typeof Uint8Array<"u"&&(Q(N)||_(N))}t.isAnyArrayBuffer=Je,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(N){Object.defineProperty(t,N,{enumerable:!1,value:function(){throw new Error(N+" is not supported in userland")}})})})(Jf);var zw=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"};(function(t){var e=Object.getOwnPropertyDescriptors||function(k){for(var O=Object.keys(k),V={},_=0;_<O.length;_++)V[O[_]]=Object.getOwnPropertyDescriptor(k,O[_]);return V},r=/%[sdj%]/g;t.format=function(S){if(!$(S)){for(var k=[],O=0;O<arguments.length;O++)k.push(s(arguments[O]));return k.join(" ")}for(var O=1,V=arguments,_=V.length,w=String(S).replace(r,function(W){if(W==="%%")return"%";if(O>=_)return W;switch(W){case"%s":return String(V[O++]);case"%d":return Number(V[O++]);case"%j":try{return JSON.stringify(V[O++])}catch{return"[Circular]"}default:return W}}),M=V[O];O<_;M=V[++O])v(M)||!L(M)?w+=" "+M:w+=" "+s(M);return w},t.deprecate=function(S,k){if(typeof process<"u"&&process.noDeprecation===!0)return S;if(typeof process>"u")return function(){return t.deprecate(S,k).apply(this,arguments)};var O=!1;function V(){if(!O){if(process.throwDeprecation)throw new Error(k);process.traceDeprecation?console.trace(k):console.error(k),O=!0}return S.apply(this,arguments)}return V};var n={},i=/^$/;if(process.env.NODE_DEBUG){var o=process.env.NODE_DEBUG;o=o.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+o+"$","i")}t.debuglog=function(S){if(S=S.toUpperCase(),!n[S])if(i.test(S)){var k=process.pid;n[S]=function(){var O=t.format.apply(t,arguments);console.error("%s %d: %s",S,k,O)}}else n[S]=function(){};return n[S]};function s(S,k){var O={seen:[],stylize:u};return arguments.length>=3&&(O.depth=arguments[2]),arguments.length>=4&&(O.colors=arguments[3]),y(k)?O.showHidden=k:k&&t._extend(O,k),Y(O.showHidden)&&(O.showHidden=!1),Y(O.depth)&&(O.depth=2),Y(O.colors)&&(O.colors=!1),Y(O.customInspect)&&(O.customInspect=!0),O.colors&&(O.stylize=a),l(O,S,O.depth)}t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function a(S,k){var O=s.styles[k];return O?"\x1B["+s.colors[O][0]+"m"+S+"\x1B["+s.colors[O][1]+"m":S}function u(S,k){return S}function c(S){var k={};return S.forEach(function(O,V){k[O]=!0}),k}function l(S,k,O){if(S.customInspect&&k&&m(k.inspect)&&k.inspect!==t.inspect&&!(k.constructor&&k.constructor.prototype===k)){var V=k.inspect(O,S);return $(V)||(V=l(S,V,O)),V}var _=b(S,k);if(_)return _;var w=Object.keys(k),M=c(w);if(S.showHidden&&(w=Object.getOwnPropertyNames(k)),F(k)&&(w.indexOf("message")>=0||w.indexOf("description")>=0))return f(k);if(w.length===0){if(m(k)){var W=k.name?": "+k.name:"";return S.stylize("[Function"+W+"]","special")}if(K(k))return S.stylize(RegExp.prototype.toString.call(k),"regexp");if(G(k))return S.stylize(Date.prototype.toString.call(k),"date");if(F(k))return f(k)}var q="",h=!1,d=["{","}"];if(I(k)&&(h=!0,d=["[","]"]),m(k)){var j=k.name?": "+k.name:"";q=" [Function"+j+"]"}if(K(k)&&(q=" "+RegExp.prototype.toString.call(k)),G(k)&&(q=" "+Date.prototype.toUTCString.call(k)),F(k)&&(q=" "+f(k)),w.length===0&&(!h||k.length==0))return d[0]+q+d[1];if(O<0)return K(k)?S.stylize(RegExp.prototype.toString.call(k),"regexp"):S.stylize("[Object]","special");S.seen.push(k);var U;return h?U=p(S,k,O,M,w):U=w.map(function(he){return g(S,k,O,M,he,h)}),S.seen.pop(),C(U,q,d)}function b(S,k){if(Y(k))return S.stylize("undefined","undefined");if($(k)){var O="'"+JSON.stringify(k).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return S.stylize(O,"string")}if(P(k))return S.stylize(""+k,"number");if(y(k))return S.stylize(""+k,"boolean");if(v(k))return S.stylize("null","null")}function f(S){return"["+Error.prototype.toString.call(S)+"]"}function p(S,k,O,V,_){for(var w=[],M=0,W=k.length;M<W;++M)z(k,String(M))?w.push(g(S,k,O,V,String(M),!0)):w.push("");return _.forEach(function(q){q.match(/^\d+$/)||w.push(g(S,k,O,V,q,!0))}),w}function g(S,k,O,V,_,w){var M,W,q;if(q=Object.getOwnPropertyDescriptor(k,_)||{value:k[_]},q.get?q.set?W=S.stylize("[Getter/Setter]","special"):W=S.stylize("[Getter]","special"):q.set&&(W=S.stylize("[Setter]","special")),z(V,_)||(M="["+_+"]"),W||(S.seen.indexOf(q.value)<0?(v(O)?W=l(S,q.value,null):W=l(S,q.value,O-1),W.indexOf(`
`)>-1&&(w?W=W.split(`
`).map(function(h){return"  "+h}).join(`
`).substr(2):W=`
`+W.split(`
`).map(function(h){return"   "+h}).join(`
`))):W=S.stylize("[Circular]","special")),Y(M)){if(w&&_.match(/^\d+$/))return W;M=JSON.stringify(""+_),M.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(M=M.substr(1,M.length-2),M=S.stylize(M,"name")):(M=M.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),M=S.stylize(M,"string"))}return M+": "+W}function C(S,k,O){var V=S.reduce(function(_,w){return w.indexOf(`
`)>=0,_+w.replace(/\u001b\[\d\d?m/g,"").length+1},0);return V>60?O[0]+(k===""?"":k+`
 `)+" "+S.join(`,
  `)+" "+O[1]:O[0]+k+" "+S.join(", ")+" "+O[1]}t.types=Jf;function I(S){return Array.isArray(S)}t.isArray=I;function y(S){return typeof S=="boolean"}t.isBoolean=y;function v(S){return S===null}t.isNull=v;function x(S){return S==null}t.isNullOrUndefined=x;function P(S){return typeof S=="number"}t.isNumber=P;function $(S){return typeof S=="string"}t.isString=$;function H(S){return typeof S=="symbol"}t.isSymbol=H;function Y(S){return S===void 0}t.isUndefined=Y;function K(S){return L(S)&&A(S)==="[object RegExp]"}t.isRegExp=K,t.types.isRegExp=K;function L(S){return typeof S=="object"&&S!==null}t.isObject=L;function G(S){return L(S)&&A(S)==="[object Date]"}t.isDate=G,t.types.isDate=G;function F(S){return L(S)&&(A(S)==="[object Error]"||S instanceof Error)}t.isError=F,t.types.isNativeError=F;function m(S){return typeof S=="function"}t.isFunction=m;function E(S){return S===null||typeof S=="boolean"||typeof S=="number"||typeof S=="string"||typeof S=="symbol"||typeof S>"u"}t.isPrimitive=E,t.isBuffer=zw;function A(S){return Object.prototype.toString.call(S)}function R(S){return S<10?"0"+S.toString(10):S.toString(10)}var B=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function T(){var S=new Date,k=[R(S.getHours()),R(S.getMinutes()),R(S.getSeconds())].join(":");return[S.getDate(),B[S.getMonth()],k].join(" ")}t.log=function(){console.log("%s - %s",T(),t.format.apply(t,arguments))},t.inherits=Qe.exports,t._extend=function(S,k){if(!k||!L(k))return S;for(var O=Object.keys(k),V=O.length;V--;)S[O[V]]=k[O[V]];return S};function z(S,k){return Object.prototype.hasOwnProperty.call(S,k)}var J=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(k){if(typeof k!="function")throw new TypeError('The "original" argument must be of type Function');if(J&&k[J]){var O=k[J];if(typeof O!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(O,J,{value:O,enumerable:!1,writable:!1,configurable:!0}),O}function O(){for(var V,_,w=new Promise(function(q,h){V=q,_=h}),M=[],W=0;W<arguments.length;W++)M.push(arguments[W]);M.push(function(q,h){q?_(q):V(h)});try{k.apply(this,M)}catch(q){_(q)}return w}return Object.setPrototypeOf(O,Object.getPrototypeOf(k)),J&&Object.defineProperty(O,J,{value:O,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(O,e(k))},t.promisify.custom=J;function ae(S,k){if(!S){var O=new Error("Promise was rejected with a falsy value");O.reason=S,S=O}return k(S)}function Q(S){if(typeof S!="function")throw new TypeError('The "original" argument must be of type Function');function k(){for(var O=[],V=0;V<arguments.length;V++)O.push(arguments[V]);var _=O.pop();if(typeof _!="function")throw new TypeError("The last argument must be of type Function");var w=this,M=function(){return _.apply(w,arguments)};S.apply(this,O).then(function(W){process.nextTick(M.bind(null,null,W))},function(W){process.nextTick(ae.bind(null,W,M))})}return Object.setPrototypeOf(k,Object.getPrototypeOf(S)),Object.defineProperties(k,e(S)),k}t.callbackify=Q})(Kf);const qw=Kf,dh=pi.exports;var $s=typeof Reflect=="object"?Reflect:null,Gw=$s&&typeof $s.apply=="function"?$s.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},Qw=Ga;function Ga(){dh.call(this)}qw.inherits(Ga,dh);Ga.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n=t==="error",i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var a=i[t];if(a===void 0)return!1;if(typeof a=="function")xc(a,this,e);else for(var u=a.length,c=Yw(a,u),r=0;r<u;++r)xc(c[r],this,e);return!0};function xc(t,e,r){try{Gw(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function Yw(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}const Kw=Qw,Jw=1e3,Zw=(t,e)=>t+e,Ac=["sync","latest"];class Xw extends Kw{constructor(e={}){super(),this._blockResetDuration=e.blockResetDuration||20*Jw,this._blockResetTimeout,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(r=>this.once("latest",r))}removeAllListeners(e){e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener()}_start(){}_end(){}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e,r){!Ac.includes(e)||this._maybeStart()}_onRemoveListener(e,r){this._getBlockTrackerEventCount()>0||this._maybeEnd()}_maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),this._start())}_maybeEnd(){!this._isRunning||(this._isRunning=!1,this._setupBlockResetTimeout(),this._end())}_getBlockTrackerEventCount(){return Ac.map(e=>this.listenerCount(e)).reduce(Zw)}_newPotentialLatest(e){const r=this._currentBlock;r&&Cc(e)<=Cc(r)||this._setCurrentBlock(e)}_setCurrentBlock(e){const r=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:r,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}var eS=Xw;function Cc(t){return Number.parseInt(t,16)}const tS=U_,rS=eS,nS=1e3;class iS extends rS{constructor(e={}){if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");const r=e.pollingInterval||20*nS,n=e.retryTimeout||r/10,i=e.keepEventLoopActive!==void 0?e.keepEventLoopActive:!0,o=e.setSkipCacheFlag||!1;super(Object.assign({blockResetDuration:r},e)),this._provider=e.provider,this._pollingInterval=r,this._retryTimeout=n,this._keepEventLoopActive=i,this._setSkipCacheFlag=o}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}_start(){this._performSync().catch(e=>this.emit("error",e))}async _performSync(){for(;this._isRunning;)try{await this._updateLatestBlock(),await kc(this._pollingInterval,!this._keepEventLoopActive)}catch(e){const r=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${e.stack}`);try{this.emit("error",r)}catch{console.error(r)}await kc(this._retryTimeout,!this._keepEventLoopActive)}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:1,method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0);const r=await tS(n=>this._provider.sendAsync(e,n))();if(r.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${r.error}`);return r.result}}var oS=iS;function kc(t,e){return new Promise(r=>{const n=setTimeout(r,t);n.unref&&e&&n.unref()})}var Qa={exports:{}},sS=function(e){return(r,n,i,o)=>{const s=e[r.method];return s===void 0?i():typeof s=="function"?s(r,n,i,o):(n.result=s,o())}};(function(t){t.exports=sS})(Qa);var Ya={},Di={},kn={};Object.defineProperty(kn,"__esModule",{value:!0});kn.getUniqueId=void 0;const ph=4294967295;let Ws=Math.floor(Math.random()*ph);function aS(){return Ws=(Ws+1)%ph,Ws}kn.getUniqueId=aS;Object.defineProperty(Di,"__esModule",{value:!0});Di.createIdRemapMiddleware=void 0;const uS=kn;function cS(){return(t,e,r,n)=>{const i=t.id,o=uS.getUniqueId();t.id=o,e.id=o,r(s=>{t.id=i,e.id=i,s()})}}Di.createIdRemapMiddleware=cS;var Li={};Object.defineProperty(Li,"__esModule",{value:!0});Li.createAsyncMiddleware=void 0;function lS(t){return async(e,r,n,i)=>{let o;const s=new Promise(l=>{o=l});let a=null,u=!1;const c=async()=>{u=!0,n(l=>{a=l,o()}),await s};try{await t(e,r,c),u?(await s,a(null)):i(null)}catch(l){a?a(l):i(l)}}}Li.createAsyncMiddleware=lS;var Bi={};Object.defineProperty(Bi,"__esModule",{value:!0});Bi.createScaffoldMiddleware=void 0;function fS(t){return(e,r,n,i)=>{const o=t[e.method];return o===void 0?n():typeof o=="function"?o(e,r,n,i):(r.result=o,i())}}Bi.createScaffoldMiddleware=fS;var In={},yh={},Tt={};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.EthereumProviderError=Tt.EthereumRpcError=void 0;const hS=rl;class bh extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return hS.default(this.serialize(),yS,2)}}Tt.EthereumRpcError=bh;class dS extends bh{constructor(e,r,n){if(!pS(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}Tt.EthereumProviderError=dS;function pS(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function yS(t,e){if(e!=="[Circular]")return e}var Ka={},Pt={};Object.defineProperty(Pt,"__esModule",{value:!0});Pt.errorValues=Pt.errorCodes=void 0;Pt.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};Pt.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=Pt,r=Tt,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",o={code:n,message:s(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function s(f,p=i){if(Number.isInteger(f)){const g=f.toString();if(b(e.errorValues,g))return e.errorValues[g].message;if(c(f))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return p}t.getMessageFromCode=s;function a(f){if(!Number.isInteger(f))return!1;const p=f.toString();return!!(e.errorValues[p]||c(f))}t.isValidCode=a;function u(f,{fallbackError:p=o,shouldIncludeStack:g=!1}={}){var C,I;if(!p||!Number.isInteger(p.code)||typeof p.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(f instanceof r.EthereumRpcError)return f.serialize();const y={};if(f&&typeof f=="object"&&!Array.isArray(f)&&b(f,"code")&&a(f.code)){const x=f;y.code=x.code,x.message&&typeof x.message=="string"?(y.message=x.message,b(x,"data")&&(y.data=x.data)):(y.message=s(y.code),y.data={originalError:l(f)})}else{y.code=p.code;const x=(C=f)===null||C===void 0?void 0:C.message;y.message=x&&typeof x=="string"?x:p.message,y.data={originalError:l(f)}}const v=(I=f)===null||I===void 0?void 0:I.stack;return g&&f&&v&&typeof v=="string"&&(y.stack=v),y}t.serializeError=u;function c(f){return f>=-32099&&f<=-32e3}function l(f){return f&&typeof f=="object"&&!Array.isArray(f)?Object.assign({},f):f}function b(f,p){return Object.prototype.hasOwnProperty.call(f,p)}})(Ka);var Fi={};Object.defineProperty(Fi,"__esModule",{value:!0});Fi.ethErrors=void 0;const Ja=Tt,gh=Ka,Oe=Pt;Fi.ethErrors={rpc:{parse:t=>He(Oe.errorCodes.rpc.parse,t),invalidRequest:t=>He(Oe.errorCodes.rpc.invalidRequest,t),invalidParams:t=>He(Oe.errorCodes.rpc.invalidParams,t),methodNotFound:t=>He(Oe.errorCodes.rpc.methodNotFound,t),internal:t=>He(Oe.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return He(e,t)},invalidInput:t=>He(Oe.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>He(Oe.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>He(Oe.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>He(Oe.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>He(Oe.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>He(Oe.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Ur(Oe.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>Ur(Oe.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>Ur(Oe.errorCodes.provider.unsupportedMethod,t),disconnected:t=>Ur(Oe.errorCodes.provider.disconnected,t),chainDisconnected:t=>Ur(Oe.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new Ja.EthereumProviderError(e,r,n)}}};function He(t,e){const[r,n]=vh(e);return new Ja.EthereumRpcError(t,r||gh.getMessageFromCode(t),n)}function Ur(t,e){const[r,n]=vh(e);return new Ja.EthereumProviderError(t,r||gh.getMessageFromCode(t),n)}function vh(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=Tt;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=Ka;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=Fi;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=Pt;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(yh);var bS=ie&&ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(In,"__esModule",{value:!0});In.JsonRpcEngine=void 0;const gS=bS(Cr),Ve=yh;class ht extends gS.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?r?this._handleBatch(e,r):this._handleBatch(e):r?this._handle(e,r):this._promiseHandle(e)}asMiddleware(){return async(e,r,n,i)=>{try{const[o,s,a]=await ht._runAllMiddleware(e,r,this._middleware);return s?(await ht._runReturnHandlers(a),i(o)):n(async u=>{try{await ht._runReturnHandlers(a)}catch(c){return u(c)}return u()})}catch(o){return i(o)}}}async _handleBatch(e,r){try{const n=await Promise.all(e.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(e){return new Promise(r=>{this._handle(e,(n,i)=>{r(i)})})}async _handle(e,r){if(!e||Array.isArray(e)||typeof e!="object"){const s=new Ve.EthereumRpcError(Ve.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof e}`,{request:e});return r(s,{id:void 0,jsonrpc:"2.0",error:s})}if(typeof e.method!="string"){const s=new Ve.EthereumRpcError(Ve.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof e.method}`,{request:e});return r(s,{id:e.id,jsonrpc:"2.0",error:s})}const n=Object.assign({},e),i={id:n.id,jsonrpc:n.jsonrpc};let o=null;try{await this._processRequest(n,i)}catch(s){o=s}return o&&(delete i.result,i.error||(i.error=Ve.serializeError(o))),r(o,i)}async _processRequest(e,r){const[n,i,o]=await ht._runAllMiddleware(e,r,this._middleware);if(ht._checkForCompletion(e,r,i),await ht._runReturnHandlers(o),n)throw n}static async _runAllMiddleware(e,r,n){const i=[];let o=null,s=!1;for(const a of n)if([o,s]=await ht._runMiddleware(e,r,a,i),s)break;return[o,s,i.reverse()]}static _runMiddleware(e,r,n,i){return new Promise(o=>{const s=u=>{const c=u||r.error;c&&(r.error=Ve.serializeError(c)),o([c,!0])},a=u=>{r.error?s(r.error):(u&&(typeof u!="function"&&s(new Ve.EthereumRpcError(Ve.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof u}" for request:
${Us(e)}`,{request:e})),i.push(u)),o([null,!1]))};try{n(e,r,a,s)}catch(u){s(u)}})}static async _runReturnHandlers(e){for(const r of e)await new Promise((n,i)=>{r(o=>o?i(o):n())})}static _checkForCompletion(e,r,n){if(!("result"in r)&&!("error"in r))throw new Ve.EthereumRpcError(Ve.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${Us(e)}`,{request:e});if(!n)throw new Ve.EthereumRpcError(Ve.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${Us(e)}`,{request:e})}}In.JsonRpcEngine=ht;function Us(t){return JSON.stringify(t,null,2)}var $i={};Object.defineProperty($i,"__esModule",{value:!0});$i.mergeMiddleware=void 0;const vS=In;function mS(t){const e=new vS.JsonRpcEngine;return t.forEach(r=>e.push(r)),e.asMiddleware()}$i.mergeMiddleware=mS;(function(t){var e=ie&&ie.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=ie&&ie.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(Di,t),r(Li,t),r(Bi,t),r(kn,t),r(In,t),r($i,t)})(Ya);var mh={},Za={},Wi={exports:{}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */(function(t){var e,r,n,i,o,s,a,u,c,l,b,f,p,g,C,I,y,v,x,P,$,H,Y,K;(function(L){var G=typeof ie=="object"?ie:typeof self=="object"?self:typeof this=="object"?this:{};L(F(G,F(t.exports)));function F(m,E){return m!==G&&(typeof Object.create=="function"?Object.defineProperty(m,"__esModule",{value:!0}):m.__esModule=!0),function(A,R){return m[A]=E?E(A,R):R}}})(function(L){var G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,E){m.__proto__=E}||function(m,E){for(var A in E)Object.prototype.hasOwnProperty.call(E,A)&&(m[A]=E[A])};e=function(m,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");G(m,E);function A(){this.constructor=m}m.prototype=E===null?Object.create(E):(A.prototype=E.prototype,new A)},r=Object.assign||function(m){for(var E,A=1,R=arguments.length;A<R;A++){E=arguments[A];for(var B in E)Object.prototype.hasOwnProperty.call(E,B)&&(m[B]=E[B])}return m},n=function(m,E){var A={};for(var R in m)Object.prototype.hasOwnProperty.call(m,R)&&E.indexOf(R)<0&&(A[R]=m[R]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var B=0,R=Object.getOwnPropertySymbols(m);B<R.length;B++)E.indexOf(R[B])<0&&Object.prototype.propertyIsEnumerable.call(m,R[B])&&(A[R[B]]=m[R[B]]);return A},i=function(m,E,A,R){var B=arguments.length,T=B<3?E:R===null?R=Object.getOwnPropertyDescriptor(E,A):R,z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(m,E,A,R);else for(var J=m.length-1;J>=0;J--)(z=m[J])&&(T=(B<3?z(T):B>3?z(E,A,T):z(E,A))||T);return B>3&&T&&Object.defineProperty(E,A,T),T},o=function(m,E){return function(A,R){E(A,R,m)}},s=function(m,E){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(m,E)},a=function(m,E,A,R){function B(T){return T instanceof A?T:new A(function(z){z(T)})}return new(A||(A=Promise))(function(T,z){function J(S){try{Q(R.next(S))}catch(k){z(k)}}function ae(S){try{Q(R.throw(S))}catch(k){z(k)}}function Q(S){S.done?T(S.value):B(S.value).then(J,ae)}Q((R=R.apply(m,E||[])).next())})},u=function(m,E){var A={label:0,sent:function(){if(T[0]&1)throw T[1];return T[1]},trys:[],ops:[]},R,B,T,z;return z={next:J(0),throw:J(1),return:J(2)},typeof Symbol=="function"&&(z[Symbol.iterator]=function(){return this}),z;function J(Q){return function(S){return ae([Q,S])}}function ae(Q){if(R)throw new TypeError("Generator is already executing.");for(;A;)try{if(R=1,B&&(T=Q[0]&2?B.return:Q[0]?B.throw||((T=B.return)&&T.call(B),0):B.next)&&!(T=T.call(B,Q[1])).done)return T;switch(B=0,T&&(Q=[Q[0]&2,T.value]),Q[0]){case 0:case 1:T=Q;break;case 4:return A.label++,{value:Q[1],done:!1};case 5:A.label++,B=Q[1],Q=[0];continue;case 7:Q=A.ops.pop(),A.trys.pop();continue;default:if(T=A.trys,!(T=T.length>0&&T[T.length-1])&&(Q[0]===6||Q[0]===2)){A=0;continue}if(Q[0]===3&&(!T||Q[1]>T[0]&&Q[1]<T[3])){A.label=Q[1];break}if(Q[0]===6&&A.label<T[1]){A.label=T[1],T=Q;break}if(T&&A.label<T[2]){A.label=T[2],A.ops.push(Q);break}T[2]&&A.ops.pop(),A.trys.pop();continue}Q=E.call(m,A)}catch(S){Q=[6,S],B=0}finally{R=T=0}if(Q[0]&5)throw Q[1];return{value:Q[0]?Q[1]:void 0,done:!0}}},c=function(m,E){for(var A in m)A!=="default"&&!Object.prototype.hasOwnProperty.call(E,A)&&K(E,m,A)},K=Object.create?function(m,E,A,R){R===void 0&&(R=A),Object.defineProperty(m,R,{enumerable:!0,get:function(){return E[A]}})}:function(m,E,A,R){R===void 0&&(R=A),m[R]=E[A]},l=function(m){var E=typeof Symbol=="function"&&Symbol.iterator,A=E&&m[E],R=0;if(A)return A.call(m);if(m&&typeof m.length=="number")return{next:function(){return m&&R>=m.length&&(m=void 0),{value:m&&m[R++],done:!m}}};throw new TypeError(E?"Object is not iterable.":"Symbol.iterator is not defined.")},b=function(m,E){var A=typeof Symbol=="function"&&m[Symbol.iterator];if(!A)return m;var R=A.call(m),B,T=[],z;try{for(;(E===void 0||E-- >0)&&!(B=R.next()).done;)T.push(B.value)}catch(J){z={error:J}}finally{try{B&&!B.done&&(A=R.return)&&A.call(R)}finally{if(z)throw z.error}}return T},f=function(){for(var m=[],E=0;E<arguments.length;E++)m=m.concat(b(arguments[E]));return m},p=function(){for(var m=0,E=0,A=arguments.length;E<A;E++)m+=arguments[E].length;for(var R=Array(m),B=0,E=0;E<A;E++)for(var T=arguments[E],z=0,J=T.length;z<J;z++,B++)R[B]=T[z];return R},g=function(m,E,A){if(A||arguments.length===2)for(var R=0,B=E.length,T;R<B;R++)(T||!(R in E))&&(T||(T=Array.prototype.slice.call(E,0,R)),T[R]=E[R]);return m.concat(T||Array.prototype.slice.call(E))},C=function(m){return this instanceof C?(this.v=m,this):new C(m)},I=function(m,E,A){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var R=A.apply(m,E||[]),B,T=[];return B={},z("next"),z("throw"),z("return"),B[Symbol.asyncIterator]=function(){return this},B;function z(O){R[O]&&(B[O]=function(V){return new Promise(function(_,w){T.push([O,V,_,w])>1||J(O,V)})})}function J(O,V){try{ae(R[O](V))}catch(_){k(T[0][3],_)}}function ae(O){O.value instanceof C?Promise.resolve(O.value.v).then(Q,S):k(T[0][2],O)}function Q(O){J("next",O)}function S(O){J("throw",O)}function k(O,V){O(V),T.shift(),T.length&&J(T[0][0],T[0][1])}},y=function(m){var E,A;return E={},R("next"),R("throw",function(B){throw B}),R("return"),E[Symbol.iterator]=function(){return this},E;function R(B,T){E[B]=m[B]?function(z){return(A=!A)?{value:C(m[B](z)),done:B==="return"}:T?T(z):z}:T}},v=function(m){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var E=m[Symbol.asyncIterator],A;return E?E.call(m):(m=typeof l=="function"?l(m):m[Symbol.iterator](),A={},R("next"),R("throw"),R("return"),A[Symbol.asyncIterator]=function(){return this},A);function R(T){A[T]=m[T]&&function(z){return new Promise(function(J,ae){z=m[T](z),B(J,ae,z.done,z.value)})}}function B(T,z,J,ae){Promise.resolve(ae).then(function(Q){T({value:Q,done:J})},z)}},x=function(m,E){return Object.defineProperty?Object.defineProperty(m,"raw",{value:E}):m.raw=E,m};var F=Object.create?function(m,E){Object.defineProperty(m,"default",{enumerable:!0,value:E})}:function(m,E){m.default=E};P=function(m){if(m&&m.__esModule)return m;var E={};if(m!=null)for(var A in m)A!=="default"&&Object.prototype.hasOwnProperty.call(m,A)&&K(E,m,A);return F(E,m),E},$=function(m){return m&&m.__esModule?m:{default:m}},H=function(m,E,A,R){if(A==="a"&&!R)throw new TypeError("Private accessor was defined without a getter");if(typeof E=="function"?m!==E||!R:!E.has(m))throw new TypeError("Cannot read private member from an object whose class did not declare it");return A==="m"?R:A==="a"?R.call(m):R?R.value:E.get(m)},Y=function(m,E,A,R,B){if(R==="m")throw new TypeError("Private method is not writable");if(R==="a"&&!B)throw new TypeError("Private accessor was defined without a setter");if(typeof E=="function"?m!==E||!B:!E.has(m))throw new TypeError("Cannot write private member to an object whose class did not declare it");return R==="a"?B.call(m,A):B?B.value=A:E.set(m,A),A},L("__extends",e),L("__assign",r),L("__rest",n),L("__decorate",i),L("__param",o),L("__metadata",s),L("__awaiter",a),L("__generator",u),L("__exportStar",c),L("__createBinding",K),L("__values",l),L("__read",b),L("__spread",f),L("__spreadArrays",p),L("__spreadArray",g),L("__await",C),L("__asyncGenerator",I),L("__asyncDelegator",y),L("__asyncValues",v),L("__makeTemplateObject",x),L("__importStar",P),L("__importDefault",$),L("__classPrivateFieldGet",H),L("__classPrivateFieldSet",Y)})})(Wi);var Ui={};Object.defineProperty(Ui,"__esModule",{value:!0});var Ic=Wi.exports,_S=function(){function t(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return t.prototype.acquire=function(){var e=this,r=this.isLocked(),n=new Promise(function(i){return e._queue.push(i)});return r||this._dispatch(),n},t.prototype.runExclusive=function(e){return Ic.__awaiter(this,void 0,void 0,function(){var r,n,i;return Ic.__generator(this,function(o){switch(o.label){case 0:return[4,this.acquire()];case 1:r=o.sent(),n=r[0],i=r[1],o.label=2;case 2:return o.trys.push([2,,4,5]),[4,e(n)];case 3:return[2,o.sent()];case 4:return i(),[7];case 5:return[2]}})})},t.prototype.isLocked=function(){return this._value<=0},t.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},t.prototype._dispatch=function(){var e=this,r=this._queue.shift();if(!!r){var n=!1;this._currentReleaser=function(){n||(n=!0,e._value++,e._dispatch())},r([this._value--,this._currentReleaser])}},t}();Ui.default=_S;Object.defineProperty(Za,"__esModule",{value:!0});var Rc=Wi.exports,wS=Ui,SS=function(){function t(){this._semaphore=new wS.default(1)}return t.prototype.acquire=function(){return Rc.__awaiter(this,void 0,void 0,function(){var e,r;return Rc.__generator(this,function(n){switch(n.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=n.sent(),r=e[1],[2,r]}})})},t.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},t.prototype.isLocked=function(){return this._semaphore.isLocked()},t.prototype.release=function(){this._semaphore.release()},t}();Za.default=SS;var Hi={};Object.defineProperty(Hi,"__esModule",{value:!0});Hi.withTimeout=void 0;var Bn=Wi.exports;function ES(t,e,r){var n=this;return r===void 0&&(r=new Error("timeout")),{acquire:function(){return new Promise(function(i,o){return Bn.__awaiter(n,void 0,void 0,function(){var s,a,u;return Bn.__generator(this,function(c){switch(c.label){case 0:return s=!1,setTimeout(function(){s=!0,o(r)},e),[4,t.acquire()];case 1:return a=c.sent(),s?(u=Array.isArray(a)?a[1]:a,u()):i(a),[2]}})})})},runExclusive:function(i){return Bn.__awaiter(this,void 0,void 0,function(){var o,s;return Bn.__generator(this,function(a){switch(a.label){case 0:o=function(){},a.label=1;case 1:return a.trys.push([1,,7,8]),[4,this.acquire()];case 2:return s=a.sent(),Array.isArray(s)?(o=s[1],[4,i(s[0])]):[3,4];case 3:return[2,a.sent()];case 4:return o=s,[4,i()];case 5:return[2,a.sent()];case 6:return[3,8];case 7:return o(),[7];case 8:return[2]}})})},release:function(){t.release()},isLocked:function(){return t.isLocked()}}}Hi.withTimeout=ES;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=t.Semaphore=t.Mutex=void 0;var e=Za;Object.defineProperty(t,"Mutex",{enumerable:!0,get:function(){return e.default}});var r=Ui;Object.defineProperty(t,"Semaphore",{enumerable:!0,get:function(){return r.default}});var n=Hi;Object.defineProperty(t,"withTimeout",{enumerable:!0,get:function(){return n.withTimeout}})})(mh);const Mc=(t,e,r,n)=>function(...i){const o=e.promiseModule;return new o((s,a)=>{e.multiArgs?i.push((...c)=>{e.errorFirst?c[0]?a(c):(c.shift(),s(c)):s(c)}):e.errorFirst?i.push((c,l)=>{c?a(c):s(l)}):i.push(s),Reflect.apply(t,this===r?n:this,i)})},Oc=new WeakMap;var xS=(t,e)=>{e={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...e};const r=typeof t;if(!(t!==null&&(r==="object"||r==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${t===null?"null":r}\``);const n=(s,a)=>{let u=Oc.get(s);if(u||(u={},Oc.set(s,u)),a in u)return u[a];const c=g=>typeof g=="string"||typeof a=="symbol"?a===g:g.test(a),l=Reflect.getOwnPropertyDescriptor(s,a),b=l===void 0||l.writable||l.configurable,p=(e.include?e.include.some(c):!e.exclude.some(c))&&b;return u[a]=p,p},i=new WeakMap,o=new Proxy(t,{apply(s,a,u){const c=i.get(s);if(c)return Reflect.apply(c,a,u);const l=e.excludeMain?s:Mc(s,e,o,s);return i.set(s,l),Reflect.apply(l,a,u)},get(s,a){const u=s[a];if(!n(s,a)||u===Function.prototype[a])return u;const c=i.get(u);if(c)return c;if(typeof u=="function"){const l=Mc(u,e,o,s);return i.set(u,l),l}return u}});return o};const AS=Cr.default;class CS extends AS{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(r=>this.emit("update",r))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}}var Xa=CS;const kS=Xa;class IS extends kS{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}}var RS=IS,Rn={minBlockRef:MS,maxBlockRef:OS,sortBlockRefs:eu,bnToHex:TS,blockRefIsNumber:PS,hexToInt:ui,incrementHexInt:NS,intToHex:_h,unsafeRandomBytes:jS};function MS(...t){return eu(t)[0]}function OS(...t){const e=eu(t);return e[e.length-1]}function eu(t){return t.sort((e,r)=>e==="latest"||r==="earliest"?1:r==="latest"||e==="earliest"?-1:ui(e)-ui(r))}function TS(t){return"0x"+t.toString(16)}function PS(t){return t&&!["earliest","latest","pending"].includes(t)}function ui(t){return t==null?t:Number.parseInt(t,16)}function NS(t){if(t==null)return t;const e=ui(t);return _h(e+1)}function _h(t){if(t==null)return t;let e=t.toString(16);return e.length%2&&(e="0"+e),"0x"+e}function jS(t){let e="0x";for(let r=0;r<t;r++)e+=Tc(),e+=Tc();return e}function Tc(){return Math.floor(Math.random()*16).toString(16)}const DS=K_,LS=xS,BS=RS,{bnToHex:j3,hexToInt:Fn,incrementHexInt:FS,minBlockRef:$S,blockRefIsNumber:WS}=Rn;class US extends BS{constructor({provider:e,params:r}){super(),this.type="log",this.ethQuery=new DS(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},r),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(n=>n.toLowerCase()))}async initialize({currentBlock:e}){let r=this.params.fromBlock;["latest","pending"].includes(r)&&(r=e),r==="earliest"&&(r="0x0"),this.params.fromBlock=r;const n=$S(this.params.toBlock,e),i=Object.assign({},this.params,{toBlock:n}),o=await this._fetchLogs(i);this.addInitialResults(o)}async update({oldBlock:e,newBlock:r}){const n=r;let i;e?i=FS(e):i=r;const o=Object.assign({},this.params,{fromBlock:i,toBlock:n}),a=(await this._fetchLogs(o)).filter(u=>this.matchLog(u));this.addResults(a)}async _fetchLogs(e){return await LS(n=>this.ethQuery.getLogs(e,n))()}matchLog(e){if(Fn(this.params.fromBlock)>=Fn(e.blockNumber)||WS(this.params.toBlock)&&Fn(this.params.toBlock)<=Fn(e.blockNumber))return!1;const r=e.address&&e.address.toLowerCase();return this.params.address&&r&&!this.params.address.includes(r)?!1:this.params.topics.every((i,o)=>{let s=e.topics[o];if(!s)return!1;s=s.toLowerCase();let a=Array.isArray(i)?i:[i];return a.includes(null)?!0:(a=a.map(l=>l.toLowerCase()),a.includes(s))})}}var HS=US,tu=VS;async function VS({provider:t,fromBlock:e,toBlock:r}){e||(e=r);const n=Pc(e),o=Pc(r)-n+1,s=Array(o).fill().map((u,c)=>n+c).map(zS);return await Promise.all(s.map(u=>qS(t,"eth_getBlockByNumber",[u,!1])))}function Pc(t){return t==null?t:Number.parseInt(t,16)}function zS(t){if(t==null)return t;const e=t.toString(16);return"0x"+e}function qS(t,e,r){return new Promise((n,i)=>{t.sendAsync({id:1,jsonrpc:"2.0",method:e,params:r},(o,s)=>{if(o)return i(o);n(s.result)})})}const GS=Xa,QS=tu,{incrementHexInt:YS}=Rn;class KS extends GS{constructor({provider:e,params:r}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:r}){const n=r,i=YS(e),s=(await QS({provider:this.provider,fromBlock:i,toBlock:n})).map(a=>a.hash);this.addResults(s)}}var JS=KS;const ZS=Xa,XS=tu,{incrementHexInt:e2}=Rn;class t2 extends ZS{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const r=e,n=e2(e),i=await XS({provider:this.provider,fromBlock:n,toBlock:r}),o=[];for(const s of i)o.push(...s.transactions);this.addResults(o)}}var r2=t2;const n2=mh.Mutex,{createAsyncMiddleware:i2}=Ya,o2=Qa.exports,s2=HS,a2=JS,u2=r2,{intToHex:wh,hexToInt:Hs}=Rn;var c2=l2;function l2({blockTracker:t,provider:e}){let r=0,n={};const i=new n2,o=f2({mutex:i}),s=o2({eth_newFilter:o(Vs(u)),eth_newBlockFilter:o(Vs(c)),eth_newPendingTransactionFilter:o(Vs(l)),eth_uninstallFilter:o(Qn(p)),eth_getFilterChanges:o(Qn(b)),eth_getFilterLogs:o(Qn(f))}),a=async({oldBlock:v,newBlock:x})=>{if(n.length===0)return;const P=await i.acquire();try{await Promise.all(rr(n).map(async $=>{try{await $.update({oldBlock:v,newBlock:x})}catch(H){console.error(H)}}))}catch($){console.error($)}P()};return s.newLogFilter=u,s.newBlockFilter=c,s.newPendingTransactionFilter=l,s.uninstallFilter=p,s.getFilterChanges=b,s.getFilterLogs=f,s.destroy=()=>{I()},s;async function u(v){const x=new s2({provider:e,params:v});return await g(x),x}async function c(){const v=new a2({provider:e});return await g(v),v}async function l(){const v=new u2({provider:e});return await g(v),v}async function b(v){const x=Hs(v),P=n[x];if(!P)throw new Error(`No filter for index "${x}"`);return P.getChangesAndClear()}async function f(v){const x=Hs(v),P=n[x];if(!P)throw new Error(`No filter for index "${x}"`);return P.type==="log"?results=P.getAllResults():results=[],results}async function p(v){const x=Hs(v),P=n[x],$=Boolean(P);return $&&await C(x),$}async function g(v){const x=rr(n).length,P=await t.getLatestBlock();await v.initialize({currentBlock:P}),r++,n[r]=v,v.id=r,v.idHex=wh(r);const $=rr(n).length;return y({prevFilterCount:x,newFilterCount:$}),r}async function C(v){const x=rr(n).length;delete n[v];const P=rr(n).length;y({prevFilterCount:x,newFilterCount:P})}async function I(){const v=rr(n).length;n={},y({prevFilterCount:v,newFilterCount:0})}function y({prevFilterCount:v,newFilterCount:x}){if(v===0&&x>0){t.on("sync",a);return}if(v>0&&x===0){t.removeListener("sync",a);return}}}function Vs(t){return Qn(async(...e)=>{const r=await t(...e);return wh(r.id)})}function Qn(t){return i2(async(e,r)=>{const n=await t.apply(null,e.params);r.result=n})}function f2({mutex:t}){return e=>async(r,n,i,o)=>{(await t.acquire())(),e(r,n,i,o)}}function rr(t,e){const r=[];for(let n in t)r.push(t[n]);return r}const h2=Cr.default,d2=Qa.exports,{createAsyncMiddleware:Nc}=Ya,p2=c2,{unsafeRandomBytes:y2,incrementHexInt:b2}=Rn,g2=tu;var v2=m2;function m2({blockTracker:t,provider:e}){const r={},n=p2({blockTracker:t,provider:e});let i=!1;const o=new h2,s=d2({eth_subscribe:Nc(a),eth_unsubscribe:Nc(u)});return s.destroy=l,{events:o,middleware:s};async function a(b,f){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const p=b.params[0],g=y2(16);let C;switch(p){case"newHeads":C=I({subId:g});break;case"logs":const v=b.params[1],x=await n.newLogFilter(v);C=y({subId:g,filter:x});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${p}"`)}r[g]=C,f.result=g;return;function I({subId:v}){const x={type:p,destroy:async()=>{t.removeListener("sync",x.update)},update:async({oldBlock:P,newBlock:$})=>{const H=$,Y=b2(P);(await g2({provider:e,fromBlock:Y,toBlock:H})).map(_2).forEach(G=>{c(v,G)})}};return t.on("sync",x.update),x}function y({subId:v,filter:x}){return x.on("update",$=>c(v,$)),{type:p,destroy:async()=>await n.uninstallFilter(x.idHex)}}}async function u(b,f){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const p=b.params[0],g=r[p];if(!g){f.result=!1;return}delete r[p],await g.destroy(),f.result=!0}function c(b,f){o.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:b,result:f}})}function l(){o.removeAllListeners();for(const b in r)r[b].destroy(),delete r[b];i=!0}}function _2(t){return{hash:t.hash,parentHash:t.parentHash,sha3Uncles:t.sha3Uncles,miner:t.miner,stateRoot:t.stateRoot,transactionsRoot:t.transactionsRoot,receiptsRoot:t.receiptsRoot,logsBloom:t.logsBloom,difficulty:t.difficulty,number:t.number,gasLimit:t.gasLimit,gasUsed:t.gasUsed,nonce:t.nonce,mixHash:t.mixHash,timestamp:t.timestamp,extraData:t.extraData}}Object.defineProperty(Pi,"__esModule",{value:!0});Pi.SubscriptionManager=void 0;const w2=oS,S2=v2,jc=()=>{};class E2{constructor(e){const r=new w2({provider:e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:n,middleware:i}=S2({blockTracker:r,provider:e});this.events=n,this.subscriptionMiddleware=i}async handleRequest(e){const r={};return await this.subscriptionMiddleware(e,r,jc,jc),r}destroy(){this.subscriptionMiddleware.destroy()}}Pi.SubscriptionManager=E2;var ru=ie&&ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pr,"__esModule",{value:!0});pr.CoinbaseWalletProvider=void 0;const x2=ru(Cr),A2=ru(di.exports),Te=vi,zs=kr,Dc=Ir,Lc=tt,ne=Z,qs=ru(B_),C2=wr,de=Yf,k2=Pi,Bc="DefaultChainId",Fc="DefaultJsonRpcUrl",I2=[1,10,137,61,56,250,42161,100,43114,3,4,5,42,69,80001,97,4002,421611,43113];class R2 extends x2.default{constructor(e){var r,n;super(),this._filterPolyfill=new C2.FilterPolyfill(this),this._subscriptionManager=new k2.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this._send=this.send.bind(this),this._sendAsync=this.sendAsync.bind(this),this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=e.chainId,this._jsonRpcUrlFromOpts=e.jsonRpcUrl,this._overrideIsMetaMask=e.overrideIsMetaMask,this._relayProvider=e.relayProvider,this._storage=e.storage,this._relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this.isCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this.qrUrl=e.qrUrl,this.supportsAddressSwitching=e.supportsAddressSwitching,this.isLedger=e.isLedger;const i=this.getChainId(),o=(0,ne.prepend0x)(i.toString(16));this.emit("connect",{chainIdStr:o});const s=this._storage.getItem(Lc.LOCAL_STORAGE_ADDRESSES_KEY);if(s){const a=s.split(" ");a[0]!==""&&(this._addresses=a.map(u=>(0,ne.ensureAddressString)(u)),this.emit("accountsChanged",a))}this._subscriptionManager.events.on("notification",a=>{this.emit("message",{type:a.method,data:a.params})}),this._addresses.length>0&&this.initializeRelay(),window.addEventListener("message",a=>{var u;if(a.data.type==="walletLinkMessage"){if(a.data.data.action==="defaultChainChanged"||a.data.data.action==="dappChainSwitched"){const c=a.data.data.chainId,l=(u=a.data.data.jsonRpcUrl)!==null&&u!==void 0?u:this.jsonRpcUrl;this.updateProviderInfo(l,Number(c))}a.data.data.action==="addressChanged"&&this._setAddresses([a.data.data.address])}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,ne.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(Fc))!==null&&e!==void 0?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(Fc,e)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(e,r){this._chainIdFromOpts=r,this._jsonRpcUrlFromOpts=e,this.updateProviderInfo(e,r)}updateProviderInfo(e,r){this.jsonRpcUrl=e;const n=this.getChainId();this._storage.setItem(Bc,r.toString(10)),((0,ne.ensureIntNumber)(r)!==n||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,r,n,i,o,s){return!!(await(await this.initializeRelay()).watchAsset(e,r,n,i,o,s==null?void 0:s.toString()).promise).result}async addEthereumChain(e,r,n,i,o,s){var a,u;if((0,ne.ensureIntNumber)(e)===this.getChainId())return!1;const c=await this.initializeRelay(),l=c.inlineAddEthereumChain(e.toString());!this._isAuthorized()&&!l&&await c.requestEthereumAccounts().promise;const b=await c.addEthereumChain(e.toString(),r,o,n,i,s).promise;return((a=b.result)===null||a===void 0?void 0:a.isApproved)===!0&&this.updateProviderInfo(r[0],e),((u=b.result)===null||u===void 0?void 0:u.isApproved)===!0}async switchEthereumChain(e){I2.includes(e)&&this.updateProviderInfo(this.jsonRpcUrl,e);const n=await(await this.initializeRelay()).switchEthereumChain(e.toString(10),this.selectedAddress||void 0).promise;if(n.errorCode)throw Te.ethErrors.provider.custom({code:n.errorCode});const i=n.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,e)}setAppInfo(e,r){this.initializeRelay().then(n=>n.setAppInfo(e,r))}async enable(){var e;return(e=this.diagnostic)===null||e===void 0||e.log(zs.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?Dc.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0?[...this._addresses]:await this._send(de.JSONRPCMethod.eth_requestAccounts)}async close(){(await this.initializeRelay()).resetAndReload()}send(e,r){if(typeof e=="string"){const i=e,o=Array.isArray(r)?r:r!==void 0?[r]:[],s={jsonrpc:"2.0",id:0,method:i,params:o};return this._sendRequestAsync(s).then(a=>a.result)}if(typeof r=="function"){const i=e,o=r;return this._sendAsync(i,o)}if(Array.isArray(e))return e.map(o=>this._sendRequest(o));const n=e;return this._sendRequest(n)}async sendAsync(e,r){if(typeof r!="function")throw new Error("callback is required");if(Array.isArray(e)){const i=r;this._sendMultipleRequestsAsync(e).then(o=>i(null,o)).catch(o=>i(o,null));return}const n=r;return this._sendRequestAsync(e).then(i=>n(null,i)).catch(i=>n(i,null))}async request(e){if(!e||typeof e!="object"||Array.isArray(e))throw Te.ethErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:r,params:n}=e;if(typeof r!="string"||r.length===0)throw Te.ethErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw Te.ethErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const i=n===void 0?[]:n,o=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:r,params:i,jsonrpc:"2.0",id:o})).result}async scanQRCode(e){const n=await(await this.initializeRelay()).scanQRCode((0,ne.ensureRegExpString)(e)).promise;if(typeof n.result!="string")throw new Error("result was not a string");return n.result}async genericRequest(e,r){const i=await(await this.initializeRelay()).genericRequest(e,r).promise;if(typeof i.result!="string")throw new Error("result was not a string");return i.result}async selectProvider(e){const n=await(await this.initializeRelay()).selectProvider(e).promise;if(typeof n.result!="string")throw new Error("result was not a string");return n.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){const r={jsonrpc:"2.0",id:e.id},{method:n}=e;if(r.result=this._handleSynchronousMethods(e),r.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${n} synchronously without a callback. Please provide a callback parameter to call ${n} asynchronously.`);return r}_setAddresses(e,r){if(!Array.isArray(e))throw new Error("addresses is not an array");const n=e.map(i=>(0,ne.ensureAddressString)(i));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses.length>0&&this.supportsAddressSwitching===!1&&!r||(this._addresses=n,this.emit("accountsChanged",this._addresses),this._storage.setItem(Lc.LOCAL_STORAGE_ADDRESSES_KEY,n.join(" "))))}_sendRequestAsync(e){return new Promise((r,n)=>{try{const i=this._handleSynchronousMethods(e);if(i!==void 0)return r({jsonrpc:"2.0",id:e.id,result:i});const o=this._handleAsynchronousFilterMethods(e);if(o!==void 0){o.then(a=>r(Object.assign(Object.assign({},a),{id:e.id}))).catch(a=>n(a));return}const s=this._handleSubscriptionMethods(e);if(s!==void 0){s.then(a=>r({jsonrpc:"2.0",id:e.id,result:a.result})).catch(a=>n(a));return}}catch(i){return n(i)}this._handleAsynchronousMethods(e).then(i=>i&&r(Object.assign(Object.assign({},i),{id:e.id}))).catch(i=>n(i))})}_sendMultipleRequestsAsync(e){return Promise.all(e.map(r=>this._sendRequestAsync(r)))}_handleSynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case de.JSONRPCMethod.eth_accounts:return this._eth_accounts();case de.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case de.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(n);case de.JSONRPCMethod.net_version:return this._net_version();case de.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case de.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case de.JSONRPCMethod.eth_sign:return this._eth_sign(n);case de.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(n);case de.JSONRPCMethod.personal_sign:return this._personal_sign(n);case de.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(n);case de.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(n);case de.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(n);case de.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(n);case de.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(n);case de.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case de.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(n);case de.JSONRPCMethod.eth_signTypedData_v4:case de.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(n);case de.JSONRPCMethod.cbWallet_arbitrary:return this._cbwallet_arbitrary(n);case de.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(n);case de.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(n);case de.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(n)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(e,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(e){const{method:r}=e,n=e.params||[];switch(r){case de.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(n);case de.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case de.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case de.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(n);case de.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(n)}}_handleSubscriptionMethods(e){switch(e.method){case de.JSONRPCMethod.eth_subscribe:case de.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{const r=(0,ne.ensureAddressString)(e);return this._addresses.map(i=>(0,ne.ensureAddressString)(i)).includes(r)}catch{}return!1}_ensureKnownAddress(e){var r;if(!this._isKnownAddress(e))throw(r=this.diagnostic)===null||r===void 0||r.log(zs.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const r=e.from?(0,ne.ensureAddressString)(e.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=e.to?(0,ne.ensureAddressString)(e.to):null,i=e.value!=null?(0,ne.ensureBN)(e.value):new A2.default(0),o=e.data?(0,ne.ensureBuffer)(e.data):Buffer.alloc(0),s=e.nonce!=null?(0,ne.ensureIntNumber)(e.nonce):null,a=e.gasPrice!=null?(0,ne.ensureBN)(e.gasPrice):null,u=e.maxFeePerGas!=null?(0,ne.ensureBN)(e.maxFeePerGas):null,c=e.maxPriorityFeePerGas!=null?(0,ne.ensureBN)(e.maxPriorityFeePerGas):null,l=e.gas!=null?(0,ne.ensureBN)(e.gas):null,b=this.getChainId();return{fromAddress:r,toAddress:n,weiValue:i,data:o,nonce:s,gasPriceInWei:a,maxFeePerGas:u,maxPriorityFeePerGas:c,gasLimit:l,chainId:b}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw Te.ethErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw Te.ethErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,r,n,i){this._ensureKnownAddress(r);try{const s=await(await this.initializeRelay()).signEthereumMessage(e,r,n,i).promise;return{jsonrpc:"2.0",id:0,result:s.result}}catch(o){throw typeof o.message=="string"&&o.message.match(/(denied|rejected)/i)?Te.ethErrors.provider.userRejectedRequest("User denied message signature"):o}}async _ethereumAddressFromSignedMessage(e,r,n){const o=await(await this.initializeRelay()).ethereumAddressFromSignedMessage(e,r,n).promise;return{jsonrpc:"2.0",id:0,result:o.result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,ne.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem(Bc);if(!e)return(0,ne.ensureIntNumber)(this._chainIdFromOpts);const r=parseInt(e,10);return(0,ne.ensureIntNumber)(r)}async _eth_requestAccounts(){var e;if((e=this.diagnostic)===null||e===void 0||e.log(zs.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?Dc.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0)return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let r;try{r=await(await this.initializeRelay()).requestEthereumAccounts().promise}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?Te.ethErrors.provider.userRejectedRequest("User denied account authorization"):n}if(!r.result)throw new Error("accounts received is empty");return this._setAddresses(r.result),this.isLedger||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const r=(0,ne.ensureAddressString)(e[0]),n=(0,ne.ensureBuffer)(e[1]);return this._signEthereumMessage(n,r,!1)}_eth_ecRecover(e){const r=(0,ne.ensureBuffer)(e[0]),n=(0,ne.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!1)}_personal_sign(e){this._requireAuthorization();const r=(0,ne.ensureBuffer)(e[0]),n=(0,ne.ensureAddressString)(e[1]);return this._signEthereumMessage(r,n,!0)}_personal_ecRecover(e){const r=(0,ne.ensureBuffer)(e[0]),n=(0,ne.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!0)}async _eth_signTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{const i=await(await this.initializeRelay()).signEthereumTransaction(r).promise;return{jsonrpc:"2.0",id:0,result:i.result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?Te.ethErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_sendRawTransaction(e){const r=(0,ne.ensureBuffer)(e[0]),i=await(await this.initializeRelay()).submitEthereumTransaction(r,this.getChainId()).promise;return{jsonrpc:"2.0",id:0,result:i.result}}async _eth_sendTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{const i=await(await this.initializeRelay()).signAndSubmitEthereumTransaction(r).promise;return{jsonrpc:"2.0",id:0,result:i.result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?Te.ethErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_signTypedData_v1(e){this._requireAuthorization();const r=(0,ne.ensureParsedJSONObject)(e[0]),n=(0,ne.ensureAddressString)(e[1]);this._ensureKnownAddress(n);const i=qs.default.hashForSignTypedDataLegacy({data:r}),o=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,o)}async _eth_signTypedData_v3(e){this._requireAuthorization();const r=(0,ne.ensureAddressString)(e[0]),n=(0,ne.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=qs.default.hashForSignTypedData_v3({data:n}),o=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,o)}async _eth_signTypedData_v4(e){this._requireAuthorization();const r=(0,ne.ensureAddressString)(e[0]),n=(0,ne.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=qs.default.hashForSignTypedData_v4({data:n}),o=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,o)}async _cbwallet_arbitrary(e){const r=e[0],n=e[1];if(typeof n!="string")throw new Error("parameter must be a string");if(typeof r!="object"||r===null)throw new Error("parameter must be an object");const i=await this.genericRequest(r,n);return{jsonrpc:"2.0",id:0,result:i}}async _wallet_addEthereumChain(e){var r,n,i,o;const s=e[0];if(((r=s.rpcUrls)===null||r===void 0?void 0:r.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!s.chainName||s.chainName.trim()==="")throw Te.ethErrors.provider.custom({code:0,message:"chainName is a required field"});if(!s.nativeCurrency)throw Te.ethErrors.provider.custom({code:0,message:"nativeCurrency is a required field"});const a=parseInt(s.chainId,16);return await this.addEthereumChain(a,(n=s.rpcUrls)!==null&&n!==void 0?n:[],(i=s.blockExplorerUrls)!==null&&i!==void 0?i:[],s.chainName,(o=s.iconUrls)!==null&&o!==void 0?o:[],s.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const r=e[0];return await this.switchEthereumChain(parseInt(r.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){const r=Array.isArray(e)?e[0]:e;if(!r.type)throw Te.ethErrors.rpc.invalidParams({message:"Type is required"});if((r==null?void 0:r.type)!=="ERC20")throw Te.ethErrors.rpc.invalidParams({message:`Asset of type '${r.type}' is not supported`});if(!(r!=null&&r.options))throw Te.ethErrors.rpc.invalidParams({message:"Options are required"});if(!(r!=null&&r.options.address))throw Te.ethErrors.rpc.invalidParams({message:"Address is required"});const n=this.getChainId(),{address:i,symbol:o,image:s,decimals:a}=r.options,u=await this.watchAsset(r.type,i,o,a,s,n);return{jsonrpc:"2.0",id:0,result:u}}_eth_uninstallFilter(e){const r=(0,ne.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(r)}async _eth_newFilter(e){const r=e[0],n=await this._filterPolyfill.newFilter(r);return{jsonrpc:"2.0",id:0,result:n}}async _eth_newBlockFilter(){const e=await this._filterPolyfill.newBlockFilter();return{jsonrpc:"2.0",id:0,result:e}}async _eth_newPendingTransactionFilter(){const e=await this._filterPolyfill.newPendingTransactionFilter();return{jsonrpc:"2.0",id:0,result:e}}_eth_getFilterChanges(e){const r=(0,ne.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(r)}_eth_getFilterLogs(e){const r=(0,ne.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(r)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(e=>(e.setAccountsCallback((r,n)=>this._setAddresses(r,n)),e.setChainCallback((r,n)=>{this.updateProviderInfo(n,parseInt(r,10))}),e.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=e,e))}}pr.CoinbaseWalletProvider=R2;var Vi={},zi={},Mn,te,Sh,Eh,Zr,$c,xh,ci={},Ah=[],M2=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function pt(t,e){for(var r in e)t[r]=e[r];return t}function Ch(t){var e=t.parentNode;e&&e.removeChild(t)}function ma(t,e,r){var n,i,o,s={};for(o in e)o=="key"?n=e[o]:o=="ref"?i=e[o]:s[o]=e[o];if(arguments.length>2&&(s.children=arguments.length>3?Mn.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)s[o]===void 0&&(s[o]=t.defaultProps[o]);return Xr(t,s,n,i,null)}function Xr(t,e,r,n,i){var o={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i==null?++Sh:i};return i==null&&te.vnode!=null&&te.vnode(o),o}function O2(){return{current:null}}function Dr(t){return t.children}function en(t,e){this.props=t,this.context=e}function Sr(t,e){if(e==null)return t.__?Sr(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?Sr(t):null}function kh(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return kh(t)}}function _a(t){(!t.__d&&(t.__d=!0)&&Zr.push(t)&&!li.__r++||$c!==te.debounceRendering)&&(($c=te.debounceRendering)||setTimeout)(li)}function li(){for(var t;li.__r=Zr.length;)t=Zr.sort(function(e,r){return e.__v.__b-r.__v.__b}),Zr=[],t.some(function(e){var r,n,i,o,s,a;e.__d&&(s=(o=(r=e).__v).__e,(a=r.__P)&&(n=[],(i=pt({},o)).__v=o.__v+1,nu(a,o,i,r.__n,a.ownerSVGElement!==void 0,o.__h!=null?[s]:null,n,s==null?Sr(o):s,o.__h),Th(n,o),o.__e!=s&&kh(o)))})}function Ih(t,e,r,n,i,o,s,a,u,c){var l,b,f,p,g,C,I,y=n&&n.__k||Ah,v=y.length;for(r.__k=[],l=0;l<e.length;l++)if((p=r.__k[l]=(p=e[l])==null||typeof p=="boolean"?null:typeof p=="string"||typeof p=="number"||typeof p=="bigint"?Xr(null,p,null,null,p):Array.isArray(p)?Xr(Dr,{children:p},null,null,null):p.__b>0?Xr(p.type,p.props,p.key,p.ref?p.ref:null,p.__v):p)!=null){if(p.__=r,p.__b=r.__b+1,(f=y[l])===null||f&&p.key==f.key&&p.type===f.type)y[l]=void 0;else for(b=0;b<v;b++){if((f=y[b])&&p.key==f.key&&p.type===f.type){y[b]=void 0;break}f=null}nu(t,p,f=f||ci,i,o,s,a,u,c),g=p.__e,(b=p.ref)&&f.ref!=b&&(I||(I=[]),f.ref&&I.push(f.ref,null,p),I.push(b,p.__c||g,p)),g!=null?(C==null&&(C=g),typeof p.type=="function"&&p.__k===f.__k?p.__d=u=Rh(p,u,t):u=Oh(t,p,f,y,g,u),typeof r.type=="function"&&(r.__d=u)):u&&f.__e==u&&u.parentNode!=t&&(u=Sr(f))}for(r.__e=C,l=v;l--;)y[l]!=null&&(typeof r.type=="function"&&y[l].__e!=null&&y[l].__e==r.__d&&(r.__d=Sr(n,l+1)),Nh(y[l],y[l]));if(I)for(l=0;l<I.length;l++)Ph(I[l],I[++l],I[++l])}function Rh(t,e,r){for(var n,i=t.__k,o=0;i&&o<i.length;o++)(n=i[o])&&(n.__=t,e=typeof n.type=="function"?Rh(n,e,r):Oh(r,n,n,i,n.__e,e));return e}function Mh(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(r){Mh(r,e)}):e.push(t)),e}function Oh(t,e,r,n,i,o){var s,a,u;if(e.__d!==void 0)s=e.__d,e.__d=void 0;else if(r==null||i!=o||i.parentNode==null)e:if(o==null||o.parentNode!==t)t.appendChild(i),s=null;else{for(a=o,u=0;(a=a.nextSibling)&&u<n.length;u+=2)if(a==i)break e;t.insertBefore(i,o),s=o}return s!==void 0?s:i.nextSibling}function T2(t,e,r,n,i){var o;for(o in r)o==="children"||o==="key"||o in e||fi(t,o,null,r[o],n);for(o in e)i&&typeof e[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||r[o]===e[o]||fi(t,o,e[o],r[o],n)}function Wc(t,e,r){e[0]==="-"?t.setProperty(e,r):t[e]=r==null?"":typeof r!="number"||M2.test(e)?r:r+"px"}function fi(t,e,r,n,i){var o;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||Wc(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||Wc(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")o=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=r,r?n||t.addEventListener(e,o?Hc:Uc,o):t.removeEventListener(e,o?Hc:Uc,o);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=r==null?"":r;break e}catch{}typeof r=="function"||(r!=null&&(r!==!1||e[0]==="a"&&e[1]==="r")?t.setAttribute(e,r):t.removeAttribute(e))}}function Uc(t){this.l[t.type+!1](te.event?te.event(t):t)}function Hc(t){this.l[t.type+!0](te.event?te.event(t):t)}function nu(t,e,r,n,i,o,s,a,u){var c,l,b,f,p,g,C,I,y,v,x,P,$,H=e.type;if(e.constructor!==void 0)return null;r.__h!=null&&(u=r.__h,a=e.__e=r.__e,e.__h=null,o=[a]),(c=te.__b)&&c(e);try{e:if(typeof H=="function"){if(I=e.props,y=(c=H.contextType)&&n[c.__c],v=c?y?y.props.value:c.__:n,r.__c?C=(l=e.__c=r.__c).__=l.__E:("prototype"in H&&H.prototype.render?e.__c=l=new H(I,v):(e.__c=l=new en(I,v),l.constructor=H,l.render=N2),y&&y.sub(l),l.props=I,l.state||(l.state={}),l.context=v,l.__n=n,b=l.__d=!0,l.__h=[]),l.__s==null&&(l.__s=l.state),H.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=pt({},l.__s)),pt(l.__s,H.getDerivedStateFromProps(I,l.__s))),f=l.props,p=l.state,b)H.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(H.getDerivedStateFromProps==null&&I!==f&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(I,v),!l.__e&&l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(I,l.__s,v)===!1||e.__v===r.__v){l.props=I,l.state=l.__s,e.__v!==r.__v&&(l.__d=!1),l.__v=e,e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function(Y){Y&&(Y.__=e)}),l.__h.length&&s.push(l);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(I,l.__s,v),l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(f,p,g)})}if(l.context=v,l.props=I,l.__v=e,l.__P=t,x=te.__r,P=0,"prototype"in H&&H.prototype.render)l.state=l.__s,l.__d=!1,x&&x(e),c=l.render(l.props,l.state,l.context);else do l.__d=!1,x&&x(e),c=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++P<25);l.state=l.__s,l.getChildContext!=null&&(n=pt(pt({},n),l.getChildContext())),b||l.getSnapshotBeforeUpdate==null||(g=l.getSnapshotBeforeUpdate(f,p)),$=c!=null&&c.type===Dr&&c.key==null?c.props.children:c,Ih(t,Array.isArray($)?$:[$],e,r,n,i,o,s,a,u),l.base=e.__e,e.__h=null,l.__h.length&&s.push(l),C&&(l.__E=l.__=null),l.__e=!1}else o==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=P2(r.__e,e,r,n,i,o,s,u);(c=te.diffed)&&c(e)}catch(Y){e.__v=null,(u||o!=null)&&(e.__e=a,e.__h=!!u,o[o.indexOf(a)]=null),te.__e(Y,e,r)}}function Th(t,e){te.__c&&te.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(n){n.call(r)})}catch(n){te.__e(n,r.__v)}})}function P2(t,e,r,n,i,o,s,a){var u,c,l,b=r.props,f=e.props,p=e.type,g=0;if(p==="svg"&&(i=!0),o!=null){for(;g<o.length;g++)if((u=o[g])&&"setAttribute"in u==!!p&&(p?u.localName===p:u.nodeType===3)){t=u,o[g]=null;break}}if(t==null){if(p===null)return document.createTextNode(f);t=i?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,f.is&&f),o=null,a=!1}if(p===null)b===f||a&&t.data===f||(t.data=f);else{if(o=o&&Mn.call(t.childNodes),c=(b=r.props||ci).dangerouslySetInnerHTML,l=f.dangerouslySetInnerHTML,!a){if(o!=null)for(b={},g=0;g<t.attributes.length;g++)b[t.attributes[g].name]=t.attributes[g].value;(l||c)&&(l&&(c&&l.__html==c.__html||l.__html===t.innerHTML)||(t.innerHTML=l&&l.__html||""))}if(T2(t,f,b,i,a),l)e.__k=[];else if(g=e.props.children,Ih(t,Array.isArray(g)?g:[g],e,r,n,i&&p!=="foreignObject",o,s,o?o[0]:r.__k&&Sr(r,0),a),o!=null)for(g=o.length;g--;)o[g]!=null&&Ch(o[g]);a||("value"in f&&(g=f.value)!==void 0&&(g!==t.value||p==="progress"&&!g||p==="option"&&g!==b.value)&&fi(t,"value",g,b.value,!1),"checked"in f&&(g=f.checked)!==void 0&&g!==t.checked&&fi(t,"checked",g,b.checked,!1))}return t}function Ph(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){te.__e(n,r)}}function Nh(t,e,r){var n,i;if(te.unmount&&te.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||Ph(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(o){te.__e(o,e)}n.base=n.__P=null,t.__c=void 0}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&Nh(n[i],e,typeof t.type!="function");r||t.__e==null||Ch(t.__e),t.__=t.__e=t.__d=void 0}function N2(t,e,r){return this.constructor(t,r)}function jh(t,e,r){var n,i,o;te.__&&te.__(t,e),i=(n=typeof r=="function")?null:r&&r.__k||e.__k,o=[],nu(e,t=(!n&&r||e).__k=ma(Dr,null,[t]),i||ci,ci,e.ownerSVGElement!==void 0,!n&&r?[r]:i?null:e.firstChild?Mn.call(e.childNodes):null,o,!n&&r?r:i?i.__e:e.firstChild,n),Th(o,t)}function Dh(t,e){jh(t,e,Dh)}function j2(t,e,r){var n,i,o,s=pt({},t.props);for(o in e)o=="key"?n=e[o]:o=="ref"?i=e[o]:s[o]=e[o];return arguments.length>2&&(s.children=arguments.length>3?Mn.call(arguments,2):r),Xr(t.type,s,n||t.key,i||t.ref,null)}function D2(t,e){var r={__c:e="__cC"+xh++,__:t,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,o;return this.getChildContext||(i=[],(o={})[e]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(s){this.props.value!==s.value&&i.some(_a)},this.sub=function(s){i.push(s);var a=s.componentWillUnmount;s.componentWillUnmount=function(){i.splice(i.indexOf(s),1),a&&a.call(s)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}Mn=Ah.slice,te={__e:function(t,e,r,n){for(var i,o,s;e=e.__;)if((i=e.__c)&&!i.__)try{if((o=i.constructor)&&o.getDerivedStateFromError!=null&&(i.setState(o.getDerivedStateFromError(t)),s=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),s=i.__d),s)return i.__E=i}catch(a){t=a}throw t}},Sh=0,Eh=function(t){return t!=null&&t.constructor===void 0},en.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=pt({},this.state),typeof t=="function"&&(t=t(pt({},r),this.props)),t&&pt(r,t),t!=null&&this.__v&&(e&&this.__h.push(e),_a(this))},en.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),_a(this))},en.prototype.render=Dr,Zr=[],li.__r=0,xh=0;const L2=Object.freeze(Object.defineProperty({__proto__:null,Component:en,Fragment:Dr,cloneElement:j2,createContext:D2,createElement:ma,createRef:O2,h:ma,hydrate:Dh,get isValidElement(){return Eh},get options(){return te},render:jh,toChildArray:Mh},Symbol.toStringTag,{value:"Module"})),On=hn(L2);var qi={};function Lh(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=Lh(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function Vc(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=Lh(t))&&(n&&(n+=" "),n+=e);return n}const B2=Object.freeze(Object.defineProperty({__proto__:null,clsx:Vc,default:Vc},Symbol.toStringTag,{value:"Module"})),Bh=hn(B2);var vt,pe,Gs,zc,Er=0,Fh=[],Yn=[],qc=te.__b,Gc=te.__r,Qc=te.diffed,Yc=te.__c,Kc=te.unmount;function Jt(t,e){te.__h&&te.__h(pe,t,Er||e),Er=0;var r=pe.__H||(pe.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({__V:Yn}),r.__[t]}function $h(t){return Er=1,Wh(Hh,t)}function Wh(t,e,r){var n=Jt(vt++,2);if(n.t=t,!n.__c&&(n.__=[r?r(e):Hh(void 0,e),function(o){var s=n.__N?n.__N[0]:n.__[0],a=n.t(s,o);s!==a&&(n.__N=[a,n.__[1]],n.__c.setState({}))}],n.__c=pe,!pe.u)){pe.u=!0;var i=pe.shouldComponentUpdate;pe.shouldComponentUpdate=function(o,s,a){if(!n.__c.__H)return!0;var u=n.__c.__H.__.filter(function(l){return l.__c});if(u.every(function(l){return!l.__N}))return!i||i.call(this,o,s,a);var c=!1;return u.forEach(function(l){if(l.__N){var b=l.__[0];l.__=l.__N,l.__N=void 0,b!==l.__[0]&&(c=!0)}}),!!c&&(!i||i.call(this,o,s,a))}}return n.__N||n.__}function F2(t,e){var r=Jt(vt++,3);!te.__s&&ou(r.__H,e)&&(r.__=t,r.i=e,pe.__H.__h.push(r))}function Uh(t,e){var r=Jt(vt++,4);!te.__s&&ou(r.__H,e)&&(r.__=t,r.i=e,pe.__h.push(r))}function $2(t){return Er=5,iu(function(){return{current:t}},[])}function W2(t,e,r){Er=6,Uh(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},r==null?r:r.concat(t))}function iu(t,e){var r=Jt(vt++,7);return ou(r.__H,e)?(r.__V=t(),r.i=e,r.__h=t,r.__V):r.__}function U2(t,e){return Er=8,iu(function(){return t},e)}function H2(t){var e=pe.context[t.__c],r=Jt(vt++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(pe)),e.props.value):t.__}function V2(t,e){te.useDebugValue&&te.useDebugValue(e?e(t):t)}function z2(t){var e=Jt(vt++,10),r=$h();return e.__=t,pe.componentDidCatch||(pe.componentDidCatch=function(n,i){e.__&&e.__(n,i),r[1](n)}),[r[0],function(){r[1](void 0)}]}function q2(){var t=Jt(vt++,11);return t.__||(t.__="P"+function(e){for(var r=0,n=e.length;n>0;)r=(r<<5)-r+e.charCodeAt(--n)|0;return r}(pe.__v.o)+vt),t.__}function G2(){for(var t;t=Fh.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Kn),t.__H.__h.forEach(wa),t.__H.__h=[]}catch(e){t.__H.__h=[],te.__e(e,t.__v)}}te.__b=function(t){typeof t.type!="function"||t.o||t.type===Dr?t.o||(t.o=t.__&&t.__.o?t.__.o:""):t.o=(t.__&&t.__.o?t.__.o:"")+(t.__&&t.__.__k?t.__.__k.indexOf(t):0),pe=null,qc&&qc(t)},te.__r=function(t){Gc&&Gc(t),vt=0;var e=(pe=t.__c).__H;e&&(Gs===pe?(e.__h=[],pe.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.__V=Yn,r.__N=r.i=void 0})):(e.__h.forEach(Kn),e.__h.forEach(wa),e.__h=[])),Gs=pe},te.diffed=function(t){Qc&&Qc(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Fh.push(e)!==1&&zc===te.requestAnimationFrame||((zc=te.requestAnimationFrame)||Q2)(G2)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.__V!==Yn&&(r.__=r.__V),r.i=void 0,r.__V=Yn})),Gs=pe=null},te.__c=function(t,e){e.some(function(r){try{r.__h.forEach(Kn),r.__h=r.__h.filter(function(n){return!n.__||wa(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],te.__e(n,r.__v)}}),Yc&&Yc(t,e)},te.unmount=function(t){Kc&&Kc(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{Kn(n)}catch(i){e=i}}),r.__H=void 0,e&&te.__e(e,r.__v))};var Jc=typeof requestAnimationFrame=="function";function Q2(t){var e,r=function(){clearTimeout(n),Jc&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);Jc&&(e=requestAnimationFrame(r))}function Kn(t){var e=pe,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),pe=e}function wa(t){var e=pe;t.__c=t.__(),pe=e}function ou(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function Hh(t,e){return typeof e=="function"?e(t):e}const Y2=Object.freeze(Object.defineProperty({__proto__:null,useCallback:U2,useContext:H2,useDebugValue:V2,useEffect:F2,useErrorBoundary:z2,useId:q2,useImperativeHandle:W2,useLayoutEffect:Uh,useMemo:iu,useReducer:Wh,useRef:$2,useState:$h},Symbol.toStringTag,{value:"Module"})),su=hn(Y2);var Gi={};Object.defineProperty(Gi,"__esModule",{value:!0});Gi.LIB_VERSION=void 0;Gi.LIB_VERSION="3.5.2";var au={};Object.defineProperty(au,"__esModule",{value:!0});au.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTggMEMzLjU4IDAgMCAzLjU4IDAgOHMzLjU4IDggOCA4IDgtMy41OCA4LTgtMy41OC04LTgtOFptNS45MSA3aC0xLjk0Yy0uMS0xLjU3LS40Mi0zLS45MS00LjE1IDEuNDguODggMi41NSAyLjM4IDIuODUgNC4xNVpNOCAxNGMtLjQ1IDAtMS43Mi0xLjc3LTEuOTUtNWgzLjljLS4yMyAzLjIzLTEuNSA1LTEuOTUgNVpNNi4wNSA3QzYuMjggMy43NyA3LjU1IDIgOCAyYy40NSAwIDEuNzIgMS43NyAxLjk1IDVoLTMuOVpNNC45NCAyLjg1QzQuNDYgNCA0LjEzIDUuNDMgNC4wMyA3SDIuMDljLjMtMS43NyAxLjM3LTMuMjcgMi44NS00LjE1Wk0yLjA5IDloMS45NGMuMSAxLjU3LjQyIDMgLjkxIDQuMTVBNS45OTggNS45OTggMCAwIDEgMi4wOSA5Wm04Ljk3IDQuMTVjLjQ4LTEuMTUuODEtMi41OC45MS00LjE1aDEuOTRhNS45OTggNS45OTggMCAwIDEtMi44NSA0LjE1WiIgZmlsbD0iIzE2NTJGMCIvPjwvc3ZnPg==";var uu={};Object.defineProperty(uu,"__esModule",{value:!0});uu.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTciIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE1LjYzNSAyLjExN2EzLjg4OSAzLjg4OSAwIDAgMC01LjUyMSAwTDYuODkgNS4zMzVBMy44OTQgMy44OTQgMCAwIDAgNS44IDguNzM5Yy4wODMuNTA2LjI2OCAxLjAxMS41NTMgMS40NjYuMTUxLjI1My4zMzYuNDcyLjUzNy42OTFsLjYyMS42MjQgMS4xNDEtMS4xNDYtLjYyLS42MjRhMi4xMDUgMi4xMDUgMCAwIDEtLjQ4Ny0uNzQxIDIuMzQgMi4zNCAwIDAgMSAuNTAzLTIuNTFsMy4yMDYtMy4yMmEyLjI5MyAyLjI5MyAwIDAgMSAzLjIzOSAwYy44OS44OTQuODkgMi4zNDMgMCAzLjI1M2wtMS41MjcgMS41MzNjLjIzNC42NC4zMzUgMS4zMzEuMzAyIDIuMDA1bDIuMzgzLTIuMzkyYzEuNTEtMS41MzQgMS40OTMtNC4wMjgtLjAxNy01LjU2MVoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBkPSJNMTEuMjcxIDcuNzQ1YTMuMTMgMy4xMyAwIDAgMC0uNTU0LS42OWwtLjYyLS42MjQtMS4xNDIgMS4xNDYuNjIxLjYyM2MuMjE4LjIyLjM4Ni40ODkuNDg3Ljc1OC4zMzUuODI2LjE2NyAxLjgyLS41MDQgMi40OTRsLTMuMjA1IDMuMjE5YTIuMjkzIDIuMjkzIDAgMCAxLTMuMjQgMCAyLjMxNiAyLjMxNiAwIDAgMSAwLTMuMjUybDEuNTI4LTEuNTM0YTQuODE1IDQuODE1IDAgMCAxLS4yODUtMi4wMDVsLTIuMzgzIDIuMzkzYTMuOTI3IDMuOTI3IDAgMCAwIDAgNS41NDQgMy45MDkgMy45MDkgMCAwIDAgNS41MzggMGwzLjIwNS0zLjIxOWEzLjk1OCAzLjk1OCAwIDAgMCAxLjA5MS0zLjQwNCA0LjIxMSA0LjIxMSAwIDAgMC0uNTM3LTEuNDQ5WiIgZmlsbD0iIzE2NTJGMCIvPjwvc3ZnPg==";var cu={};Object.defineProperty(cu,"__esModule",{value:!0});cu.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEgN3Y5aDE0VjdIMVptNy41IDQuMzlWMTRoLTF2LTIuNjFjLS40NC0uMTktLjc1LS42My0uNzUtMS4xNGExLjI1IDEuMjUgMCAwIDEgMi41IDBjMCAuNTEtLjMxLjk1LS43NSAxLjE0Wk01LjY3IDZWNC4zM0M1LjY3IDMuMDUgNi43MSAyIDggMnMyLjMzIDEuMDUgMi4zMyAyLjMzVjZoMlY0LjMzQzEyLjMzIDEuOTQgMTAuMzkgMCA4IDBTMy42NyAxLjk0IDMuNjcgNC4zM1Y2aDJaIiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+";var lu={};Object.defineProperty(lu,"__esModule",{value:!0});lu.default=`<svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="50" cy="50" r="50" fill="white"/>
<circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>
<circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>
</svg>

`;var Qi={};function Vh(t){this.mode=$e.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,r=this.data.length;e<r;e++){var n=[],i=this.data.charCodeAt(e);i>65536?(n[0]=240|(i&1835008)>>>18,n[1]=128|(i&258048)>>>12,n[2]=128|(i&4032)>>>6,n[3]=128|i&63):i>2048?(n[0]=224|(i&61440)>>>12,n[1]=128|(i&4032)>>>6,n[2]=128|i&63):i>128?(n[0]=192|(i&1984)>>>6,n[1]=128|i&63):n[0]=i,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}Vh.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,r=this.parsedData.length;e<r;e++)t.put(this.parsedData[e],8)}};function ut(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}ut.prototype={addData:function(t){var e=new Vh(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=ut.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[t+r][e+n]=!0:this.modules[t+r][e+n]=!1)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=ge.getLostPoint(this);(r==0||t>n)&&(t=n,e=r)}return e},createMovieClip:function(t,e,r){var n=t.createEmptyMovieClip(e,r),i=1;this.make();for(var o=0;o<this.modules.length;o++)for(var s=o*i,a=0;a<this.modules[o].length;a++){var u=a*i,c=this.modules[o][a];c&&(n.beginFill(0,100),n.moveTo(u,s),n.lineTo(u+i,s),n.lineTo(u+i,s+i),n.lineTo(u,s+i),n.endFill())}return n},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=ge.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],i=t[r];if(this.modules[n][i]==null)for(var o=-2;o<=2;o++)for(var s=-2;s<=2;s++)o==-2||o==2||s==-2||s==2||o==0&&s==0?this.modules[n+o][i+s]=!0:this.modules[n+o][i+s]=!1}},setupTypeNumber:function(t){for(var e=ge.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(t,e){for(var r=this.errorCorrectLevel<<3|e,n=ge.getBCHTypeInfo(r),i=0;i<15;i++){var o=!t&&(n>>i&1)==1;i<6?this.modules[i][8]=o:i<8?this.modules[i+1][8]=o:this.modules[this.moduleCount-15+i][8]=o}for(var i=0;i<15;i++){var o=!t&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=o:i<9?this.modules[8][15-i-1+1]=o:this.modules[8][15-i-1]=o}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,n=this.moduleCount-1,i=7,o=0,s=this.moduleCount-1;s>0;s-=2)for(s==6&&s--;;){for(var a=0;a<2;a++)if(this.modules[n][s-a]==null){var u=!1;o<t.length&&(u=(t[o]>>>i&1)==1);var c=ge.getMask(e,n,s-a);c&&(u=!u),this.modules[n][s-a]=u,i--,i==-1&&(o++,i=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}}};ut.PAD0=236;ut.PAD1=17;ut.createData=function(t,e,r){for(var n=at.getRSBlocks(t,e),i=new zh,o=0;o<r.length;o++){var s=r[o];i.put(s.mode,4),i.put(s.getLength(),ge.getLengthInBits(s.mode,t)),s.write(i)}for(var a=0,o=0;o<n.length;o++)a+=n[o].dataCount;if(i.getLengthInBits()>a*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+a*8+")");for(i.getLengthInBits()+4<=a*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=a*8||(i.put(ut.PAD0,8),i.getLengthInBits()>=a*8));)i.put(ut.PAD1,8);return ut.createBytes(i,n)};ut.createBytes=function(t,e){for(var r=0,n=0,i=0,o=new Array(e.length),s=new Array(e.length),a=0;a<e.length;a++){var u=e[a].dataCount,c=e[a].totalCount-u;n=Math.max(n,u),i=Math.max(i,c),o[a]=new Array(u);for(var l=0;l<o[a].length;l++)o[a][l]=255&t.buffer[l+r];r+=u;var b=ge.getErrorCorrectPolynomial(c),f=new dr(o[a],b.getLength()-1),p=f.mod(b);s[a]=new Array(b.getLength()-1);for(var l=0;l<s[a].length;l++){var g=l+p.getLength()-s[a].length;s[a][l]=g>=0?p.get(g):0}}for(var C=0,l=0;l<e.length;l++)C+=e[l].totalCount;for(var I=new Array(C),y=0,l=0;l<n;l++)for(var a=0;a<e.length;a++)l<o[a].length&&(I[y++]=o[a][l]);for(var l=0;l<i;l++)for(var a=0;a<e.length;a++)l<s[a].length&&(I[y++]=s[a][l]);return I};var $e={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3},Ct={L:1,M:0,Q:3,H:2},wt={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},ge={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G18:1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,G15_MASK:1<<14|1<<12|1<<10|1<<4|1<<1,getBCHTypeInfo:function(t){for(var e=t<<10;ge.getBCHDigit(e)-ge.getBCHDigit(ge.G15)>=0;)e^=ge.G15<<ge.getBCHDigit(e)-ge.getBCHDigit(ge.G15);return(t<<10|e)^ge.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;ge.getBCHDigit(e)-ge.getBCHDigit(ge.G18)>=0;)e^=ge.G18<<ge.getBCHDigit(e)-ge.getBCHDigit(ge.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return ge.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case wt.PATTERN000:return(e+r)%2==0;case wt.PATTERN001:return e%2==0;case wt.PATTERN010:return r%3==0;case wt.PATTERN011:return(e+r)%3==0;case wt.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case wt.PATTERN101:return e*r%2+e*r%3==0;case wt.PATTERN110:return(e*r%2+e*r%3)%2==0;case wt.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new dr([1],0),r=0;r<t;r++)e=e.multiply(new dr([1,Ae.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case $e.MODE_NUMBER:return 10;case $e.MODE_ALPHA_NUM:return 9;case $e.MODE_8BIT_BYTE:return 8;case $e.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case $e.MODE_NUMBER:return 12;case $e.MODE_ALPHA_NUM:return 11;case $e.MODE_8BIT_BYTE:return 16;case $e.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case $e.MODE_NUMBER:return 14;case $e.MODE_ALPHA_NUM:return 13;case $e.MODE_8BIT_BYTE:return 16;case $e.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n++)for(var i=0;i<e;i++){for(var o=0,s=t.isDark(n,i),a=-1;a<=1;a++)if(!(n+a<0||e<=n+a))for(var u=-1;u<=1;u++)i+u<0||e<=i+u||a==0&&u==0||s==t.isDark(n+a,i+u)&&o++;o>5&&(r+=3+o-5)}for(var n=0;n<e-1;n++)for(var i=0;i<e-1;i++){var c=0;t.isDark(n,i)&&c++,t.isDark(n+1,i)&&c++,t.isDark(n,i+1)&&c++,t.isDark(n+1,i+1)&&c++,(c==0||c==4)&&(r+=3)}for(var n=0;n<e;n++)for(var i=0;i<e-6;i++)t.isDark(n,i)&&!t.isDark(n,i+1)&&t.isDark(n,i+2)&&t.isDark(n,i+3)&&t.isDark(n,i+4)&&!t.isDark(n,i+5)&&t.isDark(n,i+6)&&(r+=40);for(var i=0;i<e;i++)for(var n=0;n<e-6;n++)t.isDark(n,i)&&!t.isDark(n+1,i)&&t.isDark(n+2,i)&&t.isDark(n+3,i)&&t.isDark(n+4,i)&&!t.isDark(n+5,i)&&t.isDark(n+6,i)&&(r+=40);for(var l=0,i=0;i<e;i++)for(var n=0;n<e;n++)t.isDark(n,i)&&l++;var b=Math.abs(100*l/e/e-50)/5;return r+=b*10,r}},Ae={glog:function(t){if(t<1)throw new Error("glog("+t+")");return Ae.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return Ae.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var Re=0;Re<8;Re++)Ae.EXP_TABLE[Re]=1<<Re;for(var Re=8;Re<256;Re++)Ae.EXP_TABLE[Re]=Ae.EXP_TABLE[Re-4]^Ae.EXP_TABLE[Re-5]^Ae.EXP_TABLE[Re-6]^Ae.EXP_TABLE[Re-8];for(var Re=0;Re<255;Re++)Ae.LOG_TABLE[Ae.EXP_TABLE[Re]]=Re;function dr(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&t[r]==0;)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}dr.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<t.getLength();n++)e[r+n]^=Ae.gexp(Ae.glog(this.get(r))+Ae.glog(t.get(n)));return new dr(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=Ae.glog(this.get(0))-Ae.glog(t.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<t.getLength();n++)r[n]^=Ae.gexp(Ae.glog(t.get(n))+e);return new dr(r,0).mod(t)}};function at(t,e){this.totalCount=t,this.dataCount=e}at.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];at.getRSBlocks=function(t,e){var r=at.getRsBlockTable(t,e);if(r==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,i=[],o=0;o<n;o++)for(var s=r[o*3+0],a=r[o*3+1],u=r[o*3+2],c=0;c<s;c++)i.push(new at(a,u));return i};at.getRsBlockTable=function(t,e){switch(e){case Ct.L:return at.RS_BLOCK_TABLE[(t-1)*4+0];case Ct.M:return at.RS_BLOCK_TABLE[(t-1)*4+1];case Ct.Q:return at.RS_BLOCK_TABLE[(t-1)*4+2];case Ct.H:return at.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};function zh(){this.buffer=[],this.length=0}zh.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Qs=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function qh(t){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof t=="string"&&(t={content:t}),t)for(var e in t)this.options[e]=t[e];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function r(u){switch(u){case"L":return Ct.L;case"M":return Ct.M;case"Q":return Ct.Q;case"H":return Ct.H;default:throw new Error("Unknwon error correction level: "+u)}}function n(u,c){for(var l=i(u),b=1,f=0,p=0,g=Qs.length;p<=g;p++){var C=Qs[p];if(!C)throw new Error("Content too long: expected "+f+" but got "+l);switch(c){case"L":f=C[0];break;case"M":f=C[1];break;case"Q":f=C[2];break;case"H":f=C[3];break;default:throw new Error("Unknwon error correction level: "+c)}if(l<=f)break;b++}if(b>Qs.length)throw new Error("Content too long");return b}function i(u){var c=encodeURI(u).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return c.length+(c.length!=u?3:0)}var o=this.options.content,s=n(o,this.options.ecl),a=r(this.options.ecl);this.qrcode=new ut(s,a),this.qrcode.addData(o),this.qrcode.make()}qh.prototype.svg=function(t){var e=this.options||{},r=this.qrcode.modules;typeof t>"u"&&(t={container:e.container||"svg"});for(var n=typeof e.pretty<"u"?!!e.pretty:!0,i=n?"  ":"",o=n?`\r
`:"",s=e.width,a=e.height,u=r.length,c=s/(u+2*e.padding),l=a/(u+2*e.padding),b=typeof e.join<"u"?!!e.join:!1,f=typeof e.swap<"u"?!!e.swap:!1,p=typeof e.xmlDeclaration<"u"?!!e.xmlDeclaration:!0,g=typeof e.predefined<"u"?!!e.predefined:!1,C=g?i+'<defs><path id="qrmodule" d="M0 0 h'+l+" v"+c+' H0 z" style="fill:'+e.color+';shape-rendering:crispEdges;" /></defs>'+o:"",I=i+'<rect x="0" y="0" width="'+s+'" height="'+a+'" style="fill:'+e.background+';shape-rendering:crispEdges;"/>'+o,y="",v="",x=0;x<u;x++)for(var P=0;P<u;P++){var $=r[P][x];if($){var H=P*c+e.padding*c,Y=x*l+e.padding*l;if(f){var K=H;H=Y,Y=K}if(b){var L=c+H,G=l+Y;H=Number.isInteger(H)?Number(H):H.toFixed(2),Y=Number.isInteger(Y)?Number(Y):Y.toFixed(2),L=Number.isInteger(L)?Number(L):L.toFixed(2),G=Number.isInteger(G)?Number(G):G.toFixed(2),v+="M"+H+","+Y+" V"+G+" H"+L+" V"+Y+" H"+H+" Z "}else g?y+=i+'<use x="'+H.toString()+'" y="'+Y.toString()+'" href="#qrmodule" />'+o:y+=i+'<rect x="'+H.toString()+'" y="'+Y.toString()+'" width="'+c+'" height="'+l+'" style="fill:'+e.color+';shape-rendering:crispEdges;"/>'+o}}b&&(y=i+'<path x="0" y="0" style="fill:'+e.color+';shape-rendering:crispEdges;" d="'+v+'" />');let F="";if(this.options.image!==void 0&&this.options.image.svg){const E=s*this.options.image.width/100,A=a*this.options.image.height/100,R=s/2-E/2,B=a/2-A/2;F+=`<svg x="${R}" y="${B}" width="${E}" height="${A}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,F+=this.options.image.svg+o,F+="</svg>"}var m="";switch(t.container){case"svg":p&&(m+='<?xml version="1.0" standalone="yes"?>'+o),m+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+s+'" height="'+a+'">'+o,m+=C+I+y,m+=F,m+="</svg>";break;case"svg-viewbox":p&&(m+='<?xml version="1.0" standalone="yes"?>'+o),m+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+s+" "+a+'">'+o,m+=C+I+y,m+=F,m+="</svg>";break;case"g":m+='<g width="'+s+'" height="'+a+'">'+o,m+=C+I+y,m+=F,m+="</g>";break;default:m+=(C+I+y+F).replace(/^\s+/,"");break}return m};var K2=qh,J2=ie&&ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qi,"__esModule",{value:!0});Qi.QRCode=void 0;const Z2=On,Zc=su,X2=J2(K2),eE=t=>{const[e,r]=(0,Zc.useState)("");return(0,Zc.useEffect)(()=>{var n,i;const o=new X2.default({content:t.content,background:t.bgColor||"#ffffff",color:t.fgColor||"#000000",container:"svg",ecl:"M",width:(n=t.width)!==null&&n!==void 0?n:256,height:(i=t.height)!==null&&i!==void 0?i:256,padding:0,image:t.image}),s=Buffer.from(o.svg(),"utf8").toString("base64");r(`data:image/svg+xml;base64,${s}`)}),e?(0,Z2.h)("img",{src:e,alt:"QR Code"}):null};Qi.QRCode=eE;var Yi={},fu={};Object.defineProperty(fu,"__esModule",{value:!0});fu.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var tE=ie&&ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yi,"__esModule",{value:!0});Yi.Spinner=void 0;const $n=On,rE=tE(fu),nE=t=>{var e;const r=(e=t.size)!==null&&e!==void 0?e:64,n=t.color||"#000";return(0,$n.h)("div",{class:"-cbwsdk-spinner"},(0,$n.h)("style",null,rE.default),(0,$n.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r}},(0,$n.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))};Yi.Spinner=nE;var hu={};Object.defineProperty(hu,"__esModule",{value:!0});hu.default='.-cbwsdk-css-reset .-cbwsdk-extension-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box{display:flex;position:relative;max-width:500px;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top{display:flex;flex-direction:row;border-radius:8px;overflow:hidden;min-height:300px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top.dark{color:#fff;background-color:#000;box-shadow:0 4px 16px rgba(255,255,255,.05)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top.light{background-color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-subtext{margin-top:15px;font-size:12px;line-height:1.5}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-install-region{display:flex;flex-basis:50%;flex-direction:column;justify-content:center;padding:32px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-install-region button{display:block;border-radius:8px;background-color:#1652f0;color:#fff;width:90%;min-width:fit-content;height:44px;margin-top:16px;font-size:16px;padding-left:16px;padding-right:16px;cursor:pointer;font-weight:500;text-align:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-install-region button.dark{background-color:#3773f5}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-info-region{display:flex;flex-basis:50%;flex-direction:column;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-info-region.light{background-color:#fafbfc}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-info-region.dark{background-color:#141519}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description{display:flex;flex-direction:row;align-items:center;padding-top:14px;padding-bottom:14px;padding-left:24px;padding-right:32px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-icon-wrapper{display:block;position:relative;width:40px;height:40px;flex-shrink:0;flex-grow:0;border-radius:20px;background-color:#fff;box-shadow:0px 0px 8px rgba(0,0,0,.04),0px 16px 24px rgba(0,0,0,.06)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-icon-wrapper img{position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-text{margin-left:16px;flex-grow:1;font-size:13px;line-height:19px;align-self:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-text.light{color:#000}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-text.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom{display:flex;flex-direction:row;overflow:hidden;border-radius:8px;margin-top:8px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom.light{background-color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom.dark{background-color:#000;box-shadow:0 4px 16px rgba(255,255,255,.05)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description-region{display:flex;flex-direction:column;justify-content:center;padding:32px;flex-grow:1}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description{font-size:13px;line-height:19px;margin-top:12px;color:#aaa}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description.dark a{color:#3773f5}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description a{font-size:inherit;line-height:inherit;color:#1652f0;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-region{position:relative;flex-shrink:0;display:flex;flex-direction:column;justify-content:center;padding-left:24px;padding-right:24px;padding-top:16px;padding-bottom:16px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-wrapper{position:relative;display:block;padding:8px;border-radius:8px;box-shadow:0px 4px 12px rgba(0,0,0,.1);background-color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-wrapper img{display:block}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting.light>p{color:#000}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting.dark{background-color:rgba(20,21,25,.9)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel{position:absolute;-webkit-appearance:none;display:flex;align-items:center;justify-content:center;top:16px;right:16px;width:24px;height:24px;border-radius:12px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel.light{background-color:#fafbfc}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel.dark{background-color:#141519}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x.light::before,.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x.light::after{background-color:#000}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x.dark::before,.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x.dark::after{background-color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::before,.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::after{content:"";position:absolute;display:block;top:-1px;left:-7px;width:14px;height:1px;transition:background-color .2s}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::before{transform:rotate(45deg)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::after{transform:rotate(135deg)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel:hover .-cbwsdk-link-dialog-box-cancel-x-a,.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel:hover .-cbwsdk-link-dialog-box-cancel-x-b{background-color:#000}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-container-hidden{display:none}.-cbwsdk-css-reset .-cbwsdk-extension-dialog h2{display:block;text-align:left;font-size:22px;font-weight:600;line-height:28px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog h2.light{color:#000}.-cbwsdk-css-reset .-cbwsdk-extension-dialog h2.dark{color:#fff}';var Lr=ie&&ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qi,"__esModule",{value:!0});qi.TryExtensionLinkDialog=void 0;const rt=Lr(Bh),ue=On,tn=su,iE=Z,oE=Gi,sE=Lr(au),aE=Lr(uu),uE=Lr(cu),cE=Lr(lu),lE=Qi,fE=Yi,hE=Lr(hu),dE=t=>{const{isOpen:e,darkMode:r}=t,[n,i]=(0,tn.useState)(!e),[o,s]=(0,tn.useState)(!e);(0,tn.useEffect)(()=>{const u=[window.setTimeout(()=>{s(!e)},10)];return e?i(!1):u.push(window.setTimeout(()=>{i(!0)},360)),()=>{u.forEach(window.clearTimeout)}},[t.isOpen]);const a=r?"dark":"light";return(0,ue.h)("div",{class:(0,rt.default)("-cbwsdk-extension-dialog-container",n&&"-cbwsdk-extension-dialog-container-hidden")},(0,ue.h)("style",null,hE.default),(0,ue.h)("div",{class:(0,rt.default)("-cbwsdk-extension-dialog-backdrop",a,o&&"-cbwsdk-extension-dialog-backdrop-hidden")}),(0,ue.h)("div",{class:"-cbwsdk-extension-dialog"},(0,ue.h)("div",{class:(0,rt.default)("-cbwsdk-extension-dialog-box",o&&"-cbwsdk-extension-dialog-box-hidden")},(0,ue.h)(pE,{darkMode:r,onInstallClick:()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")}}),t.connectDisabled?null:(0,ue.h)(yE,{darkMode:r,version:t.version,sessionId:t.sessionId,sessionSecret:t.sessionSecret,linkAPIUrl:t.linkAPIUrl,isConnected:t.isConnected,isParentConnection:t.isParentConnection,chainId:t.chainId}),t.onCancel&&(0,ue.h)(bE,{darkMode:r,onClick:t.onCancel}))))};qi.TryExtensionLinkDialog=dE;const pE=({darkMode:t,onInstallClick:e})=>{const[r,n]=(0,tn.useState)(!1),i=(0,tn.useCallback)(()=>{r?window.location.reload():(e(),n(!0))},[e,r]),o=t?"dark":"light";return(0,ue.h)("div",{class:(0,rt.default)("-cbwsdk-extension-dialog-box-top",o)},(0,ue.h)("div",{class:"-cbwsdk-extension-dialog-box-top-install-region"},(0,ue.h)("h2",{class:o},"Try the Coinbase Wallet extension"),r&&(0,ue.h)("div",{class:"-cbwsdk-extension-dialog-box-top-subtext"},"After installing Coinbase Wallet, refresh the page and connect again."),(0,ue.h)("button",{type:"button",onClick:i},r?"Refresh":"Install")),(0,ue.h)("div",{class:(0,rt.default)("-cbwsdk-extension-dialog-box-top-info-region",o)},(0,ue.h)(Ys,{darkMode:t,icon:aE.default,text:"Connect to crypto apps with one click"}),(0,ue.h)(Ys,{darkMode:t,icon:uE.default,text:"Your private key is stored securely"}),(0,ue.h)(Ys,{darkMode:t,icon:sE.default,text:"Works with Ethereum, Polygon, and more"})))},yE=t=>{const e=(0,iE.createQrUrl)(t.sessionId,t.sessionSecret,t.linkAPIUrl,t.isParentConnection,t.version,t.chainId),r=t.darkMode?"dark":"light";return(0,ue.h)("div",{"data-testid":"scan-qr-box",class:(0,rt.default)("-cbwsdk-extension-dialog-box-bottom",r)},(0,ue.h)("div",{class:"-cbwsdk-extension-dialog-box-bottom-description-region"},(0,ue.h)("h2",{class:r},"Or scan to connect"),(0,ue.h)("body",{class:(0,rt.default)("-cbwsdk-extension-dialog-box-bottom-description",r)},"Open"," ",(0,ue.h)("a",{href:"https://wallet.coinbase.com/",target:"_blank",rel:"noopener noreferrer"},"Coinbase Wallet")," ","on your mobile phone and scan")),(0,ue.h)("div",{class:"-cbwsdk-extension-dialog-box-bottom-qr-region"},(0,ue.h)("div",{class:"-cbwsdk-extension-dialog-box-bottom-qr-wrapper"},(0,ue.h)(lE.QRCode,{content:e,width:150,height:150,fgColor:"#000",bgColor:"transparent",image:{svg:cE.default,width:34,height:34}})),(0,ue.h)("input",{type:"hidden",name:"cbwsdk-version",value:oE.LIB_VERSION}),(0,ue.h)("input",{type:"hidden",value:e}),!t.isConnected&&(0,ue.h)("div",{"data-testid":"connecting-spinner",class:(0,rt.default)("-cbwsdk-extension-dialog-box-bottom-qr-connecting",r)},(0,ue.h)(fE.Spinner,{size:36,color:t.darkMode?"#FFF":"#000"}),(0,ue.h)("p",null,"Connecting..."))))},Ys=t=>{const e=t.darkMode?"dark":"light";return(0,ue.h)("div",{class:"-cbwsdk-extension-dialog-box-top-description"},(0,ue.h)("div",{class:"-cbwsdk-extension-dialog-box-top-description-icon-wrapper"},(0,ue.h)("img",{src:t.icon})),(0,ue.h)("body",{class:(0,rt.default)("-cbwsdk-extension-dialog-box-top-description-text",e)},t.text))},bE=t=>{const e=t.darkMode?"dark":"light";return(0,ue.h)("button",{type:"button",class:(0,rt.default)("-cbwsdk-extension-dialog-box-cancel",e),onClick:t.onClick},(0,ue.h)("div",{class:(0,rt.default)("-cbwsdk-extension-dialog-box-cancel-x",e)}))};Object.defineProperty(zi,"__esModule",{value:!0});zi.LinkFlow=void 0;const Ks=On,Xc=Tr,gE=qi;class vE{constructor(e){this.extensionUI$=new Xc.BehaviorSubject({}),this.subscriptions=new Xc.Subscription,this.isConnected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=e.darkMode,this.version=e.version,this.sessionId=e.sessionId,this.sessionSecret=e.sessionSecret,this.linkAPIUrl=e.linkAPIUrl,this.isParentConnection=e.isParentConnection,this.connected$=e.connected$,this.chainId$=e.chainId$}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",e.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe(r=>{this.isConnected!==r&&(this.isConnected=r,this.render())})),this.subscriptions.add(this.chainId$.subscribe(r=>{this.chainId!==r&&(this.chainId=r,this.render())}))}detach(){var e;!this.root||(this.subscriptions.unsubscribe(),(0,Ks.render)(null,this.root),(e=this.root.parentElement)===null||e===void 0||e.removeChild(this.root))}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const e=this.extensionUI$.subscribe(()=>{!this.root||(0,Ks.render)((0,Ks.h)(gE.TryExtensionLinkDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)});this.subscriptions.add(e)}}zi.LinkFlow=vE;var Gh={},du={};Object.defineProperty(du,"__esModule",{value:!0});du.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(t){var e=ie&&ie.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarInstance=t.SnackbarContainer=t.Snackbar=void 0;const r=e(Bh),n=On,i=su,o=e(du),s="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",a="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class u{constructor(f){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=f.darkMode}attach(f){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",f.appendChild(this.root),this.render()}presentItem(f){const p=this.nextItemKey++;return this.items.set(p,f),this.render(),()=>{this.items.delete(p),this.render()}}clear(){this.items.clear(),this.render()}render(){!this.root||(0,n.render)((0,n.h)("div",null,(0,n.h)(t.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([f,p])=>(0,n.h)(t.SnackbarInstance,Object.assign({},p,{key:f}))))),this.root)}}t.Snackbar=u;const c=b=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-container")},(0,n.h)("style",null,o.default),(0,n.h)("div",{class:"-cbwsdk-snackbar"},b.children));t.SnackbarContainer=c;const l=({autoExpand:b,message:f,menuItems:p})=>{const[g,C]=(0,i.useState)(!0),[I,y]=(0,i.useState)(b!=null?b:!1);(0,i.useEffect)(()=>{const x=[window.setTimeout(()=>{C(!1)},1),window.setTimeout(()=>{y(!0)},1e4)];return()=>{x.forEach(window.clearTimeout)}});const v=()=>{y(!I)};return(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance",g&&"-cbwsdk-snackbar-instance-hidden",I&&"-cbwsdk-snackbar-instance-expanded")},(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:v},(0,n.h)("img",{src:s,class:"-cbwsdk-snackbar-instance-header-cblogo"}),(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},f),(0,n.h)("div",{class:"-gear-container"},!I&&(0,n.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,n.h)("img",{src:a,class:"-gear-icon",title:"Expand"}))),p&&p.length>0&&(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},p.map((x,P)=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item",x.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:x.onClick,key:P},(0,n.h)("svg",{width:x.svgWidth,height:x.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{"fill-rule":x.defaultFillRule,"clip-rule":x.defaultClipRule,d:x.path,fill:"#AAAAAA"})),(0,n.h)("span",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item-info",x.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},x.info)))))};t.SnackbarInstance=l})(Gh);var Ki={},pu={};Object.defineProperty(pu,"__esModule",{value:!0});pu.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;bottom:auto;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;content:normal;counter-increment:none;counter-reset:none;cursor:auto;direction:ltr;display:block;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;left:auto;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";right:auto;tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;top:auto;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;width:auto;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset *{box-sizing:border-box;display:initial;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var mE=ie&&ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ki,"__esModule",{value:!0});Ki.injectCssReset=void 0;const _E=mE(pu);function wE(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(_E.default)),document.documentElement.appendChild(t)}Ki.injectCssReset=wE;Object.defineProperty(Vi,"__esModule",{value:!0});Vi.WalletSDKUI=void 0;const SE=zi,EE=Gh,xE=Ki;class AE{constructor(e){this.standalone=null,this.attached=!1,this.snackbar=new EE.Snackbar({darkMode:e.darkMode}),this.linkFlow=new SE.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:e.session.id,sessionSecret:e.session.secret,linkAPIUrl:e.linkAPIUrl,connected$:e.connected$,chainId$:e.chainId$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",e.appendChild(r),this.linkFlow.attach(r),this.snackbar.attach(r),this.attached=!0,(0,xE.injectCssReset)()}setConnectDisabled(e){this.linkFlow.setConnectDisabled(e)}addEthereumChain(e){}watchAsset(e){}switchEthereumChain(e){}requestEthereumAccounts(e){this.linkFlow.open({onCancel:e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(e){}signEthereumTransaction(e){}submitEthereumTransaction(e){}ethereumAddressFromSignedMessage(e){}showConnecting(e){let r;return e.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:r={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(r)}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(e){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(e){this.standalone=e}isStandalone(){var e;return(e=this.standalone)!==null&&e!==void 0?e:!1}}Vi.WalletSDKUI=AE;var Ji={},Zi={};Object.defineProperty(Zi,"__esModule",{value:!0});var ur;(function(t){t.typeOfFunction="function",t.boolTrue=!0})(ur||(ur={}));function Qh(t,e,r){if(!r||typeof r.value!==ur.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+e+"> is not a method!");return{configurable:ur.boolTrue,get:function(){var n=r.value.bind(this);return Object.defineProperty(this,e,{value:n,configurable:ur.boolTrue,writable:ur.boolTrue}),n}}}Zi.bind=Qh;Zi.default=Qh;var Xi={},qe={};Object.defineProperty(qe,"__esModule",{value:!0});qe.ClientMessagePublishEvent=qe.ClientMessageSetSessionConfig=qe.ClientMessageGetSessionConfig=qe.ClientMessageIsLinked=qe.ClientMessageHostSession=void 0;function CE(t){return Object.assign({type:"HostSession"},t)}qe.ClientMessageHostSession=CE;function kE(t){return Object.assign({type:"IsLinked"},t)}qe.ClientMessageIsLinked=kE;function IE(t){return Object.assign({type:"GetSessionConfig"},t)}qe.ClientMessageGetSessionConfig=IE;function RE(t){return Object.assign({type:"SetSessionConfig"},t)}qe.ClientMessageSetSessionConfig=RE;function ME(t){return Object.assign({type:"PublishEvent"},t)}qe.ClientMessagePublishEvent=ME;var Yh={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RxWebSocket=t.ConnectionState=void 0;const e=Tr,r=Ei;var n;(function(o){o[o.DISCONNECTED=0]="DISCONNECTED",o[o.CONNECTING=1]="CONNECTING",o[o.CONNECTED=2]="CONNECTED"})(n=t.ConnectionState||(t.ConnectionState={}));class i{constructor(s,a=WebSocket){this.WebSocketClass=a,this.webSocket=null,this.connectionStateSubject=new e.BehaviorSubject(n.DISCONNECTED),this.incomingDataSubject=new e.Subject,this.url=s.replace(/^http/,"ws")}connect(){return this.webSocket?(0,e.throwError)(new Error("webSocket object is not null")):new e.Observable(s=>{let a;try{this.webSocket=a=new this.WebSocketClass(this.url)}catch(u){s.error(u);return}this.connectionStateSubject.next(n.CONNECTING),a.onclose=u=>{this.clearWebSocket(),s.error(new Error(`websocket error ${u.code}: ${u.reason}`)),this.connectionStateSubject.next(n.DISCONNECTED)},a.onopen=u=>{s.next(),s.complete(),this.connectionStateSubject.next(n.CONNECTED)},a.onmessage=u=>{this.incomingDataSubject.next(u.data)}}).pipe((0,r.take)(1))}disconnect(){const{webSocket:s}=this;if(!!s){this.clearWebSocket(),this.connectionStateSubject.next(n.DISCONNECTED);try{s.close()}catch{}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,r.flatMap)(s=>{let a;try{a=JSON.parse(s)}catch{return(0,e.empty)()}return(0,e.of)(a)}))}sendData(s){const{webSocket:a}=this;if(!a)throw new Error("websocket is not connected");a.send(s)}clearWebSocket(){const{webSocket:s}=this;!s||(this.webSocket=null,s.onclose=null,s.onerror=null,s.onmessage=null,s.onopen=null)}}t.RxWebSocket=i})(Yh);var eo={};Object.defineProperty(eo,"__esModule",{value:!0});eo.isServerMessageFail=void 0;function OE(t){return t&&t.type==="Fail"&&typeof t.id=="number"&&typeof t.sessionId=="string"&&typeof t.error=="string"}eo.isServerMessageFail=OE;Object.defineProperty(Xi,"__esModule",{value:!0});Xi.WalletSDKConnection=void 0;const Ze=Tr,ce=Ei,Hr=Ir,nr=En,Vr=qe,zr=kr,Wn=Yh,Js=eo,el=1e4,TE=6e4;class PE{constructor(e,r,n,i,o=WebSocket){this.sessionId=e,this.sessionKey=r,this.diagnostic=i,this.subscriptions=new Ze.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,nr.IntNumber)(1),this.connectedSubject=new Ze.BehaviorSubject(!1),this.linkedSubject=new Ze.BehaviorSubject(!1),this.sessionConfigSubject=new Ze.ReplaySubject(1);const s=new Wn.RxWebSocket(n+"/rpc",o);this.ws=s,this.subscriptions.add(s.connectionState$.pipe((0,ce.tap)(a=>{var u;return(u=this.diagnostic)===null||u===void 0?void 0:u.log(zr.EVENTS.CONNECTED_STATE_CHANGE,{state:a,sessionIdHash:Hr.Session.hash(e)})}),(0,ce.skip)(1),(0,ce.filter)(a=>a===Wn.ConnectionState.DISCONNECTED&&!this.destroyed),(0,ce.delay)(5e3),(0,ce.filter)(a=>!this.destroyed),(0,ce.flatMap)(a=>s.connect()),(0,ce.retry)()).subscribe()),this.subscriptions.add(s.connectionState$.pipe((0,ce.skip)(2),(0,ce.switchMap)(a=>(0,Ze.iif)(()=>a===Wn.ConnectionState.CONNECTED,this.authenticate().pipe((0,ce.tap)(u=>this.sendIsLinked()),(0,ce.tap)(u=>this.sendGetSessionConfig()),(0,ce.map)(u=>!0)),(0,Ze.of)(!1))),(0,ce.distinctUntilChanged)(),(0,ce.catchError)(a=>(0,Ze.of)(!1))).subscribe(a=>this.connectedSubject.next(a))),this.subscriptions.add(s.connectionState$.pipe((0,ce.skip)(1),(0,ce.switchMap)(a=>(0,Ze.iif)(()=>a===Wn.ConnectionState.CONNECTED,(0,Ze.timer)(0,el)))).subscribe(a=>a===0?this.updateLastHeartbeat():this.heartbeat())),this.subscriptions.add(s.incomingData$.pipe((0,ce.filter)(a=>a==="h")).subscribe(a=>this.updateLastHeartbeat())),this.subscriptions.add(s.incomingJSONData$.pipe((0,ce.filter)(a=>["IsLinkedOK","Linked"].includes(a.type))).subscribe(a=>{var u;const c=a;(u=this.diagnostic)===null||u===void 0||u.log(zr.EVENTS.LINKED,{sessionIdHash:Hr.Session.hash(e),linked:c.linked,type:a.type,onlineGuests:c.onlineGuests}),this.linkedSubject.next(c.linked||c.onlineGuests>0)})),this.subscriptions.add(s.incomingJSONData$.pipe((0,ce.filter)(a=>["GetSessionConfigOK","SessionConfigUpdated"].includes(a.type))).subscribe(a=>{var u;const c=a;(u=this.diagnostic)===null||u===void 0||u.log(zr.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:Hr.Session.hash(e),metadata_keys:c&&c.metadata?Object.keys(c.metadata):void 0}),this.sessionConfigSubject.next({webhookId:c.webhookId,webhookUrl:c.webhookUrl,metadata:c.metadata})}))}connect(){var e;if(this.destroyed)throw new Error("instance is destroyed");(e=this.diagnostic)===null||e===void 0||e.log(zr.EVENTS.STARTED_CONNECTING,{sessionIdHash:Hr.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){var e;this.subscriptions.unsubscribe(),this.ws.disconnect(),(e=this.diagnostic)===null||e===void 0||e.log(zr.EVENTS.DISCONNECTED,{sessionIdHash:Hr.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,ce.filter)(e=>e),(0,ce.take)(1),(0,ce.map)(()=>{}))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,ce.filter)(e=>e),(0,ce.take)(1),(0,ce.map)(()=>{}))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,ce.filter)(e=>{if(e.type!=="Event")return!1;const r=e;return typeof r.sessionId=="string"&&typeof r.eventId=="string"&&typeof r.event=="string"&&typeof r.data=="string"}),(0,ce.map)(e=>e))}setSessionMetadata(e,r){const n=(0,Vr.ClientMessageSetSessionConfig)({id:(0,nr.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[e]:r}});return this.onceConnected$.pipe((0,ce.flatMap)(i=>this.makeRequest(n)),(0,ce.map)(i=>{if((0,Js.isServerMessageFail)(i))throw new Error(i.error||"failed to set session metadata")}))}publishEvent(e,r,n=!1){const i=(0,Vr.ClientMessagePublishEvent)({id:(0,nr.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:e,data:r,callWebhook:n});return this.onceLinked$.pipe((0,ce.flatMap)(o=>this.makeRequest(i)),(0,ce.map)(o=>{if((0,Js.isServerMessageFail)(o))throw new Error(o.error||"failed to publish event");return o.eventId}))}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>el*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}makeRequest(e,r=TE){const n=e.id;try{this.sendData(e)}catch(i){return(0,Ze.throwError)(i)}return this.ws.incomingJSONData$.pipe((0,ce.timeoutWith)(r,(0,Ze.throwError)(new Error(`request ${n} timed out`))),(0,ce.filter)(i=>i.id===n),(0,ce.take)(1))}authenticate(){const e=(0,Vr.ClientMessageHostSession)({id:(0,nr.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(e).pipe((0,ce.map)(r=>{if((0,Js.isServerMessageFail)(r))throw new Error(r.error||"failed to authentcate")}))}sendIsLinked(){const e=(0,Vr.ClientMessageIsLinked)({id:(0,nr.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}sendGetSessionConfig(){const e=(0,Vr.ClientMessageGetSessionConfig)({id:(0,nr.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}}Xi.WalletSDKConnection=PE;var to={};Object.defineProperty(to,"__esModule",{value:!0});to.WalletUIError=void 0;class fn extends Error{constructor(e,r){super(e),this.message=e,this.errorCode=r}}to.WalletUIError=fn;fn.UserRejectedRequest=new fn("User rejected request");fn.SwitchEthereumChainUnsupportedChainId=new fn("Unsupported chainId",4902);var xr={};Object.defineProperty(xr,"__esModule",{value:!0});xr.decrypt=xr.encrypt=void 0;const NE=Tr,hi=Z;async function jE(t,e){if(e.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.importKey("raw",(0,hi.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,o=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},n,i.encode(t)),s=16,a=o.slice(o.byteLength-s),u=o.slice(0,o.byteLength-s),c=new Uint8Array(a),l=new Uint8Array(u),b=new Uint8Array([...r,...c,...l]);return(0,hi.uint8ArrayToHex)(b)}xr.encrypt=jE;function DE(t,e){if(e.length!==64)throw Error("secret must be 256 bits");return new NE.Observable(r=>{(async function(){const n=await crypto.subtle.importKey("raw",(0,hi.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=(0,hi.hexStringToUint8Array)(t),o=i.slice(0,12),s=i.slice(12,28),a=i.slice(28),u=new Uint8Array([...a,...s]),c={name:"AES-GCM",iv:new Uint8Array(o)};try{const l=await window.crypto.subtle.decrypt(c,n,u),b=new TextDecoder;r.next(b.decode(l)),r.complete()}catch(l){r.error(l)}})()})}xr.decrypt=DE;var yu={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Web3Method=void 0,function(e){e.requestEthereumAccounts="requestEthereumAccounts",e.signEthereumMessage="signEthereumMessage",e.signEthereumTransaction="signEthereumTransaction",e.submitEthereumTransaction="submitEthereumTransaction",e.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",e.scanQRCode="scanQRCode",e.generic="generic",e.childRequestEthereumAccounts="childRequestEthereumAccounts",e.addEthereumChain="addEthereumChain",e.switchEthereumChain="switchEthereumChain",e.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",e.watchAsset="watchAsset",e.selectProvider="selectProvider"}(t.Web3Method||(t.Web3Method={}))})(yu);var ro={},no={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RelayMessageType=void 0,function(e){e.SESSION_ID_REQUEST="SESSION_ID_REQUEST",e.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",e.LINKED="LINKED",e.UNLINKED="UNLINKED",e.WEB3_REQUEST="WEB3_REQUEST",e.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",e.WEB3_RESPONSE="WEB3_RESPONSE"}(t.RelayMessageType||(t.RelayMessageType={}))})(no);Object.defineProperty(ro,"__esModule",{value:!0});ro.Web3RequestCanceledMessage=void 0;const LE=no;function BE(t){return{type:LE.RelayMessageType.WEB3_REQUEST_CANCELED,id:t}}ro.Web3RequestCanceledMessage=BE;var io={};Object.defineProperty(io,"__esModule",{value:!0});io.Web3RequestMessage=void 0;const FE=no;function $E(t){return Object.assign({type:FE.RelayMessageType.WEB3_REQUEST},t)}io.Web3RequestMessage=$E;var be={};Object.defineProperty(be,"__esModule",{value:!0});be.EthereumAddressFromSignedMessageResponse=be.SubmitEthereumTransactionResponse=be.SignEthereumTransactionResponse=be.SignEthereumMessageResponse=be.isRequestEthereumAccountsResponse=be.SelectProviderResponse=be.WatchAssetReponse=be.RequestEthereumAccountsResponse=be.SwitchEthereumChainResponse=be.AddEthereumChainResponse=be.ErrorResponse=void 0;const lt=yu;function WE(t,e,r){return{method:t,errorMessage:e,errorCode:r}}be.ErrorResponse=WE;function UE(t){return{method:lt.Web3Method.addEthereumChain,result:t}}be.AddEthereumChainResponse=UE;function HE(t){return{method:lt.Web3Method.switchEthereumChain,result:t}}be.SwitchEthereumChainResponse=HE;function VE(t){return{method:lt.Web3Method.requestEthereumAccounts,result:t}}be.RequestEthereumAccountsResponse=VE;function zE(t){return{method:lt.Web3Method.watchAsset,result:t}}be.WatchAssetReponse=zE;function qE(t){return{method:lt.Web3Method.selectProvider,result:t}}be.SelectProviderResponse=qE;function GE(t){return t&&t.method===lt.Web3Method.requestEthereumAccounts}be.isRequestEthereumAccountsResponse=GE;function QE(t){return{method:lt.Web3Method.signEthereumMessage,result:t}}be.SignEthereumMessageResponse=QE;function YE(t){return{method:lt.Web3Method.signEthereumTransaction,result:t}}be.SignEthereumTransactionResponse=YE;function KE(t){return{method:lt.Web3Method.submitEthereumTransaction,result:t}}be.SubmitEthereumTransactionResponse=KE;function JE(t){return{method:lt.Web3Method.ethereumAddressFromSignedMessage,result:t}}be.EthereumAddressFromSignedMessageResponse=JE;var Ar={};Object.defineProperty(Ar,"__esModule",{value:!0});Ar.isWeb3ResponseMessage=Ar.Web3ResponseMessage=void 0;const Kh=no;function ZE(t){return Object.assign({type:Kh.RelayMessageType.WEB3_RESPONSE},t)}Ar.Web3ResponseMessage=ZE;function XE(t){return t&&t.type===Kh.RelayMessageType.WEB3_RESPONSE}Ar.isWeb3ResponseMessage=XE;var e3=ie&&ie.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),t3=ie&&ie.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Jh=ie&&ie.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},r3=ie&&ie.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&e3(e,t,r);return t3(e,t),e},n3=ie&&ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ji,"__esModule",{value:!0});Ji.WalletSDKRelay=void 0;const Zh=n3(Zi),tl=vi,qr=Tr,ke=Ei,Ne=kr,i3=Xi,Zs=to,o3=En,ye=Z,Dt=r3(xr),St=Ir,Un=tt,Ee=yu,s3=ro,a3=io,Fe=be,je=Ar;class et extends Un.WalletSDKRelayAbstract{constructor(e){var r;super(),this.accountsCallback=null,this.chainCallback=null,this.dappDefaultChainSubject=new qr.BehaviorSubject(1),this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.subscriptions=new qr.Subscription,this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.options=e;const{session:n,ui:i,connection:o}=this.subscribe();if(this._session=n,this.connection=o,this.relayEventManager=e.relayEventManager,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this.diagnostic={log:e.eventListener.onEvent}:this.diagnostic=e.diagnosticLogger,this._reloadOnDisconnect=(r=e.reloadOnDisconnect)!==null&&r!==void 0?r:!0,this.ui=i}subscribe(){this.subscriptions.add(this.dappDefaultChainSubject.subscribe(i=>{this.dappDefaultChain!==i&&(this.dappDefaultChain=i)}));const e=St.Session.load(this.storage)||new St.Session(this.storage).save(),r=new i3.WalletSDKConnection(e.id,e.key,this.linkAPIUrl,this.diagnostic);this.subscriptions.add(r.sessionConfig$.subscribe({next:i=>{this.onSessionConfigChanged(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Ne.EVENTS.GENERAL_ERROR,{message:"error while invoking session config callback"})}})),this.subscriptions.add(r.incomingEvent$.pipe((0,ke.filter)(i=>i.event==="Web3Response")).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(r.linked$.pipe((0,ke.skip)(1),(0,ke.tap)(i=>{var o;this.isLinked=i;const s=this.storage.getItem(Un.LOCAL_STORAGE_ADDRESSES_KEY);if(i&&(this.session.linked=i),this.isUnlinkedErrorState=!1,s){const a=s.split(" "),u=this.storage.getItem("IsStandaloneSigning")==="true";if(a[0]!==""&&!i&&this.session.linked&&!u){this.isUnlinkedErrorState=!0;const c=this.getSessionIdHash();(o=this.diagnostic)===null||o===void 0||o.log(Ne.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:c})}}})).subscribe()),this.subscriptions.add(r.sessionConfig$.pipe((0,ke.filter)(i=>!!i.metadata&&i.metadata.__destroyed==="1")).subscribe(()=>{var i;const o=r.isDestroyed;return(i=this.diagnostic)===null||i===void 0||i.log(Ne.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:o,sessionIdHash:this.getSessionIdHash()}),this.resetAndReload()})),this.subscriptions.add(r.sessionConfig$.pipe((0,ke.filter)(i=>i.metadata&&i.metadata.WalletUsername!==void 0)).pipe((0,ke.mergeMap)(i=>Dt.decrypt(i.metadata.WalletUsername,e.secret))).subscribe({next:i=>{this.storage.setItem(Un.WALLET_USER_NAME_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Ne.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,ke.filter)(i=>i.metadata&&i.metadata.AppVersion!==void 0)).pipe((0,ke.mergeMap)(i=>Dt.decrypt(i.metadata.AppVersion,e.secret))).subscribe({next:i=>{this.storage.setItem(Un.APP_VERSION_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Ne.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,ke.filter)(i=>i.metadata&&i.metadata.ChainId!==void 0&&i.metadata.JsonRpcUrl!==void 0)).pipe((0,ke.mergeMap)(i=>(0,qr.zip)(Dt.decrypt(i.metadata.ChainId,e.secret),Dt.decrypt(i.metadata.JsonRpcUrl,e.secret)))).pipe((0,ke.distinctUntilChanged)()).subscribe({next:([i,o])=>{this.chainCallback&&this.chainCallback(i,o)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Ne.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,ke.filter)(i=>i.metadata&&i.metadata.EthereumAddress!==void 0)).pipe((0,ke.mergeMap)(i=>Dt.decrypt(i.metadata.EthereumAddress,e.secret))).subscribe({next:i=>{this.accountsCallback&&this.accountsCallback([i]),et.accountRequestCallbackIds.size>0&&(Array.from(et.accountRequestCallbackIds.values()).forEach(o=>{const s=(0,je.Web3ResponseMessage)({id:o,response:(0,Fe.RequestEthereumAccountsResponse)([i])});this.invokeCallback(Object.assign(Object.assign({},s),{id:o}))}),et.accountRequestCallbackIds.clear())},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Ne.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}}));const n=this.options.uiConstructor({linkAPIUrl:this.options.linkAPIUrl,version:this.options.version,darkMode:this.options.darkMode,session:e,connected$:r.connected$,chainId$:this.dappDefaultChainSubject});return r.connect(),{session:e,ui:n,connection:r}}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,ke.timeout)(1e3),(0,ke.catchError)(e=>(0,qr.of)(null))).subscribe(e=>{var r,n,i;const o=this.ui.isStandalone();try{this.subscriptions.unsubscribe()}catch{(r=this.diagnostic)===null||r===void 0||r.log(Ne.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}(n=this.diagnostic)===null||n===void 0||n.log(Ne.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const s=St.Session.load(this.storage);if((s==null?void 0:s.id)===this._session.id?this.storage.clear():s&&((i=this.diagnostic)===null||i===void 0||i.log(Ne.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:St.Session.hash(s.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0);const{session:a,ui:u,connection:c}=this.subscribe();this._session=a,this.connection=c,this.ui=u,o&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.attachUI()},e=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(Ne.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${e}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(e,r){this.appName=e,this.appLogoUrl=r}getStorageItem(e){return this.storage.getItem(e)}get session(){return this._session}setStorageItem(e,r){this.storage.setItem(e,r)}signEthereumMessage(e,r,n,i){return this.sendRequest({method:Ee.Web3Method.signEthereumMessage,params:{message:(0,ye.hexStringFromBuffer)(e,!0),address:r,addPrefix:n,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(e,r,n){return this.sendRequest({method:Ee.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,ye.hexStringFromBuffer)(e,!0),signature:(0,ye.hexStringFromBuffer)(r,!0),addPrefix:n}})}signEthereumTransaction(e){return this.sendRequest({method:Ee.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,ye.bigIntStringFromBN)(e.weiValue),data:(0,ye.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,ye.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,ye.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,ye.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,ye.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:Ee.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,ye.bigIntStringFromBN)(e.weiValue),data:(0,ye.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,ye.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,ye.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,ye.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,ye.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,r){return this.sendRequest({method:Ee.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,ye.hexStringFromBuffer)(e,!0),chainId:r}})}scanQRCode(e){return this.sendRequest({method:Ee.Web3Method.scanQRCode,params:{regExp:e}})}getQRCodeUrl(){return(0,ye.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(e,r){return this.sendRequest({method:Ee.Web3Method.generic,params:{action:r,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let r=null;const n=(0,ye.randomBytesHex)(8),i=s=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,s),r==null||r()};return{promise:new Promise((s,a)=>{this.ui.isStandalone()||(r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(n,u=>{if(r==null||r(),u.errorMessage)return a(new Error(u.errorMessage));s(u)}),this.ui.isStandalone()?this.sendRequestStandalone(n,e):this.publishWeb3RequestEvent(n,e)}),cancel:i}}setConnectDisabled(e){this.ui.setConnectDisabled(e)}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}setDappDefaultChainCallback(e){this.dappDefaultChainSubject.next(e)}publishWeb3RequestEvent(e,r){var n;const i=(0,a3.Web3RequestMessage)({id:e,request:r}),o=St.Session.load(this.storage);(n=this.diagnostic)===null||n===void 0||n.log(Ne.EVENTS.WEB3_REQUEST,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:o?St.Session.hash(o.id):"",isSessionMismatched:((o==null?void 0:o.id)!==this._session.id).toString()}),this.subscriptions.add(this.publishEvent("Web3Request",i,!0).subscribe({next:s=>{var a;(a=this.diagnostic)===null||a===void 0||a.log(Ne.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:o?St.Session.hash(o.id):"",isSessionMismatched:((o==null?void 0:o.id)!==this._session.id).toString()})},error:s=>{this.handleWeb3ResponseMessage((0,je.Web3ResponseMessage)({id:i.id,response:{method:i.request.method,errorMessage:s.message}}))}}))}publishWeb3RequestCanceledEvent(e){const r=(0,s3.Web3RequestCanceledMessage)(e);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",r,!1).subscribe())}publishEvent(e,r,n){const i=this.session.secret;return new qr.Observable(o=>{Dt.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin})),i).then(s=>{o.next(s),o.complete()})}).pipe((0,ke.mergeMap)(o=>this.connection.publishEvent(e,o,n)))}handleIncomingEvent(e){try{this.subscriptions.add(Dt.decrypt(e.data,this.session.secret).pipe((0,ke.map)(r=>JSON.parse(r))).subscribe({next:r=>{const n=(0,je.isWeb3ResponseMessage)(r)?r:null;!n||this.handleWeb3ResponseMessage(n)},error:()=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(Ne.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch{return}}handleWeb3ResponseMessage(e){var r;const{response:n}=e;if((r=this.diagnostic)===null||r===void 0||r.log(Ne.EVENTS.WEB3_RESPONSE,{eventId:e.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash()}),(0,Fe.isRequestEthereumAccountsResponse)(n)){et.accountRequestCallbackIds.forEach(i=>this.invokeCallback(Object.assign(Object.assign({},e),{id:i}))),et.accountRequestCallbackIds.clear();return}this.invokeCallback(e)}handleErrorResponse(e,r,n,i){this.handleWeb3ResponseMessage((0,je.Web3ResponseMessage)({id:e,response:(0,Fe.ErrorResponse)(r,(n!=null?n:Zs.WalletUIError.UserRejectedRequest).message,i)}))}invokeCallback(e){const r=this.relayEventManager.callbacks.get(e.id);r&&(r(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){const e={method:Ee.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},r=(0,ye.randomBytesHex)(8),n=o=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,o)};return{promise:new Promise((o,s)=>{var a;this.relayEventManager.callbacks.set(r,c=>{if(this.ui.hideRequestEthereumAccounts(),c.errorMessage)return s(new Error(c.errorMessage));o(c)});const u=((a=window==null?void 0:window.navigator)===null||a===void 0?void 0:a.userAgent)||null;if(u&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(u)){let c;try{(0,ye.isInIFrame)()&&window.top?c=window.top.location:c=window.location}catch{c=window.location}c.href=`https://go.cb-w.com/xoXnYwQimhb?cb_url=${encodeURIComponent(c.href)}`;return}if(this.ui.inlineAccountsResponse()){const c=l=>{this.handleWeb3ResponseMessage((0,je.Web3ResponseMessage)({id:r,response:(0,Fe.RequestEthereumAccountsResponse)(l)}))};this.ui.requestEthereumAccounts({onCancel:n,onAccounts:c})}else{const c=tl.ethErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>n(c)})}et.accountRequestCallbackIds.add(r),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(r,e)}),cancel:n}}selectProvider(e){const r={method:Ee.Web3Method.selectProvider,params:{providerOptions:e}},n=(0,ye.randomBytesHex)(8),i=s=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,r.method,s)},o=new Promise((s,a)=>{this.relayEventManager.callbacks.set(n,l=>{if(l.errorMessage)return a(new Error(l.errorMessage));s(l)});const u=l=>{this.handleWeb3ResponseMessage((0,je.Web3ResponseMessage)({id:n,response:(0,Fe.SelectProviderResponse)(o3.ProviderType.Unselected)}))},c=l=>{this.handleWeb3ResponseMessage((0,je.Web3ResponseMessage)({id:n,response:(0,Fe.SelectProviderResponse)(l)}))};this.ui.selectProvider&&this.ui.selectProvider({onApprove:c,onCancel:u,providerOptions:e})});return{cancel:i,promise:o}}watchAsset(e,r,n,i,o,s){const a={method:Ee.Web3Method.watchAsset,params:{type:e,options:{address:r,symbol:n,decimals:i,image:o},chainId:s}};let u=null;const c=(0,ye.randomBytesHex)(8),l=f=>{this.publishWeb3RequestCanceledEvent(c),this.handleErrorResponse(c,a.method,f),u==null||u()};this.ui.inlineWatchAsset()||(u=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:l,onResetConnection:this.resetAndReload}));const b=new Promise((f,p)=>{this.relayEventManager.callbacks.set(c,I=>{if(u==null||u(),I.errorMessage)return p(new Error(I.errorMessage));f(I)});const g=I=>{this.handleWeb3ResponseMessage((0,je.Web3ResponseMessage)({id:c,response:(0,Fe.WatchAssetReponse)(!1)}))},C=()=>{this.handleWeb3ResponseMessage((0,je.Web3ResponseMessage)({id:c,response:(0,Fe.WatchAssetReponse)(!0)}))};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:C,onCancel:g,type:e,address:r,symbol:n,decimals:i,image:o,chainId:s}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(c,a)});return{cancel:l,promise:b}}addEthereumChain(e,r,n,i,o,s){const a={method:Ee.Web3Method.addEthereumChain,params:{chainId:e,rpcUrls:r,blockExplorerUrls:i,chainName:o,iconUrls:n,nativeCurrency:s}};let u=null;const c=(0,ye.randomBytesHex)(8),l=f=>{this.publishWeb3RequestCanceledEvent(c),this.handleErrorResponse(c,a.method,f),u==null||u()};return this.ui.inlineAddEthereumChain(e)||(u=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:l,onResetConnection:this.resetAndReload})),{promise:new Promise((f,p)=>{this.relayEventManager.callbacks.set(c,I=>{if(u==null||u(),I.errorMessage)return p(new Error(I.errorMessage));f(I)});const g=I=>{this.handleWeb3ResponseMessage((0,je.Web3ResponseMessage)({id:c,response:(0,Fe.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},C=I=>{this.handleWeb3ResponseMessage((0,je.Web3ResponseMessage)({id:c,response:(0,Fe.AddEthereumChainResponse)({isApproved:!0,rpcUrl:I})}))};this.ui.inlineAddEthereumChain(e)&&this.ui.addEthereumChain({onCancel:g,onApprove:C,chainId:a.params.chainId,rpcUrls:a.params.rpcUrls,blockExplorerUrls:a.params.blockExplorerUrls,chainName:a.params.chainName,iconUrls:a.params.iconUrls,nativeCurrency:a.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(e)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(c,a)}),cancel:l}}switchEthereumChain(e,r){const n={method:Ee.Web3Method.switchEthereumChain,params:Object.assign({chainId:e},{address:r})},i=(0,ye.randomBytesHex)(8),o=a=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,n.method,a)};return{promise:new Promise((a,u)=>{this.relayEventManager.callbacks.set(i,b=>{if(b.errorMessage&&b.errorCode)return u(tl.ethErrors.provider.custom({code:b.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(b.errorMessage)return u(new Error(b.errorMessage));a(b)});const c=b=>{if(typeof b=="number"){const f=b;this.handleWeb3ResponseMessage((0,je.Web3ResponseMessage)({id:i,response:(0,Fe.ErrorResponse)(Ee.Web3Method.switchEthereumChain,Zs.WalletUIError.SwitchEthereumChainUnsupportedChainId.message,f)}))}else b instanceof Zs.WalletUIError?this.handleErrorResponse(i,Ee.Web3Method.switchEthereumChain,b,b.errorCode):this.handleWeb3ResponseMessage((0,je.Web3ResponseMessage)({id:i,response:(0,Fe.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},l=b=>{this.handleWeb3ResponseMessage((0,je.Web3ResponseMessage)({id:i,response:(0,Fe.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:b})}))};this.ui.switchEthereumChain({onCancel:c,onApprove:l,chainId:n.params.chainId,address:n.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(i,n)}),cancel:o}}inlineAddEthereumChain(e){return this.ui.inlineAddEthereumChain(e)}getSessionIdHash(){return St.Session.hash(this._session.id)}sendRequestStandalone(e,r){const n=o=>{this.handleErrorResponse(e,r.method,o)},i=o=>{this.handleWeb3ResponseMessage((0,je.Web3ResponseMessage)({id:e,response:o}))};switch(r.method){case Ee.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:r,onSuccess:i,onCancel:n});break;case Ee.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case Ee.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case Ee.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:r,onSuccess:i});break;default:n();break}}onSessionConfigChanged(e){}}et.accountRequestCallbackIds=new Set;Jh([Zh.default],et.prototype,"resetAndReload",null);Jh([Zh.default],et.prototype,"handleIncomingEvent",null);Ji.WalletSDKRelay=et;var oo={};Object.defineProperty(oo,"__esModule",{value:!0});oo.WalletSDKRelayEventManager=void 0;const u3=Z;class c3{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,r=(0,u3.prepend0x)(e.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),e}}oo.WalletSDKRelayEventManager=c3;const l3="@coinbase/wallet-sdk",f3="3.5.2",h3="Coinbase Wallet JavaScript SDK",d3=["cipher","cipherbrowser","coinbase","coinbasewallet","eth","ether","ethereum","etherium","injection","toshi","wallet","walletlink","web3"],p3="dist/index.js",y3="dist/index.d.ts",b3="https://github.com/coinbase/coinbase-wallet-sdk.git",g3="Coinbase, Inc.",v3="Apache-2.0",m3={"pretest:unit":"node compile-assets.js","test:unit":"jest","test:unit:coverage":"yarn test:unit && open coverage/lcov-report/index.html","test:karma":"yarn build-npm && karma start",prebuild:`node -p "'export const LIB_VERSION = ' + JSON.stringify(require('./package.json').version) + ';'" > src/version.ts`,build:"node compile-assets.js && webpack --config webpack.config.js","build-npm":"tsc -p ./tsconfig.build.json","build:dev":"export LINK_API_URL='http://localhost:3000'; yarn build","build:dev:watch":"nodemon -e 'ts,tsx,js,json,css,scss,svg' --ignore 'src/**/*-css.ts' --ignore 'src/**/*-svg.ts' --watch src/ --exec 'yarn build:dev'","build:prod":`yarn prebuild && yarn build && yarn build-npm && cp ./package.json ../../README.md ./LICENSE build/npm && cp -a src/vendor-js build/npm/dist && sed -i.bak 's|  "private": true,||g' build/npm/package.json && rm -f build/npm/package.json.bak`,"lint:types":"tsc --noEmit","lint:prettier":'prettier --check "{src,__tests__}/**/*.(js|ts|tsx)"',"lint:eslint":"eslint ./src --ext .ts,.tsx","fix:eslint":"yarn lint:eslint --fix","fix:prettier":"prettier . --write",release:"./scripts/release.sh"},_3={"@metamask/safe-event-emitter":"2.0.0","@solana/web3.js":"1.52.0","bind-decorator":"^1.0.11","bn.js":"^5.1.1",buffer:"^6.0.3",clsx:"^1.1.0","eth-block-tracker":"4.4.3","eth-json-rpc-filters":"4.2.2","eth-rpc-errors":"4.0.2","json-rpc-engine":"6.1.0",keccak:"^3.0.1",preact:"^10.5.9",qs:"^6.10.3",rxjs:"^6.6.3","sha.js":"^2.4.11","stream-browserify":"^3.0.0",util:"^0.12.4"},w3={"@babel/core":"^7.17.9","@babel/plugin-proposal-decorators":"^7.17.9","@babel/plugin-transform-react-jsx":"^7.17.3","@babel/preset-env":"^7.16.11","@babel/preset-typescript":"^7.16.7","@peculiar/webcrypto":"^1.3.3","@testing-library/jest-dom":"^5.16.4","@testing-library/preact":"^2.0.1","@types/bn.js":"^4.11.6","@types/jest":"^27.4.1","@types/node":"^14.14.20","@types/qs":"^6.9.7","@types/sha.js":"^2.4.0","@typescript-eslint/eslint-plugin":"^5.7.0","@typescript-eslint/eslint-plugin-tslint":"^5.7.0","@typescript-eslint/parser":"^5.7.0","babel-jest":"^27.5.1",browserify:"17.0.0","copy-webpack-plugin":"^6.4.1","core-js":"^3.8.2",eslint:"^8.4.1","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.25.3","eslint-plugin-preact":"^0.1.0","eslint-plugin-prettier":"^4.0.0","eslint-plugin-simple-import-sort":"^7.0.0",jasmine:"3.8.0",jest:"^27.5.1","jest-chrome":"^0.7.2","jest-websocket-mock":"^2.3.0",karma:"^6.3.15","karma-browserify":"8.1.0","karma-chrome-launcher":"^3.1.0","karma-jasmine":"^4.0.1",nodemon:"^2.0.6",prettier:"^2.5.1","raw-loader":"^4.0.2","regenerator-runtime":"^0.13.7",sass:"^1.50.0",svgo:"^2.8.0","ts-jest":"^27.1.4","ts-loader":"^8.0.13","ts-node":"^10.7.0",tslib:"^2.0.3",typescript:"^4.1.3",watchify:"4.0.0",webpack:"^5.72.0","webpack-cli":"^4.9.2","whatwg-fetch":"^3.5.0"},S3={node:">= 10.0.0"},E3={name:l3,version:f3,description:h3,keywords:d3,main:p3,types:y3,repository:b3,author:g3,license:v3,scripts:m3,dependencies:_3,devDependencies:w3,engines:S3};Object.defineProperty(rn,"__esModule",{value:!0});rn.CoinbaseWalletSDK=void 0;const x3=bi,A3=gi,C3=pr,k3=Vi,I3=Ji,R3=oo,M3=Z,O3=process.env.LINK_API_URL||"https://www.walletlink.org",Xh=process.env.SDK_VERSION||E3.version||"unknown";class so{constructor(e){var r,n,i;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const o=e.linkAPIUrl||O3;let s;if(e.uiConstructor?s=e.uiConstructor:s=c=>new k3.WalletSDKUI(c),typeof e.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this._overrideIsCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this._diagnosticLogger={log:e.eventListener.onEvent}:this._diagnosticLogger=e.diagnosticLogger,this._reloadOnDisconnect=(i=e.reloadOnDisconnect)!==null&&i!==void 0?i:!0;const a=new URL(o),u=`${a.protocol}//${a.host}`;this._storage=new A3.ScopedLocalStorage(`-walletlink:${u}`),this._storage.setItem("version",so.VERSION),!(this.walletExtension||this.coinbaseBrowser)&&(this._relayEventManager=new R3.WalletSDKRelayEventManager,this._relay=new I3.WalletSDKRelay({linkAPIUrl:o,version:Xh,darkMode:!!e.darkMode,uiConstructor:s,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger}),this.setAppInfo(e.appName,e.appLogoUrl),!e.headlessMode&&this._relay.attachUI())}makeWeb3Provider(e="",r=1){const n=this.walletExtension;if(n)return this.isCipherProvider(n)||n.setProviderInfo(e,r),this._reloadOnDisconnect===!1&&typeof n.disableReloadOnDisconnect=="function"&&n.disableReloadOnDisconnect(),n;const i=this.coinbaseBrowser;if(i)return i;const o=this._relay;if(!o||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return e||o.setConnectDisabled(!0),new C3.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(o),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:r,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(e,r){var n;this._appName=e||"DApp",this._appLogoUrl=r||(0,M3.getFavicon)();const i=this.walletExtension;i?this.isCipherProvider(i)||i.setAppInfo(this._appName,this._appLogoUrl):(n=this._relay)===null||n===void 0||n.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;const r=this.walletExtension;r?r.close():(e=this._relay)===null||e===void 0||e.resetAndReload()}getQrUrl(){var e,r;return(r=(e=this._relay)===null||e===void 0?void 0:e.getQRCodeUrl())!==null&&r!==void 0?r:null}getCoinbaseWalletLogo(e,r=240){return(0,x3.walletLogo)(e,r)}get walletExtension(){var e;return(e=window.coinbaseWalletExtension)!==null&&e!==void 0?e:window.walletLinkExtension}get coinbaseBrowser(){var e,r;try{const n=(e=window.ethereum)!==null&&e!==void 0?e:(r=window.top)===null||r===void 0?void 0:r.ethereum;return n&&"isCoinbaseBrowser"in n&&n.isCoinbaseBrowser?n:void 0}catch{return}}isCipherProvider(e){return typeof e.isCipher=="boolean"&&e.isCipher}}rn.CoinbaseWalletSDK=so;so.VERSION=Xh;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletProvider=t.CoinbaseWalletSDK=void 0;const e=rn,r=pr;var n=rn;Object.defineProperty(t,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return n.CoinbaseWalletSDK}});var i=pr;Object.defineProperty(t,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return i.CoinbaseWalletProvider}}),t.default=e.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=e.CoinbaseWalletSDK,window.CoinbaseWalletProvider=r.CoinbaseWalletProvider,window.WalletLink=e.CoinbaseWalletSDK,window.WalletLinkProvider=r.CoinbaseWalletProvider)})(Ea);const T3=ed(Ea),D3=td({__proto__:null,default:T3},[Ea]);export{D3 as i};
